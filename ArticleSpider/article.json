[{"url": "http://blog.jobbole.com/112617/", "fav_nums": 1, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/321648670d5fb1fe559a6b86b4c1c557.png"], "comment_nums": 0, "url_object_id": "ba818803dbcf536ccfb4c3dad025e02d", "create_date": "2017-10-13", "praise_nums": "2", "tags": "IT技术,Linux,Python", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/7/brewing-beer-python-and-raspberry-pi\">Christopher Aedo</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8942-1.html\">Linux中国/hwlife</a>   </div><blockquote><p>怎样在家用 Python 和树莓派搭建一个家用便携的自制酿啤酒装置</p></blockquote>\n<p>大约十年前我开始酿制自制啤酒，和许多自己酿酒的人一样，我开始在厨房制造提纯啤酒。这需要一些设备并且做出来后确实是好的啤酒，最终，我用一个放入了所有大麦的大贮藏罐作为我的麦芽浆桶。几年之后我一次酿制过 5 加仑啤酒，但是酿制 10 加仑时也会花费同样的时间和效用（只是容器比之前大些），之前我就是这么做的。容量提升到 10 加仑之后，我偶然看到了 <a href=\"http://dougedey.github.io/SB_Elsinore_Server/\">StrangeBrew Elsinore</a> ，我意识到我真正需要的是将整个酿酒过程转换成全电子化的，用树莓派来运行它。</p>\n<p>建造自己的家用电动化酿酒系统需要大量这方面的技术信息，许多学习酿酒的人是在 <a href=\"http://theelectricbrewery.com/\">TheElectricBrewery.com</a> 这个网站起步的，只不过将那些控制版搭建在一起是十分复杂的，尽管最简单的办法在这个网站上总结的很好。当然你也能用<a href=\"http://www.instructables.com/id/Electric-Brewery-Control-Panel-on-the-Cheap/\">一个小成本的方法</a>并且依旧可以得到相同的结果 —— 用一个热水壶和热酒容器通过一个 PID 控制器来加热你的酿酒原料。但是我认为这有点太无聊（这也意味着你不能体验到完整的酿酒过程）。</p>\n<h3 id=\"toc_1\">需要用到的硬件</h3>\n<p>在我开始我的这个项目之前, 我决定开始买零件，我最基础的设计是一个可以将液体加热到 5500 瓦的热酒容器（HLT）和开水壶，加一个活底的麦芽浆桶，我通过一个 50 英尺的不锈钢线圈在热酒容器里让泵来再循环麦芽浆（<a href=\"https://byo.com/hops/item/1325-rims-and-herms-brewing-advanced-homebrewing\">“热量交换再循环麦芽浆系统, 也叫 HERMS</a>）。同时我需要另一个泵来在热酒容器里循环水，并且把水传输到麦芽浆桶里，整个电子部件全部是用树莓派来控制的。</p>\n<p>建立我的电子酿酒系统并且尽可能的自动化意味着我需要以下的组件：</p>\n<ul>\n<li>一个 5500 瓦的电子加热酒精容器（HLT）</li>\n<li>能够放入加热酒精容器里的 50 英尺（0.5 英寸）的不锈钢线圈（热量交换再循环麦芽浆系统）</li>\n<li>一个 5500 瓦的电子加热水壶</li>\n<li>多个固态继电器加热开关</li>\n<li>2 个高温食品级泵</li>\n<li>泵的开关用继电器</li>\n<li>可拆除装置和一个硅管</li>\n<li>不锈钢球阀</li>\n<li>一个测量温度的探针</li>\n<li>很多线</li>\n<li>一个来容纳这些配件的电路盒子</li>\n</ul>\n<p><img class=\"aligncenter\" title=\"Brew system\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/321648670d5fb1fe559a6b86b4c1c557.png\" alt=\"Brew system\"></p>\n<p style=\"text-align: center\"><em>酿酒系统 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>建立酿酒系统的电气化方面的细节 <a href=\"http://theelectricbrewery.com/\">The Electric Brewery</a> 这个网站概括的很好，这里我不再重复，当你计划用树莓派代替这个 PID 控制器的话，你可以读以下的建议。</p>\n<p>一个重要的事情需要注意，固态继电器（SSR）信号电压，许多教程建议使用一个 12 伏的固态继电器来关闭电路，树莓派的 GPIO 针插口只支持 3 伏输出电压，然而，必须购买继电器将电压变为 3 伏。</p>\n<p style=\"text-align: center\"><img title=\"Inkbird SSR\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f0d9beae7a48846d36fdd52d50e8770b.png\" alt=\"Inkbird SSR\"></p>\n<p style=\"text-align: center\"><em>Inkbird SSR (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>要运行酿酒系统，你的树莓派必须做两个关键事情：测量来自几个不同位置的温度，用继电器开关来控制加热元件，树莓派很容易来处理这些任务。</p>\n<p>这里有一些不同的方法来将温度传感器连到树莓派上，但是我找到了最方便的方法用<a href=\"https://en.wikipedia.org/wiki/1-Wire\">单总线</a>。这就可以让多个传感器分享相同的线路（实际上是三根线），这三根线可以使酿酒系统的多个设备更方便的工作，如果你要从网上找一个防水的 DS18B20 温度传感器，你可以会找到很多选择。我用的是<a href=\"https://smile.amazon.com/gp/product/B018KFX5X0/\">日立 DS18B20 防水温度传感器</a>。</p>\n<p>要控制加热元件，树莓派包括了几个用来软件寻址的总线扩展器（GPIO），它会通过在某个文件写入 0 或者 1 让你发送3.3v 的电压到一个继电器，在我第一次了解树莓派是怎样工作的时候，这个<a href=\"http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/\">用 GPIO 驱动继电器的树莓派教程</a>对我来说是最有帮助的，总线扩展器控制着多个固态继电器，通过酿酒软件来直接控制加热元件的开关。</p>\n<p>我首先将所有部件放到这个电路盒子，因为这将成为一个滚动的小车，我要让它便于移动，而不是固定不动的，如果我有一个店（比如说在车库、工具房、或者地下室），我需要要用一个装在墙上的更大的电路盒，而现在我找到一个大小正好的<a href=\"http://amzn.to/2hupFCr\">防水工程盒子</a>，能放进每件东西，最后它成为小巧紧凑工具盒，并且能够工作。在左下角是和树莓派连接的为总线扩展器到单总线温度探针和<a href=\"http://amzn.to/2hL8JDS\">固态继电器</a>的扩展板。</p>\n<p>要保持 240v 的固态继电器温度不高，我在盒子上切了个洞，在盒子的外面用 CPU 降温凝胶把<a href=\"http://amzn.to/2i4DYwy\">铜片散热片</a>安装到盒子外面的热槽之间。它工作的很好，盒子里没有温度上的问题了，在盒子盖上我放了两个开关为 120v 的插座，加两个240v 的 led 来显示加热元件是否通电。我用干燥器的插座和插头，所以可以很容易的断开电热水壶的连接。首次尝试每件事情都工作正常。（第一次绘制电路图必有回报）</p>\n<p>这个照片来自“概念”版，最终生产系统应该有两个以上的固态继电器，以便 240v 的电路两个针脚能够切换，另外我将通过软件来切换泵的开关。现在通过盒子前面的物理开关控制它们，但是也很容易用继电器控制它们。</p>\n<p style=\"text-align: center\"><img title=\"Control box\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/05a735d6ed711e79d3186afe8665529a.png\" alt=\"Control box\"></p>\n<p style=\"text-align: center\"><em>控制盒子 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>唯一剩下有点棘手的事情是温度探针的压合接头，这个探针安装在加热酒精容器和麦芽浆桶球形的最底部阀门前的 T 字型接头上。当液体流过温度传感器，温度可以准确显示。我考虑加一个套管到热水壶里，但是对于我的酿造工艺没有什么用。最后，我买到了<a href=\"https://www.brewershardware.com/CF1412.html\">四分之一英寸的压合接头</a>，它们工作完美。</p>\n<h3 id=\"toc_2\">软件</h3>\n<p>一旦硬件整理好，我就有时间来处理软件了，我在树莓派上跑了最新的 <a href=\"https://www.raspberrypi.org/downloads/raspbian/\">Raspbian 发行版</a>，操作系统方面没有什么特别的。</p>\n<p>我开始使用 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 酿酒软件，当我的朋友问我是否我听说过 <a href=\"https://brewtronix.com/\">Hosehead</a>（一个基于树莓派的酿酒控制器），我找到了 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 。我认为 <a href=\"https://brewtronix.com/\">Hosehead</a> 很棒，但我并不是要买一个酿酒控制器，而是要挑战自己，搭建一个自己的。</p>\n<p>设置 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 很简单，其<a href=\"http://dougedey.github.io/SB_Elsinore_Server/\">文档</a>直白，没有遇到任何的问题。尽管 Strangebrew Elsinore 工作的很好，但在我的一代树莓派上运行 java 有时是费力的，不止崩溃一次。我看到这个软件开发停顿也很伤心，似乎他们也没有更多贡献者的大型社区（尽管有很多人还在用它）。</p>\n<h4 id=\"toc_3\">CraftBeerPi</h4>\n<p>之后我偶然遇到了一个用 Python 写的 <a href=\"http://www.craftbeerpi.com/\">CraftbeerPI</a>，它有活跃的贡献者支持的开发社区。原作者（也是当前维护者） Manuel Fritsch 在贡献和反馈问题处理方面做的很好。克隆<a href=\"https://github.com/manuel83/craftbeerpi\">这个仓库</a>然后开始只用了我一点时间。其 README 文档也是一个连接 DS1820 温度传感器的好例子，同时也有关于硬件接口到树莓派或者<a href=\"https://www.nextthing.co/pages/chip\">芯片电脑</a> 的注意事项。</p>\n<p>在启动的时候，CraftbeerPI 引导用户通过一个设置过程来发现温度探针是否可用，并且让你指定哪个 GPIO 总线扩展器指针来管理树莓派上哪个配件。</p>\n<p style=\"text-align: center\"><img title=\"CraftBeerPi\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f8a03ee6fc9b1756098dc00077f89a6e.png\" alt=\"CraftBeerPi\"></p>\n<p style=\"text-align: center\"><em>CraftBeerPi (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>用这个系统进行自制酿酒是容易的，我能够依靠它掌握可靠的温度，我能输入多个温度段来控制麦芽浆温度，用CraftbeerPi 酿酒的日子有一点点累，但是我很高兴用传统的手工管理丙烷燃烧器的“兴奋”来换取这个系统的有效性和持续性。</p>\n<p>CraftBeerPI 的用户友好性鼓舞我设置了另一个控制器来运行“发酵室”。就我来说，那是一个二手冰箱，我用了 50 美元加上放在里面的 25 美元的加热器。CraftBeerPI 很容易控制电器元件的冷热，你也能够设置多个温度阶段。举个例子，这个图表显示我最近做的 IPA 进程的发酵温度。发酵室发酵麦芽汁在 67F° 的温度下需要 4 天，然后每 12 小时上升一度直到温度到达 72F°。剩下两天温度保持不变是为了双乙酰生成。之后 5 天温度降到 65F°，这段时间是让啤酒变“干”，最后啤酒发酵温度直接降到 38F°。CraftBeerPI 可以加入各个阶段，让软件管理发酵更加容易。</p>\n<p style=\"text-align: center\"><img title=\"SIPA fermentation profile\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/8d7c5fbb9698918300bfb2f9fa06f4a9.png\" alt=\"SIPA fermentation profile\"></p>\n<p style=\"text-align: center\"><em>SIPA 发酵设置 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>我也试验过用<a href=\"https://tilthydrometer.com/\">液体比重计</a>来对酵啤酒的比重进行监测，通过蓝牙连接的浮动传感器可以达到。有一个整合的计划能让 CraftbeerPi 很好工作，现在它记录这些比重数据到谷歌的电子表格里。一旦这个液体比重计能连接到发酵控制器，设置的自动发酵设置会基于酵母的活动性直接运行且更加容易，而不是在 4 天内完成主要发酵，可以在比重稳定 24 小时后设定温度。</p>\n<p>像这样的一些项目，构想并计划改进和增加组件是很容易，不过，我很高兴今天经历过的事情。我用这种装置酿造了很多啤酒，每次都能达到预期的麦芽汁比率，而且啤酒一直都很美味。我的最重要的消费者 —— 就是我！很高兴我可以随时饮用。</p>\n<p style=\"text-align: center\"><img title=\"Homebrew on tap\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/0d180cf46d1a47410f56355cb4bf490b.png\" alt=\"Homebrew on tap\"></p>\n<p style=\"text-align: center\"><em>随时饮用 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>这篇文章基于 Christopher 的开放的西部的讲话《用Linux、Python 和树莓派酿制啤酒》。</p>\n<p><strong>作者简介</strong></p>\n<p>Christopher Aedo 从他的学生时代就从事并且贡献于开源软件事业。最近他在 IBM 领导一个极棒的上游开发者团队，同时他也是开发者拥护者。当他不再工作或者实在会议室演讲的时候，他可能在波特兰市俄勒冈州用树莓派酿制和发酵一杯美味的啤酒。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112617\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112617votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112617\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "用 Linux、Python 和树莓派酿制啤酒", "front_image_path": "full/83d9155a881b52f5a7e8ab8999c0407f73b4bcea.jpg"},{"url": "http://blog.jobbole.com/112558/", "fav_nums": 2, "front_image_url": ["http://insights.thoughtworks.cn/wp-content/uploads/2017/09/code-coverage1.jpg"], "comment_nums": 0, "url_object_id": "8b7e6b84fa50e4e0fcb453f5fca4ddbf", "create_date": "2017-09-27", "praise_nums": "1", "tags": "IT技术,单元测试", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<h3>引言</h3>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/code-coverage1.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/code-coverage1.jpg\" alt=\"\" width=\"345\" height=\"247\"></a></p>\n<p>（图片来自：<a href=\"http://t.cn/R06rQHi\">http://t.cn/R06rQHi</a>）</p>\n<p>很多人看到这个标题时，都会想“你都100%代码覆盖了，怎么还会有问题呢？” 让我们看一下代码例子:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e27e95c7c9f553005656\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic class TestCalculator {\r\n\r\n       public Double add(Double a, Double b) {\r\n\r\n              return a + b;}\r\n\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7c9f553005656-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7c9f553005656-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7c9f553005656-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7c9f553005656-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7c9f553005656-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7c9f553005656-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7c9f553005656-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e27e95c7c9f553005656-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TestCalculator</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7c9f553005656-2\"> </div><div class=\"crayon-line\" id=\"crayon-59e27e95c7c9f553005656-3\"><span class=\"crayon-h\">       </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7c9f553005656-4\"> </div><div class=\"crayon-line\" id=\"crayon-59e27e95c7c9f553005656-5\"><span class=\"crayon-h\">              </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7c9f553005656-6\"> </div><div class=\"crayon-line\" id=\"crayon-59e27e95c7c9f553005656-7\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>再看看用junit写出的测试代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e27e95c7ca9785368572\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@ Test\r\npublic void testAdd() {\r\n\r\n       Double a = new Double(1);\r\n\r\n       Double b = new Double(2);\r\n\r\n       Double c = new Double(3);\r\n\r\n       assertEquals(c, testCalculator.add(a, b));\r\n\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7ca9785368572-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7ca9785368572-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Test</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-2\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">testAdd</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-4\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-6\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-8\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-10\"><span class=\"crayon-h\">       </span><span class=\"crayon-e\">assertEquals</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">testCalculator</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7ca9785368572-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7ca9785368572-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>当我们使用<a href=\"http://www.eclemma.org/\">EclEmma</a>或者<a href=\"https://github.com/jacoco/jacoco\">Jacoco</a>来进行覆盖测试时，对于这个类，我们将得到100%测试覆盖率。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/test.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/test.png\" alt=\"\" width=\"975\" height=\"339\"></a></p>\n<p>一切看起来都那么的完美，真是这样的吗？</p>\n<p>好吧，让我们来来看看另一个测试，当其中一个变量为null时，返回值将会是什么？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e27e95c7cad750464378\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@ Test\r\npublic void testAddNullPointerException() {\r\n\r\n       Double a = new Double(1);\r\n\r\n       Double b = null;\r\n\r\n       Double c = new Double(3);\r\n\r\n       assertEquals(c, testCalculator.add(a, b));\r\n\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e27e95c7cad750464378-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e27e95c7cad750464378-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Test</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-2\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">testAddNullPointerException</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-4\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-6\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-8\"><span class=\"crayon-h\">       </span><span class=\"crayon-t\">Double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Double</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-10\"><span class=\"crayon-h\">       </span><span class=\"crayon-e\">assertEquals</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">testCalculator</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e27e95c7cad750464378-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e27e95c7cad750464378-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>好了，你会发现尽管覆盖率为100%，但程序却抛出了NullPointerException。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/NullPointerException.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/NullPointerException.png\" alt=\"\" width=\"975\" height=\"725\"></a></p>\n<p>那么肯定有人会问，这样的话单元测试覆盖率的高低都不能作为衡量项目代码质量的指标，那么我们要单元测试还有什么用？</p>\n<p>首先，我想我们可能搞错了测试覆盖的定义。</p>\n<p>我们先听听Martin Fowler对于测试覆盖的<a href=\"https://martinfowler.com/bliki/TestCoverage.html\">定义</a>：</p>\n<blockquote><p>Test coverage is a useful tool for finding untested parts of a codebase. Test coverage is of little use as a numeric statement of how good your tests are.</p></blockquote>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/Test-coverage.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/Test-coverage.png\" alt=\"\" width=\"844\" height=\"289\"></a></p>\n<p>（图片来自：<a href=\"https://martinfowler.com/bliki/TestCoverage.html\">https://martinfowler.com/bliki/TestCoverage.html</a>）</p>\n<p>他认为：把测试覆盖作为质量目标没有任何意义，我们应该把它作为一种发现未被测试覆盖的代码的手段。</p>\n<h3>所以100%的代码覆盖率还值得追求吗?</h3>\n<p>当然，这应该是每个程序员毕生的追求之一，但是如果从项目角度考虑ROI(投入产出比)，对于需要快速上线的短期项目，需要注重的是让测试覆盖核心功能代码。如果你的项目是一个长期项目，那么高覆盖率是非常有必要的，它意味着高可维护性，以及更少的bug。(前提是你的测试采用TDD/BDD方式编写，我见过将测试代码写的一团糟的人，看着他的代码，我宁愿重新写一遍)</p>\n<h3>那么对于一个项目来说，覆盖率应该达到多少？</h3>\n<p>其实没有适用于所有项目的数值，每个项目都应有自己的阈值，但共性是，测试必须覆盖主要业务场景，代码的逻辑分支也必须尽可能的覆盖。</p>\n<h3>如何改进你的项目代码覆盖率？</h3>\n<p><strong>首先</strong>我们要阅读和理解项目代码，找出其中需要测试并且与业务强相关的代码，结合sonar等代码质量管理平台，从代码编写规范、复杂度、重复代码等方面进行代码重构，进一步提高项目的可维护性与可读性。</p>\n<p>这也意味着重构，重构的同时，你需要更多的测试来保证你重构代码的正确性。</p>\n<p><strong>其次</strong>要对code coverage进行度量分析，那么我们应该怎么度量code coverage？</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/line-coverage.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/09/line-coverage.png\" alt=\"\" width=\"975\" height=\"448\"></a></p>\n<p>一般来说我们从以下四个维度来度量，如上图所示:</p>\n<ol>\n<li><strong>行覆盖率</strong>（line coverage）：度量被测代码中每个可执行语句是否都被执行到，但不包括java import，空行，注释等。</li>\n<li><strong>函数覆盖率</strong>（function coverage）：度量被测代码中每个定义的函数是否都被调用。</li>\n<li><strong>分支覆盖率</strong>（branch coverage）：度量被测代码中每一个判定的分支是否都被测试到。</li>\n<li><strong>语句覆盖率</strong>（statement coverage）：度量被测代码是否每个语句都被执行。</li>\n</ol>\n<p>所以行覆盖率的高低不能说明项目的好坏，我们要从多方面进行思考，一般我们遵循的标准应是：<strong>函数覆盖率 &gt; 分支覆盖率 &gt; 语句覆盖率**</strong>。</p>\n<p><strong>代码覆盖率最重要的意义在于：</strong></p>\n<ul>\n<li>阅读分析之前项目中未覆盖部分的代码，进而反推在前期QA以及相关测试人员在进行黑盒测试设计时是否考虑充分，没有覆盖到的代码是否是测试设计的盲点，为什么没有考虑到？是需求或者UX设计不够清晰，还是测试设计的理解有误。</li>\n<li>检测出程序中的废代码，可以逆向反推代码设计中不合理的地方，提醒设计/开发人员理清代码逻辑关系，提升代码质量。</li>\n<li>代码覆盖率高不能说明代码质量高，但是反过来看，代码覆盖率低，代码质量绝对不会高到哪里去，可以作为测试自我审视的重要工具之一。</li>\n</ul>\n<h3>结束语</h3>\n<p>单元测试的覆盖率并不只是为了取悦客户或者管理层的数据，它能够实实在在反应项目中代码的健康程度，帮助我们更好的改善了代码的质量，增加了我们对所编写代码的信心。</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112558\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112558votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112558\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 72</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "都100%代码覆盖了，还会有什么问题？", "front_image_path": "full/dec5425a992cec7adad5bc59a5b2195be2cf7eec.jpg"},{"url": "http://blog.jobbole.com/112585/", "fav_nums": 2, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/28eca50ca0450d717356b11a96f9935c.jpeg"], "comment_nums": 1, "url_object_id": "834c214f46c9c6176a4e3a3de0972b2a", "create_date": "2017-10-09", "praise_nums": "1", "tags": "IT技术,开发", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://hackernoon.com/programming-isnt-easy-coding-is-a1efcf97a264\">Hackernoon</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/programming-isnt-easy-coding-is\">开源中国</a>   </div><p>当我的编程生涯开始的时候，我认为“编程很简单……怎么会需要去学校学习呢？”但经过学习和实践，我了解到编程很难。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/28eca50ca0450d717356b11a96f9935c.jpeg\"></p>\n<p style=\"text-align: center\"><a href=\"https://memegenerator.net/instance/78362391/futurama-fry-not-sure-if-programming-is-easy-or-if-i-know-nothing\" target=\"_blank\" rel=\"nofollow\">不知道是编程不难还是我什么都不懂</a>。 ~MemeGenerator.net</p>\n<p>自我评价对我自己来说一直都很重要，因为在一天结束的时候，不管别人怎么想，自己的想法都很重要。我会在评价中思考强项、弱项、学习、训练和个人成长。这个过程让我反思、理解并思考成为一个程序员究竟意味着什么。</p>\n<h3>教育：编码？编程？关键性的抨击？</h3>\n<p>我在技术领域的第一份工作主要是通过 HTML、CSS 和 JavaScript 操作一些元素并创建视觉效果。在这段时间里，我没有真正想到自己是一个程序员，对于这个问题，我从来没有想要成为一个真正的程序员。不久以后我想使用 NodeJS、PHP 和 MySQL 做更多事情，这时候我开始考虑这个问题。把我作为程序员的所有宏伟想法加起在一起，我在第一份工作中把自己当作一个小小的“软件工程师”，一直都在积极地制定方案。</p>\n<blockquote><p>“经验告诉我，我会颇具气势地拍、打和敲击键盘，但那并不是编程。”</p></blockquote>\n<p>编程需要思考和理解各种数据类型、结构，并理解编程语言赖以构建服务的技术。差异主要在于完成特定任务时所使用的流程。重点不在于数据类型、设计模式、算法类型、性能或任何与代码和应用程序质量相关的内容。相反，它被纳入了实际的工作机制和技艺之中，这往往需要耗费大量的时间，最终变成一只难以维护的巨兽。一直运行输出到不同地方，并积极地测试输出，直到它非常类似于一个功能。如果有什么事情给我一种编程的感觉，但我在实际操作中并没有做到将想法付诸行动。</p>\n<h3>思考数据</h3>\n<p>数据结构是我感受到教育不足的一个方面。数据结构背后的想法是，你有不同的方法去存储、提取、排序和搜索数据。最初当我开始编程，我从来没有想过各种数据的任务与数据类型的性能。对需要存储、排序或遍历的任何事物，通常默认使用数组（<em>包括哈希、json、字典，以及键-值数据集的其他术语</em>）。</p>\n<p>从计算机科学的角度看，集合、堆栈和队列对我来说是很有趣的，但在 Ruby 编程语言中看到一些实际操作之后，对我来说并不那么吸引人。在我看来，堆栈和队列是一样的，它们允许你从数据的末端获取信息，队列的例外情况是，你只能按照它们加入的顺序获得这些项。当我开始想象这一点时，我想把东西放在一个列表中，等待处理，减少可在后台运行的任务的开销。事实上在高层次的编程语言如 Ruby 中对此付诸实践，并没有多大意义，因为它基本上是在往数组中 push（后追加）或 unshift（前添加）元素。</p>\n<p>比如，Ruby 中的栈可以像下面的代码一样简单。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aafcbfd30686678700\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass Stack\r\n  # init stack \r\n  def initialize\r\n     = Array.new() \r\n  end\r\n  # put a new item at the end of the stack \r\n  def push(x)\r\n    .push x\r\n  end\r\n  # get the last item in the stack\r\n  def grab\r\n    .pop\r\n  end\r\n  # is the set empty true false bool \r\n  def empty?\r\n    .empty?\r\n  end\r\nend\r\n# implemented stack\r\ns = Stack.new&lt;Stack:0x48b66454 =[\"a\", \"b\", \"c\"]&gt; \r\nputs s.grab # \"c\" \r\nputs s.grab # \"b\" \r\nputs s.grab # \"a\" \r\ns.grab.inspect # nil</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd30686678700-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd30686678700-24\">24</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-1\"><span class=\"crayon-t\">class</span> <span class=\"crayon-i\">Stack</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-2\">  <span class=\"crayon-p\"># init stack </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-3\">  <span class=\"crayon-i\">def</span> <span class=\"crayon-i\">initialize</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-4\">     <span class=\"crayon-o\">=</span> <span class=\"crayon-t\">Array</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">new</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span> </div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-5\">  <span class=\"crayon-st\">end</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-6\">  <span class=\"crayon-p\"># put a new item at the end of the stack </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-7\">  <span class=\"crayon-i\">def</span> <span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-8\">    <span class=\"crayon-sy\">.</span><span class=\"crayon-i\">push</span> <span class=\"crayon-i\">x</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-9\">  <span class=\"crayon-st\">end</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-10\">  <span class=\"crayon-p\"># get the last item in the stack</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-11\">  <span class=\"crayon-i\">def</span> <span class=\"crayon-i\">grab</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-12\">    <span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pop</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-13\">  <span class=\"crayon-st\">end</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-14\">  <span class=\"crayon-p\"># is the set empty true false bool </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-15\">  <span class=\"crayon-i\">def</span> <span class=\"crayon-v\">empty</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-16\">    <span class=\"crayon-sy\">.</span><span class=\"crayon-v\">empty</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-17\">  <span class=\"crayon-st\">end</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-18\"><span class=\"crayon-st\">end</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-19\"><span class=\"crayon-p\"># implemented stack</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-20\"><span class=\"crayon-i\">s</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-v\">Stack</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">new</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Stack</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0x48b66454</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"a\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"b\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"c\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-21\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">grab</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># \"c\" </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-22\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">grab</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># \"b\" </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd30686678700-23\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">grab</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># \"a\" </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd30686678700-24\"><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">grab</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">inspect</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># nil</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>队列和上面创建的数据类型基本上是一样的，<a href=\"http://ruby-doc.org/stdlib-2.0.0/libdoc/thread/rdoc/Queue.html\" target=\"_blank\" rel=\"nofollow\">Ruby 已经有一个类</a>了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aafcbfd3e396927721\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# ruby Queue Class\r\nq = Queue.new\r\nq &lt;&lt; 'a' \r\nq &lt;&lt; 'b'\r\n# Tests Examples using Queue\r\nputs q.length  # prints 2 \r\nputs q.pop # prints a\r\nputs q.length # prints 1 \r\nputs q.pop # prints b \r\nputs q.length #prints 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd3e396927721-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd3e396927721-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd3e396927721-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd3e396927721-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd3e396927721-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd3e396927721-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd3e396927721-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd3e396927721-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd3e396927721-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd3e396927721-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd3e396927721-1\"><span class=\"crayon-p\"># ruby Queue Class</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd3e396927721-2\"><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Queue</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">new</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd3e396927721-3\"><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'a'</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd3e396927721-4\"><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'b'</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd3e396927721-5\"><span class=\"crayon-p\"># Tests Examples using Queue</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd3e396927721-6\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-h\">  </span><span class=\"crayon-p\"># prints 2 </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd3e396927721-7\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pop</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># prints a</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd3e396927721-8\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># prints 1 </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd3e396927721-9\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pop</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># prints b </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd3e396927721-10\"><span class=\"crayon-i\">puts</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#prints 0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p>它的简单性是基于一个非常简单的数组，这本身就体现了它的美。我看到自己在命令行脚本中使用栈或队列，但我不确定还可以在别的什么地方使用它们。</p>\n<p>二叉搜索树在处理搜索数据的时间和速度上吸引了我。我经常发现从数据中获取数据非常容易，但在数组中搜索需要花大量时间。<a href=\"http://cs50.tv/2012/fall/shorts/binary_search/binary_search-720p.mp4\" target=\"_blank\" rel=\"nofollow\">这就是为什么需要二叉搜索树，我非常喜欢哈佛的这段视频</a>。虽然我并没有使用这些东西来做过什么，但是非常想用它们来实现点东西，然后将之与原生 Ruby 的数组方法进行比较，看看二叉树比普通的数组或哈希快多少。我在关于二叉权势的研究中试图找到实际的用例，于是发现了这些有意思的文章。</p>\n<ul>\n<li><a href=\"https://gist.github.com/yuya-takeyama/812489\" target=\"_blank\" rel=\"nofollow\">搜索字符串</a> — 来源于 <a href=\"https://gist.github.com/yuya-takeyama/812489\" target=\"_blank\" rel=\"nofollow\">yuya-takeyama</a> 的 Gist</li>\n<li><a href=\"http://zvkemp.github.io/blog/2014/04/25/binary-search-trees-in-ruby/\" target=\"_blank\" rel=\"nofollow\">数值搜索</a> — 来源于 Zach Kemp</li>\n</ul>\n<h3>可维护性</h3>\n<p>我的第一个 Web 应用在可维护性方面可笑极了。没有编码规范，没有设计模式，没有对定义的方法进行整理，没有使用命名空间，也没有对象和模型。如果一定要我去修复缺陷(肯定会有)，与其去找实际导致缺陷的方法，还不如重写来得快些。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/dbcfae515d1c76063b8b77d42033fcfe.jpeg\"></p>\n<p>设计拙劣导致乱糟糟的代码。</p>\n<p>我难以处理的问题之一是条件嵌套和循环嵌套。这些循环中存在大量的 if 语句和验证，但这个问题本身来源于一个系统性的问题，即不清楚怎样恰当地组织和拆分程序的不同部分。我曾尝试着在一个巨大的方法中处理所有事情，不关心哪些代码可以重用，也没创建一个模块来扩展对象和方法的功能。为了节省篇幅，下面的代码截取自真实的代码。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aafcbfd44631541222\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprint \" &lt;h3&gt; Display Weekdays: &lt;/h3&gt; \";\r\n// Looping in a view ... should have been factored diff\r\nforeach($imageRecords[\"display\"] as $ =&gt; $displayRecords) {         \r\n     // WTF is this a nested foreach \r\n     foreach($displayRecords as $value =&gt; $dispRecord){\r\n       $tempWeekdayValuesArray = array();\r\n          if($value === \"weekdays\" &amp;&amp; !isnull($dispRecord)) {\r\n             // 3rd nested foreach WTF!\r\n             foreach($dispRecord as $weekday =&gt; $weekbool) {\r\n                 // :( condition foreach day ::SHAME::\r\n                 if($weekday == \"monday\" &amp;&amp; $weekbool == 1) {\r\n                    // logic removed \r\n                  }\r\n              }\r\n              \r\n           }\r\n      }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59e2aafcbfd44631541222-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aafcbfd44631541222-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-1\"><span class=\"crayon-i\">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\" &lt;h3&gt; Display Weekdays: &lt;/h3&gt; \"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-2\"><span class=\"crayon-c\">// Looping in a view ... should have been factored diff</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-3\"><span class=\"crayon-st\">foreach</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">imageRecords</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"display\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">displayRecords</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">         </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-4\"><span class=\"crayon-h\">     </span><span class=\"crayon-c\">// WTF is this a nested foreach </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-5\"><span class=\"crayon-h\">     </span><span class=\"crayon-st\">foreach</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">displayRecords </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">dispRecord</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-6\"><span class=\"crayon-h\">       </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">tempWeekdayValuesArray</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-7\"><span class=\"crayon-h\">          </span><span class=\"crayon-st\">if</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"weekdays\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!</span><span class=\"crayon-e\">isnull</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">dispRecord</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-8\"><span class=\"crayon-h\">             </span><span class=\"crayon-c\">// 3rd nested foreach WTF!</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-9\"><span class=\"crayon-h\">             </span><span class=\"crayon-st\">foreach</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">dispRecord </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">weekday</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">weekbool</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-10\"><span class=\"crayon-h\">                 </span><span class=\"crayon-c\">// :( condition foreach day ::SHAME::</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-11\"><span class=\"crayon-h\">                 </span><span class=\"crayon-st\">if</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">weekday</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"monday\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">weekbool</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-12\"><span class=\"crayon-h\">                    </span><span class=\"crayon-c\">// logic removed </span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-13\"><span class=\"crayon-h\">                  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-14\"><span class=\"crayon-h\">              </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-15\"><span class=\"crayon-h\">              </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-16\"><span class=\"crayon-h\">           </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59e2aafcbfd44631541222-17\"><span class=\"crayon-h\">      </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aafcbfd44631541222-18\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0047 seconds] -->\r\n<p>我不会把责任推到别人身上，这段坏代码是我写的，我会承认这一点，然而其中一些本来可以通过代码导师、或者通过代码审查和“拉”请求来加以缓解。回顾这段代码，我感到惭愧，但这是一件好事，因为它表明了我作为一个开发人员的成长程度。自由在某些意义上是一个问题，但不是在其他方面。例如，对这个项目我被限制于使用 LAMP 技术栈，这是不容协商的，但与此同时，这真的是唯一的限制。我没有使用设计模式，遵循任何风格指南， 使用代码分析器，或遵循代码公约的任何政策。这就创建了一个系统，你可以自由地使用自己的设备，并且如果你还没有了解应用程序的长期性和错误修复，那么它会损害你的最终结果。</p>\n<p>我已经真正体会到了文本编辑器的好处，在你编写代码时它会给出提示（指出潜在的错误）从而为你节省很多时间，同时我也开始欣赏与编程相关的一些美好细节。一个写得很好的代码库，会遵循文档标准、清晰的约定和风格指南，阅读起来就像一封电子邮件或一篇网文那样流畅。（当然，有时候使用的编程语言本身就更好）总地来说，我也发现我很喜欢这本书中的许多原则， <em><a href=\"https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882\" target=\"_blank\" rel=\"nofollow\">Robert C。 Martin 和其他作者的《敏捷软件匠人的整洁代码手册》</a></em><em> 。</em></p>\n<h3>测试驱动开发</h3>\n<p>在我看来，测试驱动开发的好处足以证明其优点，但我明白，并不是每个人都同意测试为代码库提供任何价值。我不会争论测试的有效性，但我确实想分享它如何帮到我。在实际创建代码之前，为代码编写集成测试和单元测试已经在很多方面帮到我。它帮助我编写更整洁的代码，高效地编写代码，并帮助我解决了我遇到麻烦的问题。</p>\n<p>编写更整洁、更高效的代码与编程中的许多事情有交叉。可读性、性能和编码时间是 TDD 帮到我的主要方面。我发现我能编写代码，不必重构（多次）使其可以上生产线或进入版本控制库。它不仅帮助我减少了 bug，而且帮助我减少了跟踪和修复 bug 所花费的时间。修复 bug 时，我发现我可以接受预期的输入或输出，编写一个与之匹配的测试，然后努力使该测试和所有其他测试通过。这样可以消除 bug，并确保代码实现其预期的目的。</p>\n<p>在开始编写实际的方法或对象之前，TDD 可以帮助我组织思路。在更复杂的功能中，它可以帮助我将功能分解成其需要正常工作的集。也就是说，边界条件就是边界条件，并且在最初创建代码时往往更难于考虑到边界情况。最终我觉得测试驱动开发有助于使我成为更好的程序员。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112585\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112585votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112585\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "写代码容易，编程并不容易", "front_image_path": "full/75353131f53da0611d042f008efd8e428d12ec14.jpg"},{"url": "http://blog.jobbole.com/112580/", "fav_nums": 5, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/5d48fbc415ad93a43ccc4e6f9f2fd95e.png"], "comment_nums": 1, "url_object_id": "a864dc95a7ad9c88a278845d8f2a5e67", "create_date": "2017-10-07", "praise_nums": "1", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.tecmint.com/12-practical-examples-of-linux-grep-command/\">tecmint</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-2250-1.html\">Linux中国/Linux-pdz</a>   </div><p>你是否遇到过需要在文件中查找一个特定的字符串或者样式，但是不知道从哪儿开始？那么,就请<strong>grep</strong>来帮你吧。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5d48fbc415ad93a43ccc4e6f9f2fd95e.png\" alt=\"\"></p>\n<p><strong>grep</strong>是每个<strong>Linux</strong>发行版都预装的一个强有力的文件模式搜索工具。无论何种原因，如果你的系统没有预装它的话，你可以很容易的通过系统的包管理器来安装它（<strong>Debian/Ubuntu</strong>系中的<strong>apt-get</strong>和<strong>RHEl/CentOS/Fedora</strong>系中的<strong>yum</strong>）。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd3f153072213\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n $ sudo apt-get install grep #Debian/Ubuntu $ sudo yum install grep #RHEL/CentOS/Fedora</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd3f153072213-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd3f153072213-1\"><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#Debian/Ubuntu $ sudo yum install grep #RHEL/CentOS/Fedora</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>我发现使用现实世界中的真实例子让你投身其中是让你接触<strong>grep</strong>命令的最容易方式。</p>\n<h3>1.搜索和寻找文件</h3>\n<p>假设你已经在你的电脑上安装了一个全新的<strong>Ubuntu</strong>，然后你打算卸载<strong>Python</strong>。你浏览网页寻找教程，但是你发现存在两个不同版本的<strong>Python</strong>在使用，而你不知道你的<strong>Ubuntu</strong>安装器到底在你的系统中安装了哪个版本的Python，也不知道它安装了哪些模块。解决这个烦恼只需简单的运行以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd4a570499692\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n $ sudo dpkg -l | grep -i python</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd4a570499692-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd4a570499692-1\"><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">python</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h4>输出例子</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd4e538990157\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n   ii  python2.7         2.7.3-0ubuntu3.4 Interactive high-level object-oriented language (version 2.7)\r\n   ii  python2.7-minimal 2.7.3-0ubuntu3.4 Minimal subset of the Python language (version 2.7)\r\n   ii  python-openssl    0.12-1ubuntu2.1  Python wrapper around the OpenSSL library\r\n   ii  python-pam        0.4.2-12.2ubuntu4 A Python interface to the PAM library</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd4e538990157-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aaff6cd4e538990157-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd4e538990157-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2aaff6cd4e538990157-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd4e538990157-1\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">ii  </span><span class=\"crayon-v\">python2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\">         </span><span class=\"crayon-cn\">2.7.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0ubuntu3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Interactive </span><span class=\"crayon-v\">high</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">level </span><span class=\"crayon-t\">object</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">oriented </span><span class=\"crayon-e\">language</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.7</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aaff6cd4e538990157-2\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">ii  </span><span class=\"crayon-v\">python2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">minimal</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.7.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0ubuntu3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Minimal </span><span class=\"crayon-e\">subset </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">Python </span><span class=\"crayon-e\">language</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.7</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd4e538990157-3\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">ii  </span><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">openssl</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1ubuntu2.1</span><span class=\"crayon-h\">  </span><span class=\"crayon-e\">Python </span><span class=\"crayon-e\">wrapper </span><span class=\"crayon-e\">around </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">OpenSSL </span><span class=\"crayon-e\">library</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2aaff6cd4e538990157-4\"><span class=\"crayon-e\">   </span><span class=\"crayon-e\">ii  </span><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">pam</span><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0.4.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12.2ubuntu4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Python </span><span class=\"crayon-t\">interface</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">PAM </span><span class=\"crayon-v\">library</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>首先，我们运行<strong>dpkg -l</strong>列出你系统上安装的<strong>.deb</strong>包。接着，我们使用管道将输出结果传输给命令<strong>grep -i</strong> python，这一步可以简单解释为把结果传输给grep然后过滤出所有含有python的项，并返回结果。–i选项用于忽略大小写,因为 grep 是大小写敏感的。使用选项<strong>-i</strong>是个好习惯，除非你打算进行更细节的搜索。</p>\n<h3>2.搜索和过滤文件</h3>\n<p>grep还可以在一个或多个文件里用于搜索和过滤。让我们来看一个这样的情景：</p>\n<p>你的<strong>Apache网页服务器</strong>出现了问题，你不得不从许多专业网站里找一个发帖询问。好心回复你的人让你粘贴上来你的<strong>/etc/apache2/sites-available/default-ssl</strong>文件内容。假如你能移除掉所有的注释行，那么对你，对帮你的人，以及所有阅读该文件的人，不是更容易发现问题吗？你当然可以很容易的做到！只需这样做就可以了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd5a617775078\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n $ sudo grep -v \"#\" /etc/apache2/sites-available/default-ssl</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd5a617775078-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd5a617775078-1\"><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"#\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">apache2</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sites</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">available</span><span class=\"crayon-o\">/</span><span class=\"crayon-st\">default</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ssl</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>选项<strong>-v</strong>是告诉<strong>grep</strong>命令反转它的输出结果，意思就是不输出匹配的项，做相反的事，打印出所有不匹配的项。这个例子中，有<strong>#</strong>的是注释行（译注：其实这个命令并不准确，包含“#”的行不全是注释行。关于如何精确匹配注释行，可以了解更多的关于正则表达式的内容。）。</p>\n<h3>3.找出所有的mp3文件</h3>\n<p><strong>grep</strong>命令对于过滤来自于<strong>标准输出</strong>的结果非常有用。例如，假设你的一个文件夹里面全是各种格式的音乐文件。你要找出艺术家<strong>jayZ</strong>的所有<strong>mp3</strong>格式的音乐文件，里面也不要有任何混合音轨。使用<strong>find命令</strong>再结合管道使用<strong>grep</strong>就可以完成这个魔法：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd61903237492\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n $ sudo find . -name \".mp3\" | grep -i JayZ | grep -vi \"remix\"\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd61903237492-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd61903237492-1\"><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-i\">find</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\".mp3\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JayZ</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">vi</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"remix\"</span>\"</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>在这个例子中，我们使用find命令打印出所有以<strong>.mp3</strong>为后缀名的文件，接着将其使用管道传递给<strong>grep -i</strong>过滤和打印出名字为“<strong>JayZ</strong>”的文件,再使用管道传送给<strong>grep -vi</strong>以便过滤掉含有“<strong>remix</strong>”的项。</p>\n<ul>\n<li><a href=\"http://www.tecmint.com/35-practical-examples-of-linux-find-command/\" target=\"_blank\" rel=\"external nofollow\">35个Linux中find命令的实践例子</a></li>\n</ul>\n<h3>4.在搜索字符串前面或者后面显示行号</h3>\n<p>另外两个选项是-A和-B之间的切换，是用以显示匹配的行以及行号，分别控制在字符串前或字符串后显示的行数。Man页给出了更加详细的解释，我发现一个记忆的小窍门：-A=after、-B=before。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd67418106500\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n $ sudo ifconfig | grep -A 4 etho $ sudo ifconfig | grep -B 2 UP</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd67418106500-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd67418106500-1\"><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">ifconfig</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">etho</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">ifconfig</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">B</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">UP</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p></p>\n<h3>5.在匹配字符串周围打印出行号</h3>\n<p>grep命令的<strong>-C</strong>选项和例4中的很相似，不过打印的并不是在匹配字符串的前面或后面的行，而是打印出两个方向都匹配的行（译注：同上面的记忆窍门一样：-C=center，以此为中心）： $ sudo ifconfig | grep -C 2 lo</p>\n<h3>6.计算匹配项的数目</h3>\n<p>这个功能类似于将<strong>grep</strong>输出的结果用管道传送给计数器（<strong>wc</strong>程序），grep内建的选项可以达到同样的目的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd6e930679398\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo ifconfig | grep -c inet6</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd6e930679398-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd6e930679398-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">ifconfig</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inet6</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3>7.按给定字符串搜索文件中匹配的行号</h3>\n<p>当你在编译出错时需要调试时，<strong>grep</strong>命令的<strong>-n</strong>选项是个非常有用的功能。它能告诉你所搜索的内容在文件的哪一行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd74472575892\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo grep -n \"main\" setup.py</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd74472575892-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd74472575892-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"main\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">setup</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">py</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3>8.在所有目录里递归的搜索</h3>\n<p>假若你要在当前文件夹里搜索一个字符串，而当前文件夹里又有很多子目录，你可以指定一个<strong>-r</strong>选项以便于递归的搜索： $ sudo grep -r “function” *</p>\n<h3>9.进行精确匹配搜索</h3>\n<p>传递<strong>-w</strong>选项给grep命令可以在字符串中进行精确匹配搜索（译注：包含要搜索的单词，而不是通配）。例如，像下面这样输入：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd78476389058\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo ifconfig | grep -w “RUNNING”</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd78476389058-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd78476389058-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">ifconfig</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">w</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-i\">RUNNING</span>”</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>将打印出含有引号内匹配项的行。另外，你还可以试一下这个：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd7b001146420\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo ifconfig | grep -w “RUN”</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd7b001146420-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd7b001146420-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">ifconfig</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">w</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-i\">RUN</span>”</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>搜索这个匹配项时，若搜索的东西里面没有这样的一个单独的单词，将什么也不会返回。</p>\n<h3>10.在Gzip压缩文件中搜索</h3>\n<p>我们还要关注一下grep的衍生应用。第一个是<strong>zgrep</strong>，这个与<strong>zcat</strong>很相似，可以用于<strong>gzip</strong>压缩过的文件。它有与<strong>grep</strong>相似的命令选项，使用方式也一样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd7f452618826\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo zgrep -i error /var/log/syslog.2.gz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd7f452618826-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd7f452618826-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">zgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">syslog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">2.gz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h3>11.在文件中匹配正则表达式</h3>\n<p><strong>egrep</strong>是另一个衍生应用，代表着“<strong>扩展全局正则表达式</strong>”。它可以识别更多的正则表达式元字符，例如<strong>at + ?</strong> | 和<strong>（）</strong>。在搜索源代码文件时，egrep是一个非常有用的工具，还有其他的一些零碎代码文件的搜索需要，使得这样的搜索能力成为必需。可以在grep命令中使用选项<strong>-E</strong>来启用它。</p>\n<p>$ sudo grep -E</p>\n<h3>12.搜索一个固定匹配字符串</h3>\n<p><strong>fgrep</strong>用于在一个文件或文件列表中搜索固定样式的字符串。功能与<strong>grep -F</strong>同。<strong>fgrep</strong>的一个通常用法为传递一个含有样式的文件给它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2aaff6cd83482685218\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo fgrep -f file_full_of_patterns.txt file_to_search.txt</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2aaff6cd83482685218-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2aaff6cd83482685218-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">fgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file_full_of_patterns</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">file_to_search</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">txt</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>这仅仅是<strong>grep</strong>命令的开始，你可能已经注意到，它对于实现各种各样的需求简直是太有用了。除了这种我们运行的这种只有一行的命令，<strong>grep</strong>还可以写成<strong>cron</strong>任务或者自动的<strong>shell脚本</strong>去执行。保持好奇心，试验一下<strong>man页</strong>的各个选项，为实现你的目的写出一些<strong>grep表达式</strong>吧。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112580\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112580votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112580\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "Linux 中 grep 命令的 12 个实践例子", "front_image_path": "full/66f4d2455d5b49d6be19672a42543522126b6c4f.jpg"},{"url": "http://blog.jobbole.com/112567/", "fav_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2013/04/open-source-copyright-01.jpg"], "comment_nums": 0, "url_object_id": "d660eece21c1e9d06cda92a498ad48d4", "create_date": "2017-09-30", "praise_nums": "1", "tags": "IT技术,开源", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/9/9-open-source-software-rules-startups\">Heather Meeker</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8917-1.html\">Linux中国/薛亮</a>   </div><p><img class=\"image-full-size\" title=\"9 open source license rules for startups\" src=\"https://opensource.com/sites/default/files/styles/image-full-size/public/lead-images/law_legal_gavel_court.jpg?itok=tc27pzjI\" alt=\"9 open source license rules for startups\" width=\"520\" height=\"292\"></p>\n<blockquote><p>开源软件虽然可以免费使用，但就如同饲养一条<a href=\"https://linux.cn/article-8680-1.html\">幼犬一样</a>（开始虽然花钱不多，后边越养越费钱）。在采用开源之前，确保能够了解其隐藏的成本和陷阱。</p></blockquote>\n<p>对于初创公司来说，开源软件是一把双刃剑。它可以成为一家创业公司的生命线，因为开源软件可以帮助初创企业快速创新，而不必从头开始。不过，正如<a href=\"http://www.zdnet.com/article/open-source-is-free-like-a-puppy-is-free-says-sun-boss-3039202713/\">有些人所说的</a>，开源软件虽然可以免费使用，但就如同饲养一条<a href=\"https://linux.cn/article-8680-1.html\">幼犬</a>一样，开始虽然花钱不多，后边越养越费钱。开源软件的真正代价是开源许可证合规成本。</p>\n<p>滥用开源软件可能会造成获得投资的机遇被延迟或破坏。但是，如果遵守这些简单的法则，初创企业可以轻松地实现开源许可证合规。</p>\n<h3>法则一：不使用没有许可条款的软件</h3>\n<p>互联网上的一些软件不包含许可证通知，但这不意味它们可以自由使用。发布软件的人可能没有遵守上游许可条款。或者软件的作者可能尚未为其软件指定许可协议——无论是以开源方式亦或是其他方式。“没有许可条款”是指没有许可证：您应该避免使用该软件或要求作者为其该软件指定许可证。</p>\n<h3>法则二：不要违反开源许可证</h3>\n<p>开源软件的使用可能难以让其作者进行追踪，但并不意味着该软件的使用和不合规行为会被忽视。违反开源许可证可能会使初创公司面临法律责任和公众谴责，甚至可能会影响其被投资或收购。也可能导致潜在客户由于担心下游责任而拒绝购买您的产品。软件开发人员为实现其软件开源付出了巨大的努力，其中也包括上述的许可费用。滥用开源软件对这些开发人员是不公平的，并且损害了他们希望促成的创新。</p>\n<h3>法则三：跟踪您正在使用的软件</h3>\n<p>将来有一天您将必须提供您正在使用的开源软件的列表。及时维护该列表将会为您节约大量的时间和精力，因为潜在的投资者和收购方将会要求您提供该列表。大多数开源软件下载包中都包括一个 “license.txt” 或 “copy.txt” 文件。保留该许可证的副本，并记录其涵盖的软件。大多数创业公司都使用简单的电子表格跟踪软件许可情况。</p>\n<h3>法则四：了解宽松（permissive）许可证和左版（copyleft）许可证</h3>\n<p>开源许可证大致分为两种类型：宽松许可证（BSD、MIT 和 Apache）和左版许可证（GPL、LGPL、Eclipse 公共许可证、Mozilla 公共许可证以及通用开发和分发许可证（Common Development and Distribution License））。大多数公司及其客户对于使用遵循宽松许可证的软件没有什么法律上的担心。不过，遵循左版许可证需要更加谨慎，将软件保留为专有可能会与某些特定计划不一致。</p>\n<h3>法则五：遵守许可证通知（notice）要求</h3>\n<p>无论是宽松许可证还是左版许可证，所有开源许可都有通知要求。通常，这意味着在分发开源软件时，您需要包含其所适用的许可证的副本，仅仅包括许可证的链接或缩略形式通常是不完备的。为了避免混淆或疏离您的客户，开发一个符合大多数开源许可证的通知传送策略非常重要。</p>\n<h3>法则六：了解哪些开源许可证与分布式软件兼容</h3>\n<p>除了 Affero GPL 之外，大多数开源许可证都没有涉及软件即服务（SaaS）的情境。对于 SaaS 和云系统的分布式组件（如 JavaScript）或分布式软件（包括移动 APP 和测试版），您可以使用遵循宽松许可证的软件，但在使用遵循左版许可证的软件之前，您需要特别小心。仅在其完全在自己的进程中执行并且没有链接的代码时才去使用遵循 GPL 的软件，而不要相信以下如何让 GPL 合规的谣传：动态链接至 GPL 代码或让客户下载 GPL 软件。仅将 LGPL 软件作为动态链接库进行使用。在不修改 API 的前提下使用遵循其它左版许可证的软件。遵循移动 APP 市场的分发规定也许与遵循某些特定的左版许可证有冲突（例如 GPL 或者 LGPL）。</p>\n<h3>法则七：在咨询律师之前不要贡献或发布开源软件</h3>\n<p>贡献和发布开源软件可能是公众的福音，但它可能不是您业务上的正确选择。一旦作出贡献或发布，您在软件中拥有的任何知识产权将不大可能构成您公司估值的依据。您的律师可以帮助您更好地理解在专有和开源软件之间如何选择，并对这一重要业务决策提供指导。</p>\n<h3>法则八：确保您的员工和第三方开发人员遵守这些规则</h3>\n<p>不管是由于您的员工或第三方承包商造成的开源违规行为，所引起的法律和宣传问题都将砸在您的头上。您可以通过适当的培训和跟踪开源软件来避免这些问题。</p>\n<h3>法则九：规划未来</h3>\n<p>初创公司业务模式可以快速变化。SaaS 模式可以快速转变为分布式软件模式。无论您当前的模式是什么，遵守分布式软件的规则将为您转变为分布式软件模式提供更大的灵活性，而无需删除某些开源软件并更改相关功能。</p>\n<p>采用这些法则将有助于初创企业利用开源软件的优势，降低您在获取投资或收购时遇到的风险。对您的初创企业感兴趣的第三方想知道您如何应对开源软件问题，确保您做好准备，并能够为他们提供积极和专业的答案。</p>\n<p>（题图：Beth Cortez-Neavel on <a href=\"https://www.flickr.com/photos/bethcortez-neavel/20699620022/in/photolist-xx9XSo-J67oFV-HgKMCn-HgzdGJ-bkUna-2wRkRj-7YyQVU-3qh3b-4NfW6z-hSgKH-4ptqkF-94f4rj-BTiPf-6xefv-HgzeVW-HgzfsC-Hgzhu3-HgKKZ2-HgKLfT-HgKKL6-HgKKt2-HgKMgv-HM7Aay-HgKN2D-J67umH-HM7AZE-J3NbSo-njSSUk-iR9Qu-5rL5ir-diemDY-8Z9WVL-p7WG5N-qzaAGY-CpEMP-8dfgUR-79XouB-nyeBRi-amefJV-skzdFQ-dC2WNi-JBvYCS-tiNzYh-rr4bkB-s6gMPL-dnJpcc-p1xZmV-4emQku-9SpCY6-e4wRz6\" target=\"_blank\" rel=\"noopener noreferrer\">Flickr</a>. Public Domain. Modified by Opensource.com）</p>\n<hr>\n<p>作者简介：Heather Meeker 是 O’Melveny &amp; Myers 硅谷办公室的合伙人，为客户提供技术交易和知识产权方面的建议，是国际知名的开源软件许可专家。Heather 于 2016 年获得加州律师协会知识产权先锋奖。《最佳律师》（Best Lawyers）将她提名为 2018 年年度 IT 律师。</p>\n<p>译者简介：薛亮，集慧智佳知识产权咨询公司高级咨询师，擅长专利检索、专利分析、竞争对手跟踪、FTO 分析、开源软件知识产权风险分析，致力于为互联网企业、高科技公司提供知识产权咨询服务。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112567\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112567votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112567\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "初创企业开源许可证管理九大法则", "front_image_path": "full/462d1b674719cc4cdca20e0d66fd634b8a57124f.jpg"},{"url": "http://blog.jobbole.com/112569/", "fav_nums": 15, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/ff247977ac3e5237654ad324e8c880ed.jpg"], "comment_nums": 1, "url_object_id": "5762074758e1412d28705f60648d14f1", "create_date": "2017-09-30", "praise_nums": "1", "tags": "IT技术,机器学习", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://medium.freecodecamp.org/how-machines-learn-a-practical-guide-203aae23cafb\">Karlijn Willems</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8907-1.html\">Linux中国/Flowsnow</a>   </div><p>你可能在各种应用中听说过机器学习machine learning（ML），比如垃圾邮件过滤、光学字符识别（OCR）和计算机视觉。</p>\n<p>开启机器学习之旅是一个涉及多方面的漫长旅途。对于新手，有很多的书籍，有学术论文，有指导练习，有独立项目。在这些众多的选择里面，很容易迷失你最初想学习的目标。</p>\n<p>所以在今天的文章中，我会列出 7 个步骤（和 50 多个资源）帮助你开启这个令人兴奋的计算机科学领域的大门，并逐渐成为一个机器学习高手。</p>\n<p>请注意，这个资源列表并不详尽，只是为了让你入门。 除此之外，还有更多的资源。</p>\n<h3 id=\"toc_1\">1、 学习必要的背景知识</h3>\n<p>你可能还记得 DataCamp 网站上的<a href=\"https://www.datacamp.com/community/tutorials/learn-data-science-infographic\">学习数据科学</a>这篇文章里面的信息图：数学和统计学是开始机器学习（ML）的关键。 基础可能看起来很容易，因为它只有三个主题。 但不要忘记这些实际上是三个广泛的话题。</p>\n<p>在这里需要记住两件非常重要的事情：</p>\n<ul>\n<li>首先，你一定会需要一些进一步的指导，以了解开始机器学习需要覆盖哪些知识点。</li>\n<li>其次，这些是你进一步学习的基础。 不要害怕花时间，有了这些知识你才能构建一切。</li>\n</ul>\n<p>第一点很简单：学习线性代数和统计学是个好主意。这两门知识是必须要理解的。但是在你学习的同时，也应该尝试学习诸如最优化和高等微积分等主题。当你越来越深入 ML 的时候，它们就能派上用场。</p>\n<p>如果是从零开始的，这里有一些入门指南可供参考：</p>\n<ul>\n<li><a href=\"http://www.khanacademy.org/\">Khan 学院</a> 对于初学者是非常好的资源，可以考虑学习他们的线性代数和微积分课程。</li>\n<li>在 <a href=\"https://ocw.mit.edu/index.htm\">麻省理工学院 OpenCourseWare</a> 网站上学习<a href=\"https://ocw.mit.edu/courses/mathematics/18-06-linear-algebra-spring-2010/\">线性代数</a> 课程。</li>\n<li><a href=\"https://www.coursera.org/learn/basic-statistics\">Coursera course</a> 网站上对描述统计学、概率论和推论统计学的介绍内容。</li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/1613a11241dee760421ab9fb9c050153.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>统计学是学习 ML 的关键之一</em></p>\n<p>如果你更多喜欢阅读书籍，请参考以下内容：</p>\n<ul>\n<li><a href=\"https://www.amazon.com/Linear-Algebra-Its-Applications-4th/dp/0030105676\">线性代数及其应用</a>Linear Algebra and Its Applications</li>\n<li><a href=\"https://www.amazon.com/Applied-Linear-Algebra-3rd-Noble/dp/0130412600\">应用线性代数</a>Applied Linear Algebra</li>\n<li><a href=\"https://www.amazon.de/Solved-Problems-Linear-Algebra-Schaums/dp/0070380236\">线性代数解决的 3000 个问题</a>3,000 Solved Problems in Linear Algebra</li>\n<li><a href=\"https://ocw.mit.edu/courses/online-textbooks/\">麻省理工学院在线教材</a></li>\n</ul>\n<p>然而，在大多数情况下，你已经对统计学和数学有了一个初步的了解。很有可能你已经浏览过上面列举的的那些资源。</p>\n<p>在这种情况下，诚实地回顾和评价你的知识是一个好主意，是否有一些领域是需要复习的，或者现在掌握的比较好的？</p>\n<p>如果你一切都准备好了，那么现在是时候使用 R 或者 Python 应用这些知识了。作为一个通用的指导方针，选择一门语言开始是个好主意。另外，你仍然可以将另一门语言加入到你的技能池里。</p>\n<p>为什么这些编程知识是必需的？</p>\n<p>嗯，你会看到上面列出的课程（或你在学校或大学学习的课程）将为你提供关于数学和统计学主题的更理论性的介绍（而不是应用性的）。 然而，ML 非常便于应用，你需要能够应用你所学到的所有主题。 所以最好再次复习一遍之前的材料，但是这次需要付诸应用。</p>\n<p>如果你想掌握 R 和 Python 的基础，可以看以下课程：</p>\n<ul>\n<li>DataCamp 上关于 Python 或者 R 的介绍性课程： <a href=\"https://www.datacamp.com/courses/intro-to-python-for-data-science\">Python 语言数据科学介绍</a> 或者 <a href=\"https://www.datacamp.com/courses/free-introduction-to-r\">R 语言编程介绍</a>。</li>\n<li>Edx 上关于 Python 或者 R 的介绍性课程： <a href=\"https://www.edx.org/course/introduction-python-data-science-microsoft-dat208x-5\">Python 语言数据科学介绍</a> 和 <a href=\"https://www.edx.org/course/introduction-r-data-science-microsoft-dat204x-4\">R 语言数据科学介绍</a>。</li>\n<li>还有很多其他免费的课程。查看 <a href=\"http://www.coursera.org/\">Coursera</a> 或者 <a href=\"https://www.codecademy.com/\">Codeacademy</a> 了解更多。</li>\n</ul>\n<p>当你打牢基础知识后，请查看 DataCamp 上的博客 <a href=\"https://www.datacamp.com/community/tutorials/python-statistics-data-science\">Python 统计学：40+ 数据科学资源</a>。 这篇文章提供了统计学方面的 40 多个资源，这些资源都是你开始数据科学（以及 ML）需要学习的。</p>\n<p>还要确保你查看了关于向量和数组的 <a href=\"https://www.datacamp.com/community/tutorials/python-scipy-tutorial\">这篇 SciPy 教程</a>文章，以及使用 Python 进行科学计算的<a href=\"http://www.math.pitt.edu/%7Esiam/workshops/python10/python.pdf\">研讨会</a>。</p>\n<p>要使用 Python 和微积分进行实践，你可以了解下 <a href=\"http://docs.sympy.org/latest/tutorial/calculus.html\">SymPy 软件包</a>。</p>\n<h3 id=\"toc_2\">2、 不要害怕在 ML 的“理论”上浪费时间</h3>\n<p>很多人并不会花很多精力去浏览理论材料，因为理论是枯燥的、无聊的。但从长远来看，在理论知识上投入时间是至关重要的、非常值得的。 你将会更好地了解机器学习的新进展，也能和背景知识结合起来。 这将有助于你保持学习积极性。</p>\n<p>此外，理论并不会多无聊。 正如你在介绍中所看到的，你可以借助非常多的资料深入学习。</p>\n<p>书籍是吸收理论知识的最佳途径之一。 它们可以让你停下来想一会儿。 当然，看书是一件非常平静的事情，可能不符合你的学习风格。 不过，请尝试阅读下列书籍，看看它是否适合你：</p>\n<ul>\n<li><a href=\"http://www.cs.cmu.edu/%7Etom/mlbook.html\">机器学习教程</a>Machine Learning textbook， Tom Mitchell 著，书可能比较旧，但是却很经典。这本书很好的解释介绍了机器学习中最重要的课题，步骤详尽，逐层深入。</li>\n<li>机器学习: 使数据有意义的算法艺术和科学Machine Learning: The Art and Science of Algorithms that Make Sense of Data（你可以在<a href=\"http://www.cs.bris.ac.uk/%7Eflach/mlbook/materials/mlbook-beamer.pdf\">这里</a>看到这本书的幻灯片版本）：这本书对初学者来说非常棒。 里面讨论了许多实践中的应用程序，其中有一些是在 Tom Mitchell 的书中缺少的。</li>\n<li><a href=\"http://www.mlyearning.org/\">机器学习之向往</a>Machine Learning Yearning ：这本书由吴恩达Andrew Ng编写的，仍未完本，但对于那些正在学习 ML 的学生来说，这一定是很好的参考资料。</li>\n<li><a href=\"https://www.amazon.com/Algorithms-Data-Structures-Applications-Practitioner/dp/0134894286\">算法与数据结构</a>Algorithms and Data Structures  由 Jurg Nievergelt 和 Klaus Hinrichs 著。</li>\n<li>也可以参阅 Matthew North 的<a href=\"https://www.amazon.com/Data-Mining-Masses-Matthew-North/dp/0615684378\">面向大众的数据挖掘</a>Data Mining for the Masses。 你会发现这本书引导你完成一些最困难的主题。</li>\n<li><a href=\"http://alex.smola.org/drafts/thebook.pdf\">机器学习介绍</a>Introduction to Machine Learning  由 Alex Smola 和 S.V.N. Vishwanathan 著。</li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/c3ddf500c003b146e36267bb508e6149.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>花些时间看书并研究其中涵盖的资料</em></p>\n<p>视频和慕课对于喜欢边听边看来学习的人来说非常棒。 慕课和视频非常的多，多到可能你都很难找到适合你的。 下面列出了最知名的几个：</p>\n<ul>\n<li><a href=\"https://www.coursera.org/learn/machine-learning\">这个著名的机器学习慕课</a>，是吴恩达Andrew Ng讲的，介绍了机器学习及其理论。 别担心，这个慕课讲的非常好，一步一步深入，所以对初学者来说非常适用。</li>\n<li><a href=\"https://youtu.be/TjZBTDzGeGg?list=PLnvKubj2-I2LhIibS8TOGC42xsD3-liux\">麻省理工学院 Open Courseware 的 6034 课程的节目清单</a>，已经有点前沿了。 在你开始本系列之前，你需要做一些 ML 理论方面的准备工作，但是你不会后悔的。</li>\n</ul>\n<p>在这一点上，重要的是要将各种独立的技术融会贯通，形成整体的结构图。 首先了解关键的概念：监督学习supervised learning和无监督学习unsupervised learning的区别、分类和回归等。 手动（书面）练习可以派上用场，能帮你了解算法是如何工作的以及如何应用这些算法。 在大学课程里你经常会找到一些书面练习，可以看看波特兰州立大学的 <a href=\"http://web.cecs.pdx.edu/%7Emm/MachineLearningSpring2017/\">ML 课程</a>。</p>\n<h3 id=\"toc_3\">3、 开始动手</h3>\n<p>通过看书和看视频了解理论和算法都非常好，但是需要超越这一阶段，就要开始做一些练习。你要学着去实现这些算法，应用学到的理论。</p>\n<p>首先，有很多介绍 Python 和 R 方面的机器学习的基础知识。当然最好的方法就是使用交互式教程：</p>\n<ul>\n<li><a href=\"https://www.datacamp.com/community/tutorials/machine-learning-python\">Python 机器学习：Scikit-Learn 教程</a>，在这篇教程里面，你可以学到使用 Scikit-Learn 构建模型的 KMeans 和支持向量机（SVM）相关的知名算法。</li>\n<li><a href=\"https://www.datacamp.com/community/tutorials/machine-learning-in-r\">给初学者的 R 语言机器学习教程</a> 用 R 中的类和 caret 包介绍机器学习。</li>\n<li>[Keras 教程：Python 深度学习<a href=\"https://www.datacamp.com/community/tutorials/deep-learning-python\">25</a> 涵盖了如何一步一步的为分类和回归任务构建多层感知器（MLP）。</li>\n</ul>\n<p>还请查看以下静态的（非互动的）教程，这些需要你在 IDE 中操作：</p>\n<ul>\n<li><a href=\"http://machinelearningmastery.com/machine-learning-in-python-step-by-step/\">循序渐进：Python 机器学习</a>： 一步一步地学习 Scikit-Learn。</li>\n<li><a href=\"http://machinelearningmastery.com/tutorial-first-neural-network-python-keras/\">循序渐进：使用 Keras 开发你的第一个神经网络</a>： 按这个教程一步一步地使用 Keras 开发你的第一个神经网络。</li>\n<li>你可以考虑看更多的教程，但是<a href=\"http://www.machinelearningmastery.com/\">机器学习精要</a>这篇教程是非常好的。</li>\n</ul>\n<p>除了教程之外，还有一些课程。参加课程可以帮助你系统性地应用学到的概念。 经验丰富的导师很有帮助。 以下是 Python 和机器学习的一些互动课程：</p>\n<ul>\n<li><a href=\"https://www.datacamp.com/courses/supervised-learning-with-scikit-learn\">用 scikit-learn 做监督学习</a>： 学习如何构建预测模型，调整参数，并预测在未知数据上执行的效果。你将使用 Scikit-Learn 操作真实世界的数据集。</li>\n<li><a href=\"https://www.datacamp.com/courses/unsupervised-learning-in-python\">用 Python 做无监督学习</a>： 展示给你如何从未标记的数据集进行聚类、转换、可视化和提取关键信息。 在课程结束时，还会构建一个推荐系统。</li>\n<li><a href=\"https://www.datacamp.com/courses/deep-learning-in-python\">Python 深度学习</a>： 你将获得如何使用 Keras 2.0 进行深度学习的实践知识，Keras 2.0 是前沿的 Python 深度学习库 Keras 的最新版本。</li>\n<li><a href=\"https://www.coursera.org/learn/python-machine-learning\">在 Python 中应用机器学习</a>： 将学习者引入到机器学习实践中，更多地关注技术和方法，而不是这些方法背后的统计学知识。</li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/88043a6e10e58b566bd30cd3ed95af95.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>理论学习之后，花点时间来应用你所学到的知识。</em></p>\n<p>对于那些正在学习 R 语言机器学习的人，还有这些互动课程：</p>\n<ul>\n<li><a href=\"https://www.datacamp.com/courses/introduction-to-machine-learning-with-r\">机器学习介绍</a> 可以让你宏观了解机器学习学科最常见的技术和应用，还可以更多地了解不同机器学习模型的评估和训练。这门课程剩下的部分重点介绍三个最基本的机器学习任务： 分类、回归和聚类。</li>\n<li><a href=\"https://www.datacamp.com/courses/unsupervised-learning-in-r\">R 语言无监督学习</a> ，用 R 语言从 ML 角度提供聚类和降维的基本介绍。 可以让你尽快获得数据的关键信息。</li>\n<li><a href=\"https://www.coursera.org/learn/practical-machine-learning\">实操机器学习</a>涵盖了构建和应用预测功能的基本组成部分，其重点是实际应用。</li>\n</ul>\n<p>最后，还有很多书籍以偏向实践的方式介绍了 ML 主题。 如果你想借助书籍内容和 IDE 来学习，请查看这些书籍：</p>\n<ul>\n<li><a href=\"https://github.com/rasbt/python-machine-learning-book\">Python 机器学习</a>Python Machine Learning Book，Sebastian Raschka 著。</li>\n<li><a href=\"https://github.com/rasbt/deep-learning-book\">人工神经网络与深度学习导论：Python 应用实用指南</a>Introduction to Artificial Neural Networks and Deep Learning: A Practical Guide with Applications in Python，Sebastian Raschka 著。</li>\n<li><a href=\"https://books.google.be/books/about/Machine_Learning_with_R.html?id=ZQu8AQAAQBAJ&amp;amp;amp;amp;amp;amp;source=kp_cover&amp;amp;amp;amp;amp;amp;redir_esc=y\">R 语言机器学习</a>Machine Learning with R，Brett Lantz 著。</li>\n</ul>\n<h3 id=\"toc_4\">4、 练习</h3>\n<p>实践比使用 Python 进行练习和修改材料更重要。 这一步对我来说可能是最难的。 在做了一些练习后看看其他人是如何实现 ML 算法的。 然后，开始你自己的项目，阐述你对 ML 算法和理论的理解。</p>\n<p>最直接的方法之一就是将练习的规模做得更大些。 要做一个更大的练习，就需要你做更多的数据清理和功能工程。</p>\n<ul>\n<li>从 <a href=\"http://www.kaggle.com/\">Kaggle</a> 开始。 如果你需要额外的帮助来征服所谓的“数据恐惧”，请查看 <a href=\"https://www.datacamp.com/community/open-courses/kaggle-python-tutorial-on-machine-learning\">Kaggle 的 Python 机器学习教程</a> 和 <a href=\"https://www.datacamp.com/community/open-courses/kaggle-tutorial-on-machine-learing-the-sinking-of-the-titanic\">Kaggle 的 R 语言机器学习教程</a>。 这些将带给您快速的提升。</li>\n<li>此后，你也可以自己开始挑战。 查看这些网站，您可以在其中找到大量的 ML 数据集：<a href=\"http://archive.ics.uci.edu/ml/\">UCI 机器学习仓库</a>，<a href=\"http://homepages.inf.ed.ac.uk/rbf/IAPR/researchers/MLPAGES/mldat.htm\">用于机器学习的公开数据集</a> 和 <a href=\"https://data.world/\">data.world</a>。</li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/aea26287f76464871872479603efc1be.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>熟能生巧。</em></p>\n<h3 id=\"toc_5\">5、 项目</h3>\n<p>虽然做一些小的练习也不错，但是在最后，您需要做一个项目，可以在其中展示您对使用到的 ML 算法的理解。</p>\n<p>最好的练习是实现你自己的 ML 算法。 您可以在以下页面中阅读更多关于为什么您应该做这样的练习，以及您可以从中学到什么内容：</p>\n<ul>\n<li><a href=\"https://www.quora.com/Why-is-there-a-need-to-manually-implement-machine-learning-algorithms-when-there-are-many-advanced-APIs-like-tensorflow-available\">为什么有许多先进的 API，比如 tensorflow，还需要自己手动实现机器学习的算法？</a></li>\n<li><a href=\"http://www.kdnuggets.com/2016/05/implement-machine-learning-algorithms-scratch.html\">为什么要从头开始实现机器学习算法？</a></li>\n<li><a href=\"http://www.jeannicholashould.com/what-i-learned-implementing-a-classifier-from-scratch.html\">使用 Python 从头开始实现一个分类器，我能从中学到什么？</a></li>\n</ul>\n<p>接下来，您可以查看以下文章和仓库。 可以从中获得一些灵感，并且了解他们是如何实现 ML 算法的。</p>\n<ul>\n<li><a href=\"http://machinelearningmastery.com/how-to-implement-a-machine-learning-algorithm/\">如何实现机器学习算法</a></li>\n<li><a href=\"https://github.com/eriklindernoren/ML-From-Scratch\">从头开始学习机器学习</a></li>\n<li><a href=\"https://github.com/madhug-nadig/Machine-Learning-Algorithms-from-Scratch\">从头开始学习机器学习算法</a></li>\n</ul>\n<p style=\"text-align: center\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/09/b81034f198a5925fd387316d82a037f0.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>开始时项目可能会很难，但是可以极大增加你的理解。</em></p>\n<h3 id=\"toc_6\">6、 不要停止</h3>\n<p>对 ML 的学习永远不能停止，即使你在这个领域工作了十年，总是有新的东西要学习，许多人都将会证实这一点。</p>\n<p>例如，ML 趋势，比如深度学习deep learning现在就很受欢迎。你也可以专注于那些现在不怎么火，但是将来会火的话题上。如果你想了解更多，可以看看<a href=\"https://www.quora.com/Should-I-quit-machine-learning\">这个有趣的问题和答案</a>。</p>\n<p>当你苦恼于掌握基础知识时，你最先想到的可能不是论文。 但是它们是你紧跟最新研究的一个途径。 论文并不适合刚刚开始学习的人，但是绝对适合高级人员。</p>\n<ul>\n<li><a href=\"http://www.kdnuggets.com/2017/04/top-20-papers-machine-learning.html\">20 篇最新的机器学习和深度学习领域的顶级研究论文</a></li>\n<li><a href=\"http://www.jmlr.org/\">机器学习研究杂志</a></li>\n<li><a href=\"https://github.com/terryum/awesome-deep-learning-papers\">优秀的深度学习论文</a></li>\n<li><a href=\"https://www.quora.com/What-are-some-of-the-best-research-papers-books-for-Machine-learning\">机器学习的一些最好的研究论文和书籍</a></li>\n</ul>\n<p>其他技术也是需要考虑的。 但是当你刚开始学习时，不要担心这些。 例如，您可以专注于 Python 或 R 语言 （取决于你已经知道哪一个），并把它到你的技能池里。 你可以通过这篇文章来查找一些感兴趣的资源。</p>\n<p>如果您还想转向大数据，您可以考虑研究 Spark。 这里有一些有趣的资源：</p>\n<ul>\n<li><a href=\"https://www.datacamp.com/courses/introduction-to-spark-in-r-using-sparklyr\">在 R 语言中使用 sparklyr 来了解 Spark</a></li>\n<li><a href=\"https://www.edx.org/xseries/data-science-engineering-apache-spark\">Spark 数据科学与工程</a></li>\n<li><a href=\"https://www.edx.org/course/introduction-apache-spark-uc-berkeleyx-cs105x\">介绍 Apache Spark</a></li>\n<li><a href=\"https://www.edx.org/course/distributed-machine-learning-apache-uc-berkeleyx-cs120x\">Apache Spark 分布式机器学习</a></li>\n<li><a href=\"https://www.edx.org/course/big-data-analysis-apache-spark-uc-berkeleyx-cs110x\">用 Apache Spark 进行大数据分析</a></li>\n<li><a href=\"https://www.datacamp.com/community/tutorials/apache-spark-python\">初学者指南：用 Python 操作 Apache Spark</a></li>\n<li><a href=\"https://www.datacamp.com/community/blog/pyspark-cheat-sheet-python\">PySpark RDD 速查表</a></li>\n<li><a href=\"https://www.datacamp.com/community/blog/pyspark-sql-cheat-sheet\">PySpark SQL 速查表</a></li>\n</ul>\n<p>其他编程语言，比如 Java、JavaScript、C 和 C++ 在 ML 中越来越重要。 从长远来看，您可以考虑将其中一种语言添加到学习列表中。 你可以使用这些博客文章来指导你选择：</p>\n<ul>\n<li><a href=\"https://fossbytes.com/popular-top-programming-languages-machine-learning-data-science/\">机器学习和数据科学最流行的编程语言</a></li>\n<li><a href=\"http://www.kdnuggets.com/2017/01/most-popular-language-machine-learning-data-science.html\">机器学习和数据科学最流行的语言是…</a></li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/03203ed1a9385202599d4bbe28db50ff.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>学无止境。</em></p>\n<h3 id=\"toc_7\">7、 利用一切可以利用的资源</h3>\n<p>机器学习是一个充满难度的话题，有时候可能会让你失去动力。 或者也许你觉得你需要点改变。 在这种情况下，请记住，有很多资源可以让你打消掉这种想法。 查看以下资源：</p>\n<p><strong>播客</strong>是可以让你继续你的 ML 旅程，紧跟这个领域最新的发展的伟大资源：</p>\n<ul>\n<li><a href=\"http://www.thetalkingmachines.com/\">谈论机器</a></li>\n<li><a href=\"https://dataskeptic.com/\">数据怀疑论者</a></li>\n<li><a href=\"http://lineardigressions.com/\">线性化</a></li>\n<li><a href=\"https://twimlai.com/\">本周的机器学习及 AI</a></li>\n<li><a href=\"http://www.learningmachines101.com/\">机器学习 101</a></li>\n</ul>\n<p>当然，还有更多的播客。</p>\n<p><strong>文档和软件包源代码</strong>是深入了解 ML 算法的实现的两种方法。 查看这些仓库：</p>\n<ul>\n<li><a href=\"https://github.com/scikit-learn/scikit-learn\">Scikit-Learn</a>：知名的 Python ML 软件包</li>\n<li><a href=\"http://www.github.com/fchollet/keras\">Keras</a>： Python 深度学习软件包</li>\n<li><a href=\"http://topepo/caret\">caret</a>： 非常受欢迎的用于分类和回归训练 R 软件包</li>\n</ul>\n<p><strong>可视化</strong>是深入 ML 理论的最新也是最流行的方式之一。 它们对初学者来说非常棒，但对于更高级的学习者来说也是非常有趣的。 你肯定会被下面这些可视化资源所吸引，它们能让你更加了解 ML 的工作原理：</p>\n<ul>\n<li><a href=\"http://www.r2d3.us/visual-intro-to-machine-learning-part-1/\">机器学习的可视化介绍</a></li>\n<li><a href=\"http://distill.pub/\">Distill</a> 使 ML 研究清晰，动态和生动。</li>\n<li>如果你想玩下神经网络架构，可以看下 <a href=\"http://playground.tensorflow.org/\">Tensorflow – 神经网络游乐场</a>。</li>\n<li>更多的看这里：<a href=\"https://www.quora.com/What-are-the-best-visualizations-of-machine-learning-algorithms\">机器学习算法最佳的可视化方法是什么？</a></li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/8371b5943e4d785d05df4ebd4b7b3dd3.png\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>学习中的一些变化更加能激励你。</em></p>\n<h3 id=\"toc_8\">现在你可以开始了</h3>\n<p>现在一切都取决于你自己了。学习机器学习是一个持续的过程，所以开始的越早就会越好。 运用你手边的一切工具开始吧。 祝你好运，并确保让我们知道你的进步。</p>\n<p><em>这篇文章是我基于 Quora 问题（<a href=\"https://www.quora.com/How-does-a-total-beginner-start-to-learn-machine-learning/answer/Karlijn-Willems-1\">小白该如何开始机器学习</a>）给出的答案。</em></p>\n<hr>\n<p>作者简介：</p>\n<p>Karlijn Willems，数据科学记者</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112569\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112569votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112569\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 15 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "机器学习实践指南", "front_image_path": "full/eadb28355fab57e9672e5c965147ef4caca04ac4.jpg"},{"url": "http://blog.jobbole.com/112564/", "fav_nums": 2, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2011/12/good-code-or-good-product.jpg"], "comment_nums": 1, "url_object_id": "dee5f0f6ab099f2a22ce6f9774d45647", "create_date": "2017-09-30", "praise_nums": "2", "tags": "开发,编程", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://dzone.com/articles/dont-waste-time-writing\">Jim Bird</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8916-1.html\">Linux中国/geekpi</a>   </div><p>系统可以持续运行 5 年、10 年甚至 20 年或者更多年。但是，特定的代码行的生命，即使是经过设计，通常要短得多：当你通过各种方式来迭代寻求解决方案时，它会有几个月、几天甚至几分钟的生命。</p>\n<h3 id=\"toc_1\">一些代码比其他代码重要</h3>\n<p>通过研究<a href=\"http://www.youtube.com/watch?v=0eAhzJ_KM-Q\">代码如何随时间变化</a>，Michael Feathers 确定了<a href=\"http://swreflections.blogspot.ca/2012/10/bad-things-happen-to-good-code.html\">一个代码库的冥曲线</a>。每个系统都有代码，通常有很多是一次性写成，永远都不会改变。但是有少量的代码，包括最重要和最有用的代码，会一次又一次地改变、会有几次重构或者从头重写。</p>\n<p>当你在一个系统、或者问题领域、体系结构方法中有更多经验时，会更容易了解并预测什么代码将一直改变，哪些代码将永远不会改变：什么代码重要，什么代码不重要。</p>\n<h3 id=\"toc_2\">我们应该尝试编写完美的代码么？</h3>\n<p>我们知道我们应该写<a href=\"http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882\">干净的代码</a>，代码应该一致、清晰也要尽可能简单。</p>\n<p>有些人把这变成了极端，他们迫使自己写出<a href=\"http://www.makinggoodsoftware.com/2011/03/27/the-obsession-with-beautiful-code-the-refactor-syndrome/\">美丽</a>、优雅、接近<a href=\"http://stackoverflow.com/questions/1196405/how-to-keep-yourself-from-perfectionism-when-coding\">完美</a>的代码，<a href=\"http://programmers.stackexchange.com/questions/43506/is-it-bad-to-have-an-obsessive-refactoring-disorder\">痴迷于重构</a>并且纠结每个细节。</p>\n<p>但是，如果代码只写一次而从不改变，或者如果在另一个极端下，它一直在改变的话，就如同尝试去写完美的需求和尝试做完美的前期设计那样，写完美的代码难道不是既浪费又没有必要（也不可能实现）的么？</p>\n<blockquote><p>“你不能写出完美的软件。是不是收到了伤害？并不。把它作为生活的公理接受它、拥抱它、庆祝它。因为完美的软件不存在。在计算机的短暂历史中从没有人写过完美的软件。你不可能成为第一个。除非你接受这个事实，否则你最终会浪费时间和精力追逐不可能的梦想。”</p>\n<p>Andrew Hunt，<a href=\"https://pragprog.com/the-pragmatic-programmer\">务实的程序员: 从熟练工到大师</a></p></blockquote>\n<p>一次性写的代码不需要美观优雅。但它必须是正确的、可以理解的 —— 因为绝不会改变的代码在系统的整个生命周期内可能仍然被阅读很多次。它不需要干净并紧凑 —— 只要干净就够了。代码中<a href=\"http://swreflections.blogspot.com/2012/03/is-copy-and-paste-programming-really.html\">复制和粘贴</a>和其他小的裁剪是允许的，至少在某种程度上是这样的。这些是永远不需要打磨的代码。即使周围的其他代码正在更改，这些也是不需要重构的代码（除非你需要更改它）。这是不值得花费额外时间的代码。</p>\n<p>你一直在改变的代码怎么样了呢？纠结于代码风格以及提出最优雅的解决方案是浪费时间，因为这段代码可能会再次更改，甚至可能会在几天或几周内重写。因此，每当你进行更改时，都会<a href=\"http://programmers.stackexchange.com/questions/43506/is-it-bad-to-have-an-obsessive-refactoring-disorder\">痴迷重构</a>代码，或者没有重构没有改变的代码，因为它可能会更好。代码总是可以更好。但这并不重要。</p>\n<p>重要的是：代码是否做了应该做的 —— 是正确的、可用的和高效的吗？它可以<a href=\"http://swreflections.blogspot.com/2012/03/defensive-programming-being-just-enough.html\">处理错误和不良数据</a>而不会崩溃 —— 或者至少可以<a href=\"https://buildsecurityin.us-cert.gov/articles/knowledge/principles/failing-securely\">安全地失败</a>？调试容易吗？改变是否容易且安全？这些不是美的主观方面。这些是成功与失败实际措施之间的差异。</p>\n<h3 id=\"toc_3\">务实编码和重构</h3>\n<p>精益开发Lean Development的核心思想是：不要浪费时间在不重要的事情上。这应该提醒我们该如何编写代码，以及我们如何重构它、审查它、测试它。</p>\n<p>为了让工作完成，只<a href=\"http://swreflections.blogspot.com/2012/04/what-refactoring-is-and-what-it-isnt.html\">重构你需要的</a> —— <a href=\"http://martinfowler.com/articles/workflowsOfRefactoring/\">Martin Fowler</a> 称之为机会主义重构opportunistic refactoring（理解、清理、<a href=\"http://programmer.97things.oreilly.com/wiki/index.php/The_Boy_Scout_Rule\">童子军规则</a> ）和准备重构preparatory refactoring。足够使改变更加容易和安全，而不是更多。如果你不改变那些代码，那么它并不会如看起来的那么重要。</p>\n<p>在代码审查中，只聚焦在<a href=\"http://randomthoughtsonjavaprogramming.blogspot.com/2014/08/building-real-software-dont-waste-time.html\">重要的事上</a>。代码是否正确？有防御机制吗？是否安全？你能理解么？改变是否安全？</p>\n<p>忘记代码风格（除非代码风格变成无法理解）。让你的 IDE 处理代码格式化。不要争议代码是否应该是“更多的 OO”。只要它有意义，它是否适当地遵循这种或那种模式并不重要。无论你喜欢还是不喜欢都没关系。你是否有更好的方式做到这一点并不重要 —— 除非你在教新接触这个平台或者语言的人，而且需要在做代码审查时做一部分指导。</p>\n<p>写测试很重要。测试涵盖主要流程和重要的意外情况。测试让你用最少的工作获得最多的信息和最大的信心。<a href=\"http://swreflections.blogspot.com/2012/08/whats-better-big-fat-tests-or-little.html\">大面积覆盖测试，或小型针对性测试</a> —— 都没关系，只要一直在做这个工作，在编写代码之前或之后编写测试并不重要。</p>\n<h3 id=\"toc_4\">（不只是）代码无关</h3>\n<p>建筑和工程方面的隐喻对软件从未有效过。我们不是设计和建造几年或几代将保持基本不变的桥梁或摩天大楼。我们构建的是更加弹性和抽象、更加短暂的东西。代码写来是被修改的 —— 这就是为什么它被称为“软件”。</p>\n<blockquote><p>“经过五年的使用和修改，成功的软件程序的源码通常完全认不出它原来的样子，而一个成功建筑五年后几乎没有变化。”</p>\n<p>Kevin Tate，<a href=\"http://www.amazon.com/Sustainable-Software-Development-Agile-Perspective/dp/0321286081\">可持续软件开发</a></p></blockquote>\n<p>我们需要将代码看作是我们工作的一个暂时的手工制品：</p>\n<blockquote><p>有时候面对更重要的事情时，我们会迷信代码。我们经常有一个错觉，让卖出的产品有价值的是代码，然而实际上可能是对该问题领域的了解、设计难题的进展甚至是客户反馈。</p>\n<p>Dan Grover，<a href=\"http://dangrover.com/2013/07/16/code-and-creative-destruction/\">Code and Creative Destruction</a></p></blockquote>\n<p>迭代开发教会我们来体验和检验我们工作的结果 —— 我们是否解决了这个问题，如果没有，我们学到了什么，我们如何改进？软件构建从没有止境。即使设计和代码是正确的，它们也可能只是一段时间内正确，直到环境要求再次更改或替换为更好的东西。</p>\n<p>我们需要编写好的代码：代码可以理解、正确、安全和可靠。我们需要重构和审查它，并写出好的有用的测试，同时知道这其中一些或者所有的代码，可能会很快被抛弃，或者它可能永远不会被再被查看，或者它可能根本不会用到。我们需要认识到，我们的一些工作必然会被浪费，并为此而进行优化。做需要做的，没有别的了。不要浪费时间尝试编写完美的代码。</p>\n<hr>\n<p>作者简介：</p>\n<p>Jim Bird</p>\n<p>我是一名经验丰富的软件开发经理、项目经理和 CTO，专注于软件开发和维护、软件质量和安全性方面的困难问题。在过去 15 年中，我一直在管理建立全球证券交易所和投资银行电子交易平台的团队。我特别感兴趣的是，小团队在构建真正的软件中如何有效率：在可靠性，性能和适应性极限限制下的高质量，安全系统。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112564\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112564votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112564\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "不要浪费时间写完美的代码", "front_image_path": "full/9521d7edc82d7251124d105ee9af71e23dabe6c5.jpg"},{"url": "http://blog.jobbole.com/112583/", "fav_nums": 2, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/12f08abea785eac9b96d11426703f4e1.jpg"], "comment_nums": 0, "url_object_id": "1a81ea914b36780323f60de446949c7a", "create_date": "2017-10-09", "praise_nums": "1", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://opensourceforu.com/2017/09/top-7-things-linux-may-not-known-far/\">PHIL ZONA</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8934-1.html\">Linux中国/ucasFL</a>   </div><p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/12f08abea785eac9b96d11426703f4e1.jpg\" width=\"450\" height=\"338\" hspace=\"0\" vspace=\"0\"></p>\n<p>使用 Linux 最酷的事情之一就是随着时间的推移，你可以不断获得新的知识。每天，你都可能会遇到一个新的实用工具，或者只是一个不太熟悉的奇技淫巧，但是却非常有用。这些零碎的东西并不总是能够改变生活，但是却是专业知识的基础。</p>\n<p>即使是专家，也不可能事事皆知。无论你有多少经验，可能总会有更多的东西需要你去学习。所以，在这儿我列出了七件关于 Linux 你可能不知道的事情。</p>\n<h3>一个查找命令历史的交互模式</h3>\n<p>你可能对 <code>history</code> 命令非常熟悉，它会读取 bash 历史，然后以编号列表的方式输出到标准输出（<code>stdout</code>）。然而，如果你在 <code>curl</code> 命令的海洋里寻找一个特定的链接（URL），那么这个列表并不总是那么容易阅读的。</p>\n<p>你还可以有另一个选择，Linux 有一个交互式的反向搜索可以帮助你解决这个问题。你可以通过快捷键 <code>ctrl+r</code>启动交互模式，然后进入一个交互提示中，它将会根据你提供的字符串来向后搜索 bash 历史，你可以通过再次按下 <code>ctrl+r</code> 向后搜索更老的命令，或者按下 <code>ctrl+s</code> 向前搜索。</p>\n<p>注意，<code>ctrl+s</code> 有时会与 XON/XOFF 流控制冲突，即 XON/XOFF 流控制也会使用该快捷键。你可以通过运行 <code>stty -ixon</code> 命令来禁用该快捷键。在你的个人电脑上，这通常是有用的，但是在禁用前，确保你不需要 XON/XOFF 。</p>\n<h3>Cron 不是安排任务的唯一方式</h3>\n<p>Cron 任务对于任何水平的系统管理员，无论是毫无经验的初学者，还是经验丰富的专家来说，都是非常有用的。但是，如果你需要安排一个一次性的任务，那么 <code>at</code> 命令为你提供了一个快捷的方式来创建任务，从而你不需要接触 crontab 。</p>\n<p><code>at</code> 命令的运行方式是在后面紧跟着你想要运行任务的运行时间。时间是灵活的，因为它支持许多时间格式。包括下面这些例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28b06cee6a581680422\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nat 12:00 PM September 30 2017\r\nat now + 1 hour\r\nat 9:00 AM tomorrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28b06cee6a581680422-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28b06cee6a581680422-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e28b06cee6a581680422-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28b06cee6a581680422-1\"><span class=\"crayon-i\">at</span> <span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span> <span class=\"crayon-i\">PM</span> <span class=\"crayon-i\">September</span> <span class=\"crayon-cn\">30</span> <span class=\"crayon-cn\">2017</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28b06cee6a581680422-2\"><span class=\"crayon-i\">at</span> <span class=\"crayon-i\">now</span> <span class=\"crayon-o\">+</span> <span class=\"crayon-cn\">1</span> <span class=\"crayon-e\">hour</span></div><div class=\"crayon-line\" id=\"crayon-59e28b06cee6a581680422-3\"><span class=\"crayon-i\">at</span> <span class=\"crayon-cn\">9</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span> <span class=\"crayon-i\">AM</span> <span class=\"crayon-v\">tomorrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>当你以带参数的方式输入 <code>at</code> 命令以后，将会提示你该命令将在你的 Linux 系统上运行。这可能是一个备份脚本，一套维护任务，或者甚至是一个普通的 bash 命令。如果要结束任务，可以按 <code>ctrl+d</code> 。</p>\n<p>另外，你可以使用 <code>atq</code> 命令查看当前用户的所有任务，或者使用 <code>sudo atq</code> 查看所有用户的任务。它将会展示出所有排定好的任务，并且每个任务都伴有一个 ID 。如果你想取消一个排定好的任务，可以使用 <code>atrm</code> 命令，并且以任务 ID 作为参数。</p>\n<h3>你可以按照功能搜索命令，而不仅仅是通过名字</h3>\n<p>记住命令的名字非常困难，特别是对于初学者来说。幸运的是，Linux 附带了一个通过名字和描述来搜索 man 页面的工具。</p>\n<p>下次，如果你没有记住你想要使用的工具的名称，你可以尝试使用 <code>apropos</code> 命令加上你想要干的事情的描述。比如，<code>apropos build filesystem</code> 将会返回一系列名字和描述包括了 “build” 和 “filesystem” 单词的工具。</p>\n<p><code>apropos</code> 命令接受一个或多个字符串作为参数，但同时它也有其他参数，比如你可以使用 <code>-r</code> 参数，从而通过正则表达式来搜索。</p>\n<h3>一个允许你来管理系统版本的替代系统</h3>\n<p>如果你曾进行过软件开发，你就会明白跨项目管理不同版本的语言的支持的重要性。许多 Linux 发行版都有工具可以来处理不同的内建版本。</p>\n<p>可执行文件比如 <code>java</code> 往往符号链接到目录 <code>/etc/alternatives</code> 下。反过来，该目录会将符号链接存储为二进制文件并提供一个管理这些链接的接口。Java 可能是替代系统最常管理的语言，但是，经过一些配置，它也可以作为其他应用程序替代品，比如 NVM 和 RVM （NVM 和 RVM 分别是 NodeJS 和 Ruby 的版本管理器）。</p>\n<p>在基于 Debian 的系统中，你可以使用 <code>update-alternatives</code> 命令创建和管理这些链接。在 CentOS 中，这个工具就叫做 <code>alternatives</code> 。通过更改你的 alternatives 文件中的链接，你便可以安装一个语言的多个版本，并且在不同的情况下使用不同的二进制。这个替代系统也提供了对任何你可能在命令行运行的程序的支持。</p>\n<h3><code>shred</code> 命令是更加安全的删除文件方式</h3>\n<p>我们大多数时候总是使用 <code>rm</code> 命令来删除文件。但是文件去哪儿了呢？真相是 <code>rm</code> 命令所做的事情并不是像你所想像的那样，它仅仅删除了文件系统和硬盘上的数据的硬链接。硬盘上的数据依旧存在，直到被另一个应用重写覆盖。对于非常敏感的数据来说，这会带来一个很大的安全隐患。</p>\n<p><code>shred</code> 命令是 <code>rm</code> 命令的升级版。当你使用 <code>shred</code> 命令删除一个文件之后，文件中的数据会被多次随机覆写。甚至有一个选项可以在随机覆写之后对所有的数据进行清零。</p>\n<p>如果你想安全的删除一个文件并且以零覆盖，那么可以使用下面的命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28b06cee75268712155\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nshred -u -z [file name]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28b06cee75268712155-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28b06cee75268712155-1\"><span class=\"crayon-i\">shred</span> <span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span> <span class=\"crayon-o\">-</span><span class=\"crayon-i\">z</span> <span class=\"crayon-sy\">[</span><span class=\"crayon-i\">file</span> <span class=\"crayon-v\">name</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>同时，你也可以使用 <code>-n</code> 选项和一个数字作为参数，从而指定在随机覆盖数据的时候迭代多少次。</p>\n<h3>通过自动更正来避免输入很长的无效文件路径</h3>\n<p>有多少次，你输入一个文件的绝对路径，然而却看到“没有该文件或目录”的消息。任何人都会明白输入一个很长的字符串的痛苦。幸运的是，有一个很简单的解决办法。</p>\n<p>内建的 <code>shopt</code> 命令允许你设置不同的选项来改变 shell 的行为。设置 <code>cdspell</code> 选项是避免输入文件路径时一个字母出错的头痛的一个简单方式。你可以通过运行 <code>shopt -s cdspell</code> 命令来启用该选项。启用该选项后，当你想要切换目录时，会自动更正为最匹配的目录。</p>\n<p>Shell 选项是节省时间的一个好方法（更不用说减少麻烦），此外还有许许多多的其他选项。如果想查看你的系统中所有选项的完整列表，可以运行不带参数的 <code>shopt</code> 命令。需要注意的是，这是 bash 的特性，如果你运行 zsh 或者其他可供选择的 shell，可能无法使用。</p>\n<h3>通过子 shell 返回到当前目录</h3>\n<p>如果你曾经配置过一个比较复杂的系统，那么你可能会发现你需要频繁的更换目录，从而很难跟踪你所在的位置。如果在运行完一个命令后自动返回到当前位置，不是很好吗？</p>\n<p>Linux 系统实际上提供了一个解决该问题的方法，并且非常简单。如果你想通过 <code>cd</code> 命令进入另一个目录完成一些任务，然后再返回当前工作目录，那么你可以将命令置于括号中。你可以在你的 Linux 系统上尝试下面这个命令。记住你当前的工作目录，然后运行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28b06cee7b604384522\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n(cd /etc &amp;&amp; ls -a)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28b06cee7b604384522-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28b06cee7b604384522-1\"><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">cd</span> <span class=\"crayon-o\">/</span><span class=\"crayon-i\">etc</span> <span class=\"crayon-o\">&amp;&amp;</span> <span class=\"crayon-i\">ls</span> <span class=\"crayon-o\">-</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>该命令会输出 <code>/etc</code> 目录的内容。现在，检查你的当前工作目录。它和执行该命令前的目录一样，而不是 <code>/etc</code> 目录。</p>\n<p>它是如何工作的呢？运行一个括号中的命令会创建一个子 shell 或一个当前 shell 进程的复刻副本。该子 shell 可以访问所有的父变量，反之则不行。所以请记住，你是在运行一个非常复杂的单行命令。</p>\n<p>在并行处理中经常使用子 shell ，但是在命令行中，它也能为你带来同样的力量，从而使你在浏览文件系统时更加容易。</p>\n<p>作者简介：</p>\n<p>Phil Zona 是 Linux Academy 的技术作家。他编写了 AWS、Microsoft Azure 和 Linux 系统管理的指南和教程。他同时也管理着 Cloud Assessments 博客，该博客旨在帮助个人通过技术实现他们的事业目标。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112583\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112583votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112583\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "你懂 Linux 吗？关于 Linux 你可能不是非常了解的七件事", "front_image_path": "full/325ab1a9c00f3ae9cf8afee6f81fc2552f3bbe26.jpg"},{"url": "http://blog.jobbole.com/112594/", "fav_nums": 3, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/04/e260ae4f5d153b25be87819b25ff0577.jpg"], "comment_nums": 0, "url_object_id": "b8c991ba6492623366372bdc5704ea5d", "create_date": "2017-10-11", "praise_nums": "2", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/1548766\">开源中国编辑部</a>   </div><p>在这篇文章中，将会列出让一些令 Linux 用户印象最深刻且精美的 Linux 发行版，包括对初学者友好和流行的发行版。</p>\n<p> </p>\n<h2><strong><a href=\"https://elementary.io/\" target=\"_blank\" rel=\"nofollow\">1. elementary OS</a></strong></h2>\n<p><strong><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/6edd33865348a5e1e0301d44c93cf113.png\" alt=\"\" width=\"650\" height=\"361\"></strong></p>\n<p>elementary OS 是一款基于 Ubuntu 精心打磨美化的桌面 Linux 发行版，号称是最漂亮的 Linux 发行版。事实上，Elementary 起初是 Ubuntu 的一个主题美化项目，后来因太受欢迎演变成了独立的发行版。在其官网上，elementary OS 对自己的介绍是快速、开源的 Windows/macOS 替代方案。</p>\n<p>elementary OS 是 Ubuntu 的衍生产品，因此它可以完全兼容所有的 Ubuntu 软件包。虽然基于 Ubuntu，但它放弃了许多默认的 Ubuntu 应用程序，使用了许多轻量级的替代方案。例如邮件程序用的是 Geary Mail 而非 ThunderBird，终端用的是 Pantheon Terminal，文本编辑器用的是 Scratch，音乐播放器使用的是 noise，文件管理器是 Pantheon Files 等等。</p>\n<p>这款漂亮的 Linux 发行版参考了不少 macOS 的设计元素，为用户提供了更简洁的体验。elementary OS 从界面外观到系统的各种设计元素都十分精美，逼格甚高！如果想体验 Linux 与漂亮的界面设计，不妨考虑一下它。</p>\n<p>为什么选择 elementary OS？</p>\n<ul>\n<li>与 macOS 相似的外观</li>\n<li>轻量高效的桌面环境</li>\n<li>精心挑选的一系列应用程序</li>\n</ul>\n<p><em><strong><a href=\"https://elementary.io/\" target=\"_blank\" rel=\"nofollow\">查看 elementary OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://www.deepin.org/en/\" target=\"_blank\" rel=\"nofollow\">2. Deepin</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/65288224c0ebefd958dc87ee4fae6d87.png\" alt=\"\" width=\"650\" height=\"406\"></p>\n<p>Deepin，即大家熟知也是口碑极高的深度操作系统，是一款国产的 Linux 发行版。深度操作系统为用户提供了一份美观易用、安全可靠的 Linux 发行版。它不仅仅对最优秀的开源产品进行了集成和配置，还基于 Qt 技术开发了深度桌面环境和深度控制中心。</p>\n<p>深度操作系统有着易用的体验和美观的设计，对于大多数用户来说，它易于安装和使用，能够很好的代替 Windows 系统进行工作与娱乐。此外，它的 Deepin Store 也提供了大量的应用程序。</p>\n<p>深度操作系统的历史可以追溯到 2004 年，其前身 Hiweed Linux 是中国第一个基于 Debian 的本地化版本。在 2008 年更名为深度操作系统。</p>\n<p>Deepin 默认使用的桌面环境经过许多变化，Deepin 早期曾使用过 IceWM、xfce、LXDE 和 GNOME，最终确定使用自行开发的深度桌面环境 (Deepin Desktop Environment)。关于基于的底层系统方面，也经历了 Morphix、Debian 和 Ubuntu 的多次变化。</p>\n<p>为什么选择 Deepin？</p>\n<ul>\n<li>创新的功能</li>\n<li>美观的设计</li>\n<li>Deepin Store</li>\n<li>简单易用的安装程序</li>\n</ul>\n<p><em><strong><a href=\"https://www.deepin.org/en/\" target=\"_blank\" rel=\"nofollow\">查看 Deepin 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://solus-project.com/\" target=\"_blank\" rel=\"nofollow\">3. Solus OS</a></strong></h2>\n<p><strong><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e43eb4380b52fd78ed5b8c3091ae537a.jpg\" alt=\"\" width=\"650\" height=\"366\"></strong></p>\n<p>Solus OS 基于 Debian，是一款从无到有创建的桌面 Linux 发行版。在极短的时间内，Solus OS 成为发展最快、最酷的 Linux 发行版之一。它遵循极简主义的风格，拥有扁平和现代化的外观，Solus OS 默认安装了一系列软件，包括 LibreofficeSuite、Firefox、Thunderbird、XChat、OpenShotVideoEditor 等。</p>\n<p>Budgie 基于 GNOME，但 Solus 自身开发的 Budgie 并没有使用 GNOME Shell，用于 Solus 的 Budgie 有一个可以访问可用应用程序的主菜单。也是在 Budgie 桌面环境的帮助下，Solus 成为了引人注目的 Linux 发行版。此外，Solus 最近添加了对来自 Ubuntu Snappy Store 的 Snaps 的支持，这使得它更加易用。</p>\n<p>为什么选择 Solus？</p>\n<ul>\n<li>发展最快的新发行版之一</li>\n<li>使用 Budgie 桌面环境</li>\n<li>支持 Snap</li>\n<li>开箱即用</li>\n</ul>\n<p><em><strong><a href=\"https://solus-project.com/\" target=\"_blank\" rel=\"nofollow\">查看 Solus 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://nxos.org/\" target=\"_blank\" rel=\"nofollow\">4. Nitrux</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/283a7fc36bcea4c11de8f65128ec5e39.jpg\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>Nitrux 也是一份美观的 Linux 发行版，它是以设计为基础的。值得注意的是，Nitrux 基于 Ubuntu unstable dev 分支，采用基于 KDE Plasma 5 和 Qt 的 Nomad 桌面环境。Nitrux 的特色软件有 Babe 音乐播放器及 Nomad 防火墙实用工具。</p>\n<p>Nitrux 的核心思想包括便于移植的通用应用程序格式，也附带了定制的软件，它采用滚动发布模式，仅提供 64 位系统。</p>\n<p>为什么选择 Nitrux OS？</p>\n<ul>\n<li>自主定制的应用程序</li>\n<li>美观的桌面 UI</li>\n<li>极简的设计</li>\n</ul>\n<p><em><strong><a href=\"https://nxos.org/\" target=\"_blank\" rel=\"nofollow\">查看 Nitrux OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://neon.kde.org/\" target=\"_blank\" rel=\"nofollow\">5. KDE Neon</a></strong></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/aded704033143a63b4b0d4914992457c.jpg\" alt=\"\" width=\"650\" height=\"360\"></p>\n<p>如果你追求美观和轻量级的 Linux 使用体验，并且还是 KDE 的忠实拥趸，那不妨考虑一下 KDE Neon 吧。Neon 提供一个当最新的 KDE 软件一发布就可以获得的途径（快速的软件更新仓库），它让 KDE 粉丝可以用上最新的 KDE 软件。</p>\n<p>KDE Neon 基于 LTS 版的 Ubuntu，关于外观方面，KDE Neon 的主要特色是它美观的扁平主题，可轻松添加到桌面的小部件，还有直观和对用户友好的菜单。使用这个美观的 Linux 发行版，不仅可以获得 LTS 版 Ubuntu 带来的稳定性，还能享受流畅的体验。</p>\n<p>为什么选择 KDE Neon？</p>\n<ul>\n<li>最新的 KDE 软件</li>\n<li>基于坚实的 Ubuntu LTS</li>\n<li>自由使用、美观、扁平化主题</li>\n</ul>\n<p><em><strong><a href=\"https://neon.kde.org/\" target=\"_blank\" rel=\"nofollow\">查看 KDE Neon 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"http://ferenos.weebly.com/\" target=\"_blank\" rel=\"nofollow\">6. feren OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/a0b0772747131c92fccad968e29149a0.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>feren OS 是基于 Linux Mint 的桌面 Linux 发行，它定制开发的 Cinnamon 桌面环境使得它成为最具视觉吸引力的 Linux 发行版。此外，它还提供了与 macOS 和 Windows 操作系统相似的使用体验。</p>\n<p>feren OS 的外观初看起来会感觉十分熟悉，因为它有一个类似 Windows 的“开始”按钮和任务栏，不仅仅外观相似，feren OS 还包含可运行 Windows 应用程序的 WINE 兼容层。所以 feren OS 是给用户的体验是既熟悉又创新的。</p>\n<p>为什么选择 feren OS？</p>\n<ul>\n<li>熟悉的桌面和开始菜单</li>\n<li>简洁、扁平化的设计</li>\n<li>现代化的风格，对初学者友好</li>\n</ul>\n<p><em><strong><a href=\"http://ferenos.weebly.com/\" rel=\"nofollow\">查看 feren OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://system76.com/pop\" target=\"_blank\" rel=\"nofollow\">7. Pop!_OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/773927e7840ca929c3a50e0e29613f0f.jpg\" alt=\"\" width=\"650\" height=\"366\"></p>\n<p>Pop!_OS 是知名 Linux 笔记本厂商 System76 最近推出的 Linux 发行版，基于 Ubuntu 和 GNOME 桌面环境，希望能为用户提供个性化且新鲜的使用体验。</p>\n<p>虽然基于 GNOME 桌面环境，但 System76 会对用户界面、驱动等内容进行个性化定制，具有现代化和简洁的外观，更好地控制用户体验。</p>\n<p>Pop!_OS 的创意和功能重点是针对专业用户，让 Linux 桌面变得更具生产力，成为工程师、开发人员以及计算机科研领域的好帮手。</p>\n<p>为什么选择 Pop!_OS?</p>\n<ul>\n<li>舒缓的色彩主题</li>\n<li>新鲜的外观和极简主义的风格</li>\n<li>专为计算机科学领域的创意而设计</li>\n</ul>\n<p><em><strong><a href=\"https://system76.com/pop\" target=\"_blank\" rel=\"nofollow\">查看 Pop!_OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://zorinos.com/\" target=\"_blank\" rel=\"nofollow\">8. Zorin OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/a7ab31009716c4e134c9df4166337873.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>Zorin OS 被大众最为熟知的特色就是拥有与 Windows 高度相似的图形界面，默认配置了不少桌面特效。用户对其的第一印象基本上是漂亮、符合传统 Windows 的使用习惯。</p>\n<p>Zorin OS 是一款基于 Ubuntu 的 Linux 发行版，特别为 Linux 新手而设计。因为内置了 WINE，所以能支持很多 Windows 下的应用软件，还自带了常用的办公娱乐应用。该发行版的终极目标是提供一份可作为 Windows 替代的 Linux 选择，并让 Windows 用户在避免烦琐的同时享受 Linux 的所有特性。</p>\n<p>为什么选择 Zorin OS？</p>\n<ul>\n<li>符合 Windows 的使用习惯</li>\n<li>热门的发行版，有很好的支持</li>\n<li>精美稳定的 Linux 桌面体验</li>\n</ul>\n<p><strong><em><a href=\"https://zorinos.com/\" target=\"_blank\" rel=\"nofollow\">查看 Zorin OS 网站</a></em></strong></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112594\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112594votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112594\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "八款值得尝试的精美的 Linux 发行版（2017 版）", "front_image_path": "full/6085acc0af4696f5d49164561c6bc4f9b590fc26.jpg"},{"url": "http://blog.jobbole.com/112589/", "fav_nums": 5, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/02f8cb35080c751b3ae2d27bf7843287.jpg"], "comment_nums": 2, "url_object_id": "b2b4f5cd38ef5798d885749ba5917116", "create_date": "2017-10-10", "praise_nums": "4", "tags": "IT技术,adobe,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.maketecheasier.com/adobe-alternatives-for-linux/\">Toni Matthews-el</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8928-1.html\">Linux中国/geekpi</a>   </div><p>你是一名正在寻找 Adobe 的替代品的 Linux 用户吗？那你不是一个人。如果你是一个狂热的平面设计师，那么你可能很擅长避开昂贵的 Adobe 产品。不过，对于 Adobe 来说，Linux 用户通常是其支持最不利的。因此，Adobe 的替代品是必须的 —— 但是最好的选择是什么？</p>\n<p>这最终要看具体的 Adobe 程序和你希望完成的事情。幸运的是，由于需求是所有发明之母，有人响应了这些号召。其结果是出现了一系列高效的 Adobe 替代品。</p>\n<h3 id=\"toc_1\">Evince (Adobe Acrobat Reader)</h3>\n<p><img class=\"aligncenter\" title=\"Evince_AdobeReaderSubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/02f8cb35080c751b3ae2d27bf7843287.jpg\" alt=\"Evince_AdobeReaderSubstitute\"></p>\n<p>就像 Adobe Acrobat Reader 一样，<a href=\"https://wiki.gnome.org/Apps/Evince\">Evince</a> 是一个“支持多种文档格式的文档查看器”。例如，用户可以使用 Evince 作为 PDF 查看器。它还支持各种漫画书格式（cbr、cbz、cb7 和 cbt）。你可以在 Evince 网站上找到<a href=\"https://wiki.gnome.org/Apps/Evince/SupportedDocumentFormats\">支持格式的完整列表</a>。</p>\n<p>对于 Evince ，Linux 用户不用高估，也不用贬低，它就是个标准的查看器。你可以在需要时前往官方网站进行更新。</p>\n<h3 id=\"toc_2\">Pixlr (Adobe Photoshop)</h3>\n<p><img class=\"aligncenter\" title=\"Pixlr_Photoshopsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/368e5c3d6ee1d12ff97840c95c35d372.jpg\" alt=\"Pixlr_Photoshopsubstitute\"></p>\n<p>关于 <a href=\"https://pixlr.com/\">Pixlr</a> 的很棒的一点是这个 Adobe 替代品的各种工具可以在线获得。如果你有一个互联网连接，那么你就有一个强大的图像编辑工作区。</p>\n<p><a href=\"https://pixlr.com/editor/\">Pixlr Editor</a> 是 Photoshop 的一个功能强大的替代品，你可以使用图层和相关效果。它还有一些漂亮的绘图和颜色编辑工具。<a href=\"https://pixlr.com/express/\">Pixlr Express</a> 没有这么多功能，因为它主要用于图像增强、调整颜色和清晰度，并增加一些 Instagram 适用的效果！</p>\n<p>你可以通过 Pixlr 完成的任务简直不可置信，而且完全免费的。</p>\n<h3 id=\"toc_3\">Inkscape (Adobe Illustrator)</h3>\n<p><img class=\"aligncenter\" title=\"Inkscape_Illustratorsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/42a9a8d70f0d2685aeece355411a4def.jpg\" alt=\"Inkscape_Illustratorsubstitute\"></p>\n<p><a href=\"https://inkscape.org/en/\">Inkscape</a>是另一个值得推荐的免费 Adobe 替代品。它主要作为一个“专业的矢量图形编辑器”。除了 Illustrator，Inkscape 也与 Corel Draw、Freehand 和 Xara X 的功能差不多。</p>\n<p>它的矢量设计工具可用于制作 logo 和“高可伸缩性”艺术品。Inkscape 包含绘图、形状和文本工具。图层工具允许你锁定、分组或隐藏单个图层。</p>\n<h3 id=\"toc_4\">Pinegrow Web Editor (Adobe Dreamweaver)</h3>\n<p><img class=\"aligncenter\" title=\"Pinegrow_Dreamweaversubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/29f3b3c6087f20365d8dea875bd655e5.jpg\" alt=\"Pinegrow_Dreamweaversubstitute\"></p>\n<p><a href=\"http://pinegrow.com/\">Pinegrow Web Editor</a> 是 Dreamweaver 在 Linux 上的绝佳替代品。该程序可让你在桌面上直接制作 HTML 网站。</p>\n<p>不仅是使用代码创建（而且需要稍后预览），Pinegrow 可以提供详细的可视化编辑体验。你可以直接查看和测试你的 HTML 项目，实时了解链接是否正常工作，或者图片是否在它该在的地方。Pinegrow 还附带了 WordPress 主题构建器。</p>\n<p>免费试用 30 天。如果你喜欢，你可以一次性支付 $49 购买。</p>\n<h3 id=\"toc_5\">Scribus (Adobe InDesign)</h3>\n<p><img class=\"aligncenter\" title=\"Scribus_InDesignsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/49e60536c002546f459886d676d23ebe.jpg\" alt=\"Scribus_InDesignsubstitute\"></p>\n<p><a href=\"https://www.scribus.net/\">Scribus</a> 可能是最接近 Adobe InDesign 的替代品。根据开发者的说法，你应该<a href=\"https://www.scribus.net/why-on-earth-should-i-use-scribus-2/\">认真考虑使用</a> Scribus，因为它是可靠和免费的。</p>\n<p>实际上，Scribus 不仅仅是一个出色的桌面出版工具，也是一个很好的自出版工具。当你可以自己做高质量的杂志和书籍时，为什么要依靠昂贵的商业软件来创建？Scribus 目前允许设计师使用一个 200 色的调色板，下一个稳定版中<a href=\"https://www.scribus.net/because-color-matters/\">承诺将会加倍颜色数</a>。</p>\n<h3 id=\"toc_6\">digiKam (Adobe Lightroom)</h3>\n<p><img class=\"aligncenter\" title=\"digiKam_Lightroomsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/75e5d570b76f8502b3ac02f2696ec0c6.jpg\" alt=\"digiKam_Lightroomsubstitute\"></p>\n<p><a href=\"http://digikam.org/\">digiKam</a> 也许是目前 Linux 用户最好的 Lightroom 替代品。功能包括导入照片、整理图片集、图像增强、创建幻灯片等功能。</p>\n<p>它的时尚设计和先进的功能是真正用心之作。实际上，digiKam 背后的人是摄影师们。不仅如此，他们希望在 Linux 中完成在 Lightroom 能做的任何工作。</p>\n<h3 id=\"toc_7\">Webflow (Adobe Muse)</h3>\n<p><img class=\"aligncenter\" title=\"Webflow_Museubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/fb9b3754aebcc39c1da964700fe8e766.jpg\" alt=\"Webflow_Museubstitute\"></p>\n<p><a href=\"https://webflow.com/\">Webflow</a> 是另一个可以证明你无需下载软件而可以完成很多事的网站。这是一个非常方便的 Adobe Muse 替代品，Webflow 是创建高响应式网站设计的理想选择。</p>\n<p>Webflow 的最好的一方面是你不需要自己编写代码。你只需拖放图像并写入文本。Webflow 为你做了所有杂事。你可以从头开始构建网站，也可以使用各种模板。虽然是免费的，但是其高级版本还提供了额外的功能，如能够轻松地导出 HTML 和 CSS 以在其他地方使用。</p>\n<h3 id=\"toc_8\">Tupi (Adobe Animate)</h3>\n<p><img class=\"aligncenter\" title=\"Tupi_Animatesubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f51344b7a7d54f504851a9c5fa71a2ff.jpg\" alt=\"Tupi_Animatesubstitute\"></p>\n<p><a href=\"http://www.maefloresta.com/portal/\">Tupi</a> 是 Adobe Animate 的替代品，或者也可以用于那些<a href=\"https://www.maketecheasier.com/sites-moving-away-flash/\">不太热衷于 Flash 的人</a>。当然，Tupi 的作者说这并不是与 Flash 竞争。然而，其使用 HTML5 的能力使其成为了理想的替代品。</p>\n<p>在 PC 或平板电脑上绘制 2D 动画。不确定如何开始？使用网站的 <a href=\"https://www.youtube.com/user/maefloresta\">YouTube 教程</a>了解如何制作剪贴画动画以及更多。</p>\n<h3 id=\"toc_9\">Black Magic Fusion (Adobe After Effects)</h3>\n<p><img class=\"aligncenter\" title=\"Fusion_AFterEffectssubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/66943ddefdc61c992d8c204666324759.jpg\" alt=\"Fusion_AFterEffectssubstitute\"></p>\n<p><a href=\"https://www.blackmagicdesign.com/\">Black Magic Fusion</a> 注定是 Adobe After Effects 的替代者。这个视觉效果软件历经了大约 25 年的开发！Fusion 通常用于在好莱坞电影和电视节目中制造令人印象深刻的效果 —— 这靠的是其丰富而时尚的功能。</p>\n<p>Fusion 通过使用节点，即那些“代表效果、过滤器和其他处理的小图标”工作。将这些节点连接在一起，创建一系列复杂的视觉效果。该程序包括许多功能，如图片修饰、对象跟踪和令人兴奋的 3D 效果。</p>\n<p>你可以选择免费版或者 $995 的 Fusion Studio。为了帮助你决定，<a href=\"https://www.blackmagicdesign.com/products/fusion/compare\">你可以比较</a>免费和高级版的 Fusion 功能。</p>\n<h3 id=\"toc_10\">总结</h3>\n<p>如你所见，这些远不止于是 Adobe 替代品。由于开源的缘故，显著提升的替代品的不断地发布。我们很快就会看到一个仅为 Linux 用户创建的完整套件。在此之前，你可以随意选择这些替代品。</p>\n<p>知道这里没有提到的其它有用的 Adobe 替代品吗？在下面的评论区分享软件建议。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112589\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112589votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112589\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "Adobe 软件的最佳 Linux 替代品", "front_image_path": "full/4439e403a2c28b82101fcf6605f36f3d3a79f7f2.jpg"},{"url": "http://blog.jobbole.com/112606/", "fav_nums": 1, "front_image_url": ["http://wx1.sinaimg.cn/mw690/7cc829d3gy1fkgdqomc4yj20ku0d1ad9.jpg"], "comment_nums": 0, "url_object_id": "3e1c1959a27ac7a0987efd85517a6f29", "create_date": "2017-10-13", "praise_nums": "1", "tags": "职场,程序员", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://ruby-on-wheels.github.io/blog/the-first-150-days-of-van-life/\">Jakob Class</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我的房车编程生活今天已经到了第 150 天。自今年 5 月离开柏林以来，我访问了 6 个国家，行程超过了 1.2 万公里，收集了 18 万瓦时(Wh）太阳能，并沿途遇到了许多有趣的人。</p>\n<p>房车编程生活无疑是我人生中值得纪念的一次经历。</p>\n<h2>接受想法驱动，不必遵循计划</h2>\n<p>作为一名可远程工作的软件工程师，我的作息基本看大脑的状态：兴奋时工作，疲倦时休息；我的生活以前完全围绕着灵活的工作时间进行安排。通常，我会对下周有一个详细的计划，比如周一和前同事共进午餐，周二参加生日晚宴，周三看电影，周四发表演讲，周五去听音乐会，周六来次（自行车）骑行等等。</p>\n<blockquote><p>编注：小编从这位程序员小哥的 GitHub 资料中发现，原来他是 GitHub 职员。在伯乐在线之前的编译文章《<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5MzA0OTkwMA==&amp;mid=2651196256&amp;idx=1&amp;sn=ec8000f5a4d24650b307079b0909dbdc&amp;chksm=bd6e57238a19de351524cbd7b2328f973322949fbbfe1660afd4d608a2dbe70dd90c70357a4e&amp;scene=21#wechat_redirect\" target=\"_blank\">为什么招不到最好的程序员？StackOverflow 创始人有些建议</a>》中就提到「GitHub 至少三分之二是远程工作者」，WordPress 绝大多数员工都是可远程工作的，Stack Overflow 也有非常高的比例。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkgdp0pa77j20f70fun1m.jpg\" width=\"547\" height=\"570\"></p></blockquote>\n<p>我很少躺在吊床上放松休息，或在拐角的公园里享受阳光，放飞思绪。尽管我的工作很棒，我经常觉得需要休息一下：放个假或只是换个地方工作几周。</p>\n<p>但如今生活在房车中，我不再有这样的想法。我不再遵循固定的计划，而是接受随机想法的驱动：海浪很大的时候去冲浪；天冷空气好的时候就工作；天气炎热的时候去游泳；困倦的时候补个觉；当我喜欢一个地方，我就呆在那里；当我遇到一个很酷的人，我就加入其中；当我的房车坏了，我试着把它修好。</p>\n<p>你看，我的房车（编程）生活，如同<span style=\"color: #000000;\">源源不断的不可控事件</span>：没有太多的计划，事情都自然而然地发生。甚至有时，我什么都不做，只是躺在吊床上放松休息。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8728.JPG\" alt=\"Relaxing in my hammock\"></p>\n<h2>更健康的生活</h2>\n<p>柏林为人们提供了各种美味可口的食物。如果我能在街角买到一顿大餐，为什么要把宝贵的时间花在购物和烹饪上呢？尽管在大城市里上馆子吃饭很容易，但是坚持健康的饮食则更具挑战性。我过去经常吃沙瓦玛（ shawarma）、汉堡、烤肉串、炸肉排或披萨等各种垃圾食物。</p>\n<p>自从搬进房车后，我经常下厨。原料是各种各样的蔬菜和<strong>大量</strong>橄榄油，有时我还用肉或鱼来增添花样，烹饪不再是一种负担。我的人生不再匆忙，因为我再也不必在 20 分钟内赶往某处；相反地，时间由我支配，我很享受它。在准备一顿健康饭菜的同时，我还放松了心情，实现了双赢。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8473.JPG\" alt=\"Preparing a meal in my van\"></p>\n<p>我尽可能把车停在开阔的绿色自然环境中。打开窗户，这样一整天都能呼吸到新鲜空气。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_9161.JPG\" alt=\"Working in the van right next to the sea\"></p>\n<p>我有时甚至在车外的野营桌上工作（见下图）。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8258.JPG\" alt=\"Working outside of the van right next to the sea\"></p>\n<p>我如今在自然环境中工作，而不再是“臭哄哄”的办公室内，那里充斥着空调制造的“人造假空气”。当我回头远眺，我看到的是树木、群山、大海或河流。离开桌子，只需一秒，我便能光脚步入草地、沙滩或水中。我不再需要大清早骑车或坐地铁，赶往污染严重的拥挤都市。</p>\n<p>在柏林的时候，我经常会有轻微的感冒。大概每隔三个月，我会感到有点恶心或疲惫。但自从我住进房车以来，五个月都<strong>没有</strong>生过病！</p>\n<p><img class=\"alignnone aligncenter\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_7719.JPG\" width=\"750\" height=\"563\"></p>\n<p style=\"text-align: center;\">（Jakob 改装后房车，车头顶部加上了太阳能板）</p>\n<h2>生活更加可持续</h2>\n<p>当你住在柏林的普通公寓时，你会觉得资源是无限的。打开水龙头，会有无尽的淡水；设备插入插座后，你可以让它一直工作；用 2000 瓦的吹风机吹干头发，或者晚上洗个 20 分钟的热水澡，这些都完全没有问题！</p>\n<p>但当你住进一辆房车时，一切都变了。突然之间，所有的资源都是有限的，你必须以可持续的方式来利用它们。当我的水箱空了，我必须去寻找水源，将水带回车内。天黑后，车内的电池还留有 200 Ah，充电必须等到第二天天亮。我在柏林刷牙时的用水量，可能足够让现在的我支撑整整一天。而当时 80% 的水可能从水龙头流出后，就直接流入了下水道，甚至都没有接触到我的身体！</p>\n<p>房车具有的局限性并不一定会导致生活质量的下降。我仍然可以做想做的一切，只是，我不再浪费那么多资源，因为我更清楚它们是有限、不可再生的。这一点我们经常会忘记，特别是住在西部（发达）城市的时候。</p>\n<h2>变得更加外向</h2>\n<p>在柏林，我通常不会在街上随便找一个陌生人搭讪。我会和朋友们在一起制订计划，通常会忽略身边的陌生人。即使注意到他们，他们大多看起来很忙碌，或者倦容满面。</p>\n<p>如今，工作结束后，当我离开房车前往海滩，我通常会遇到放松和开放的人，他们是来度假、旅行者、冲浪的，或者是自由自在的嬉皮士。他们似乎都没有压力，每个人都有自己有趣的故事。如果我突然接近并向他们打招呼，没有人会感到惊讶，大家都已经习以为常了。与之前的旅行相比，我更能接触到新的朋友。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_9413.JPG\" alt=\"Eating together with together travelers\"></p>\n<h2>一个更加简单、快乐的生活?</h2>\n<p>在过去的 150 天里，我的生活变得更加简单。我感到更加舒适自在，因为我不必再多做计划。今天做不完的事情，我大可不必担心，可以放到明天继续做。正如一位西班牙旅行者曾对我说的：</p>\n<blockquote><p>太阳每日照常升起，生活仍在继续。</p></blockquote>\n<p>我现在整个人感到身心平衡，并憧憬着前方未知的冒险旅程！</p>\n<p>译注：在“国际化大都市”工作的单身狗受到了成吨的暴击，一边翻一边留下 130 滴“羡慕的”眼泪 (;´༎ຶД༎ຶ`) 😭</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112606\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112606votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112606\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我见青山多妩媚，料青山见我应如是        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 40</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "Hello, World！我的房车编程生活，已经 150 天了", "front_image_path": "full/79d64de6f0b671c661012e01ecb710c7bbfc064d.jpg"},{"url": "http://blog.jobbole.com/112597/", "fav_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/11/e78e36715813f49e9e62fe0c6050075c.png"], "comment_nums": 0, "url_object_id": "4983acc210c6e8069653ffd465293cd6", "create_date": "2017-10-11", "praise_nums": "1", "tags": "IT技术,MySQL,数据库", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/kismetv/p/7615738.html\">编程迷思</a>   </div><h2>前言</h2>\n<p>作为一名后台开发，对数据库进行基准测试，以掌握数据库的性能情况是非常必要的。本文介绍了MySQL基准测试的基本概念，以及使用sysbench对MySQL进行基准测试的详细方法。</p>\n<p><strong>文章有疏漏之处，欢迎批评指正。</strong></p>\n<h1>一、基准测试简介</h1>\n<h2>1、什么是基准测试</h2>\n<p>数据库的基准测试是对数据库的性能指标进行定量的、可复现的、可对比的测试。</p>\n<p><strong>基准测试与压力测试</strong></p>\n<p>基准测试可以理解为针对系统的一种压力测试。但基准测试不关心业务逻辑，更加简单、直接、易于测试，数据可以由工具生成，不要求真实；而压力测试一般考虑业务逻辑(如购物车业务)，要求真实的数据。</p>\n<h2>2、基准测试的作用</h2>\n<p>对于多数Web应用，整个系统的瓶颈在于数据库；原因很简单：Web应用中的其他因素，例如网络带宽、负载均衡节点、应用服务器（包括CPU、内存、硬盘灯、连接数等）、缓存，都很容易通过水平的扩展（俗称加机器）来实现性能的提高。而对于MySQL，由于数据一致性的要求，无法通过增加机器来分散向数据库写数据带来的压力；虽然可以通过前置缓存（Redis等）、读写分离、分库分表来减轻压力，但是与系统其它组件的水平扩展相比，受到了太多的限制。</p>\n<p>而对数据库的基准测试的作用，就是分析在当前的配置下（包括硬件配置、OS、数据库设置等），数据库的性能表现，从而找出MySQL的性能阈值，并根据实际系统的要求调整配置。</p>\n<h2>3、基准测试的指标</h2>\n<p>常见的数据库指标包括：</p>\n<ul>\n<li>TPS/QPS：衡量吞吐量。</li>\n<li>响应时间：包括平均响应时间、最小响应时间、最大响应时间、时间百分比等，其中时间百分比参考意义较大，如前95%的请求的最大响应时间。。</li>\n<li>并发量：同时处理的查询请求的数量。</li>\n</ul>\n<h2>4、基准测试的分类</h2>\n<p>对MySQL的基准测试，有如下两种思路：</p>\n<p>（1）针对整个系统的基准测试：通过http请求进行测试，如通过浏览器、APP或postman等测试工具。该方案的优点是能够更好的针对整个系统，测试结果更加准确；缺点是设计复杂实现困难。</p>\n<p>（2）只针对MySQL的基准测试：优点和缺点与针对整个系统的测试恰好相反。</p>\n<p>在针对MySQL进行基准测试时，一般使用专门的工具进行，例如mysqlslap、sysbench等。其中，sysbench比mysqlslap更通用、更强大，且更适合Innodb（因为模拟了许多Innodb的IO特性），下面介绍使用sysbench进行基准测试的方法。</p>\n<h1>二、sysbench</h1>\n<h2>1、sysbench简介</h2>\n<p>sysbench是跨平台的基准测试工具，支持多线程，支持多种数据库；主要包括以下几种测试：</p>\n<ul>\n<li>cpu性能</li>\n<li>磁盘io性能</li>\n<li>调度程序性能</li>\n<li>内存分配及传输速度</li>\n<li>POSIX线程性能</li>\n<li>数据库性能(OLTP基准测试)</li>\n</ul>\n<p>本文主要介绍对数据库性能的测试。</p>\n<h2>2、sysbench安装</h2>\n<p>本文使用的环境时CentOS 6.5；在其他Linux系统上的安装方法大同小异。MySQL版本是5.6。</p>\n<p>（1）下载解压</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441bb117456844\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nwget https://github.com/akopytov/sysbench/archive/1.0.zip -O \"sysbench-1.0.zip\"\r\nunzip sysbench-1.0.zip\r\ncd sysbench-1.0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441bb117456844-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d46c441bb117456844-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441bb117456844-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441bb117456844-1\"><span class=\"crayon-e\">wget </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/akopytov/sysbench/archive/1.0.zip -O \"sysbench-1.0.zip\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d46c441bb117456844-2\"><span class=\"crayon-e\">unzip </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0.zip</span></div><div class=\"crayon-line\" id=\"crayon-59e2d46c441bb117456844-3\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n\n</div>\n<p>（2）安装依赖</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441c5679684039\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyum install automake libtool –y</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441c5679684039-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441c5679684039-1\"><span class=\"crayon-e\">yum </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">automake </span><span class=\"crayon-i\">libtool</span><span class=\"crayon-h\"> </span>–<span class=\"crayon-v\">y</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n\n</div>\n<p>（3）安装</p>\n<p>安装之前，确保位于之前解压的sysbench目录中。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441cb090006452\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n./autogen.sh\r\n./configure\r\nexport LD_LIBRARY_PATH=/usr/local/mysql/include #这里换成机器中mysql路径下的include\r\nmake\r\nmake install</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441cb090006452-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d46c441cb090006452-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441cb090006452-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d46c441cb090006452-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441cb090006452-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441cb090006452-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">autogen</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d46c441cb090006452-2\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">configure</span></div><div class=\"crayon-line\" id=\"crayon-59e2d46c441cb090006452-3\"><span class=\"crayon-e\">export </span><span class=\"crayon-v\">LD_LIBRARY_PATH</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#这里换成机器中mysql路径下的include</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d46c441cb090006452-4\"><span class=\"crayon-e\">make</span></div><div class=\"crayon-line\" id=\"crayon-59e2d46c441cb090006452-5\"><span class=\"crayon-e\">make </span><span class=\"crayon-v\">install</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n\n</div>\n<p>（4）安装成功</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441cf337698940\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root&lt;a href=\"http://www.jobbole.com/members/q1531454480\"&gt;@test&lt;/a&gt; sysbench-1.0]# sysbench --version\r\nsysbench 1.0.9</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441cf337698940-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d46c441cf337698940-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441cf337698940-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/q1531454480\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># sysbench --version</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d46c441cf337698940-2\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.0.9</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n\n</div>\n<h2>3、sysbench语法</h2>\n<p>执行sysbench –help，可以看到sysbench的详细使用方法。</p>\n<p>sysbench的基本语法如下：</p>\n<p><strong>sysbench [options]… [testname] [command]</strong></p>\n<p>下面说明实际使用中，常用的参数和命令。</p>\n<h3>（1）command</h3>\n<p>command是sysbench要执行的命令，包括prepare、run和cleanup，顾名思义，prepare是为测试提前准备数据，run是执行正式的测试，cleanup是在测试完成后对数据库进行清理。</p>\n<h3>（2）testname</h3>\n<p>testname指定了要进行的测试，在老版本的sysbench中，可以通过–test参数指定测试的脚本；而在新版本中，–test参数已经声明为废弃，可以不使用–test，而是直接指定脚本。</p>\n<p>例如，如下两种方法效果是一样的：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441d4185865574\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench --test=./tests/include/oltp_legacy/oltp.lua\r\nsysbench ./tests/include/oltp_legacy/oltp.lua</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441d4185865574-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d46c441d4185865574-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441d4185865574-1\"><span class=\"crayon-v\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">lua</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d46c441d4185865574-2\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n\n</div>\n<p>测试时使用的脚本为lua脚本，可以使用sysbench自带脚本，也可以自己开发。对于大多数应用，使用sysbench自带的脚本就足够了。不同版本的sysbench中，lua脚本的位置可能不同，可以自己在sysbench路径下使用find命令搜索oltp.lua。P.S.：大多数数据服务都是oltp类型的，如果你不了解什么是oltp，那么大概率你的数据服务就是oltp类型的。</p>\n<h3>（3）options</h3>\n<p>sysbench的参数有很多，其中比较常用的包括：</p>\n<p><strong>MySQL</strong><strong>连接信息参数</strong></p>\n<ul>\n<li>–mysql-host：MySQL服务器主机名，默认localhost；如果在本机上使用localhost报错，提示无法连接MySQL服务器，改成本机的IP地址应该就可以了。</li>\n<li>–mysql-port：MySQL服务器端口，默认3306</li>\n<li>–mysql-user：用户名</li>\n<li>–mysql-password：密码</li>\n</ul>\n<p><strong>MySQL</strong><strong>执行参数</strong></p>\n<ul>\n<li>–oltp-test-mode：执行模式，包括simple、nontrx和complex，默认是complex。simple模式下只测试简单的查询；nontrx不仅测试查询，还测试插入更新等，但是不使用事务；complex模式下测试最全面，会测试增删改查，而且会使用事务。可以根据自己的需要选择测试模式。</li>\n<li>–oltp-tables-count：测试的表数量，根据实际情况选择</li>\n<li>–oltp-table-size：测试的表的大小，根据实际情况选择</li>\n<li>–threads：客户端的并发连接数</li>\n<li>–time：测试执行的时间，单位是秒，该值不要太短，可以选择120</li>\n<li>–report-interval：生成报告的时间间隔，单位是秒，如10</li>\n</ul>\n<h2>4、sysbench使用举例</h2>\n<p>在执行sysbench时，应该注意：</p>\n<p>（1）尽量不要在MySQL服务器运行的机器上进行测试，一方面可能无法体现网络（哪怕是局域网）的影响，另一方面，sysbench的运行（尤其是设置的并发数较高时）会影响MySQL服务器的表现。</p>\n<p>（2）可以逐步增加客户端的并发连接数（–thread参数），观察在连接数不同情况下，MySQL服务器的表现；如分别设置为10,20,50,100等。</p>\n<p>（3）一般执行模式选择complex即可，如果需要特别测试服务器只读性能，或不使用事务时的性能，可以选择simple模式或nontrx模式。</p>\n<p>（4）如果连续进行多次测试，注意确保之前测试的数据已经被清理干净。</p>\n<p>下面是sysbench使用的一个例子：</p>\n<h3>（1）准备数据</h3>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441d8225252800\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-test-mode=complex --oltp-tables-count=10 --oltp-table-size=100000 --threads=10 --time=120 --report-interval=10 prepare</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441d8225252800-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441d8225252800-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mode</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tables</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">count</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">table</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">100000</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">threads</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">time</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">interval</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">prepare</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n\n</div>\n<p>其中，执行模式为complex，使用了10个表，每个表有10万条数据，客户端的并发线程数为10，执行时间为120秒，每10秒生成一次报告。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/82a41dd113faf12511a4a9eeb23eb804.png\" alt=\"\"></p>\n<h3>（2）执行测试</h3>\n<p>将测试结果导出到文件中，便于后续分析。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441de666914588\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-test-mode=complex --oltp-tables-count=10 --oltp-table-size=100000 --threads=10 --time=120 --report-interval=10 run &gt;&gt; /home/test/mysysbench.log</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441de666914588-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441de666914588-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mode</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tables</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">count</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">table</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">100000</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">threads</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">time</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">interval</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysysbench</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n\n</div>\n<h3>（3）清理数据</h3>\n<p>执行完测试后，清理数据，否则后面的测试会受到影响。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d46c441e2104711978\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 cleanup</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d46c441e2104711978-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d46c441e2104711978-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cleanup</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n\n</div>\n<h2>5、测试结果</h2>\n<p>测试结束后，查看输出文件，如下所示：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/bc2d91443c26b403618e0378598e0f0d.png\" alt=\"\"></p>\n<p>其中，对于我们比较重要的信息包括：</p>\n<p>queries：查询总数及qps</p>\n<p>transactions：事务总数及tps</p>\n<p>Latency-95th percentile：前95%的请求的最大响应时间，本例中是344毫秒，这个延迟非常大，是因为我用的MySQL服务器性能很差；在正式环境中这个数值是绝对不能接受的。</p>\n<h1>三、建议</h1>\n<p>下面是使用sysbench的一些建议。</p>\n<p>1、在开始测试之前，应该首先明确：应采用针对整个系统的基准测试，还是针对MySQL的基准测试，还是二者都需要。</p>\n<p>2、如果需要针对MySQL的基准测试，那么还需要明确精度方面的要求：是否需要使用生产环境的真实数据，还是使用工具生成也可以；前者实施起来更加繁琐。如果要使用真实数据，尽量使用全部数据，而不是部分数据。</p>\n<p>3、基准测试要进行多次才有意义。</p>\n<p>4、测试时需要注意主从同步的状态。</p>\n<p>5、测试必须模拟多线程的情况，单线程情况不但无法模拟真实的效率，也无法模拟阻塞甚至死锁情况。</p>\n<h1>参考文献</h1>\n<p>http://blog.csdn.net/oahz4699092zhao/article/details/53332105</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112597\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112597votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112597\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "详解 MySQL 基准测试和 sysbench 工具", "front_image_path": "full/35011d6168be00e949624c665041dc724e3ad786.jpg"},{"url": "http://blog.jobbole.com/112588/", "fav_nums": 0, "front_image_url": ["http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkf7mv1sa4j20x30im0vd.jpg"], "comment_nums": 0, "url_object_id": "e709e9a89b7140ade9b9b5822de56153", "create_date": "2017-10-12", "praise_nums": "2", "tags": "职场", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q1857502771\">暖日生烟</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://techcrunch.com/2017/08/27/one-morning-when-gregor-samsa-woke-from-troubled-reams-he-found-himself-transformed-in-his-bed-into-a-manager/?\">Jon Evans</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我正在一点一点的从一个工程师转型为管理者。别弄错了，虽然我在转管理，但我仍然在每天写代码。不过我发现自己在会议和电话中会花越来越多的时间去分析讨论，试着去组织团队，并且为全局部署而不是具体战术而烦恼。</p>\n<p>当然这不是一件坏事。高层次的决策往往比单个的类和函数的细节更有影响。让一个团队更有效率，比仅仅让自己更有生产力有更高的杠杆作用。但我想我已经从我多年来的编程中吸取到了一些经验。我希望大部分经验可以应用于管理方面。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkf7mv1sa4j20x30im0vd.jpg\" width=\"690\" height=\"388\"></p>\n<h3>1、没有规定（rules），只有公案（koans）</h3>\n<blockquote><p>译注：公案（Koan）有五种重要的涵义： 作悟禅的工具； 作考验的方法； 作权威的法范； 作印证的符信； 作究竟的指点。）</p></blockquote>\n<p>举个例子：DRY，意思是「不要重复你自己」。作为软件的基本规则这很好理解，因为很多话可以证明：“我做 X 是因为它没有重复。”这说得通，不是吗？如果你有两个或者两个以上部分的代码在做相同的事情，说明你正在浪费。而且如果当你需要改变它们其中一个的时候，你可能也需要改变其他的，并且你很可能会忘记这么做。当它们不同步时，你会得到一个怪异的 bug。因此很显然你不能重复你自己。</p>\n<p>然而，在使用了几年之后，人们开始怀疑它的普遍适用性。假如你的两个方法中包含相同的代码块，所以你将其拿出来形成一个单独的函数。通常那些方法会开始朝不同的方向发展…接着你发现自己要在函数中加入更多的参数，很可能为结果立了更多 flags……然后下一个接手的程序员会因为分离出来的函数以及它所带的特定的参数和结果，而出现认知负载。你会意识到如果当初允许自己重复，并让两块代码自然的发展为不同的个体，你生成的代码将会更简单直观。</p>\n<p>这意味着 DRY 不好吗？当然不是！通常在合适的环境下使用 DRY 是正确的…好吧，也许。我个人的经验是：“重复一次是可以的，超过一次就不太好了…当然这取决于所处的环境。”因为所有事都取决于环境。DRY 的目的并不是为了 DRY。如果你迷信于此，小孩儿，那你还有太多要学。DRY 的目的为了让你了解 DRY。那当然不是规定，仅仅是公案。</p>\n<p>（让我重申一遍：我在讨论的是软件。在我的经验中，硬件规定的确更倾向于是我们所理解中的规定。这就是我为什么要从电气工程转到软件的原因）</p>\n<p>细想我最喜欢的两个计算机科学“定律”。第一：“计算机科学中没有一个问题是不能通过添加另一层抽象来解决的！”这句话完全正确吗？当然不。这在现象学上是正确的吗？实际上，的确是。这是否意味着抽象是解决任何问题的正确途径？不，不是。它是一个公案，可以启发思想。</p>\n<p>还有我历来最喜欢的：“第一优化定律：不要这样做。第二优化定律（对专家而言）：不要又这样做。”这显然是一个公案，却称自己为法规。是时候让你的代码运行的更快吗？不。是时候让你的代码运行的更快吗？还不是。什么意思？意思是要考虑到时间，复杂性，认知负载，具体结果，生活意义，人类存在的意义。并且三思而后行，小孩儿。但不要花太长时间，我们还有工作要做。</p>\n<h3>2、要想得到他人的信任，先信任他人</h3>\n<p>这不仅仅针对于管理者。虽然它对管理者尤其重要。信任是你真正拥有的唯一价值。如果你的公正、判断、理解、诚实不被信任。接下来你组织的成员将把你视为祸害并绕着你走。然而，如果你是个有能力但不被信赖的开发者，你可能还有一些价值。虽然你在每个决定上做的努力都会被大大消减。</p>\n<p><strong>不过更重要的一点是：一个团队的成员需要互相信任。</strong>当 Natascia 说：“我来解决那个问题单（ticket）”，你必须相信她会去做。当你说：“Peter 能在截止时间前完成的。”，你必须相信那会实现。当某人说，“我有一个疯狂的点子”，他们必须信任他们会被尊重和认真对待，尽管那点子的确很疯狂。</p>\n<p><strong>你是如何建立和得到信任的？答案很简单：你去信任他人。</strong>你相信那个说他可以学会这个新库并且在周一前会整合完的人。你相信那个说他需要提前离开，因为家里有事而会错过明天工作的人。你相信那些想在截止日期前一个月休假的人，因为他们觉得自己已经开始筋疲力尽了。你相信说想要解决难题的初级程序员。</p>\n<p><strong>但你不总是正确的。有些时候人在工作上存了坏心。</strong>你需要揭露这些人的真面目，让他们尽早离开。有时候你要信任那些真心想成功的人，虽然他们会失败。但违反常识的是，长远来看这通常是个胜利。因为那些人会记住你的信任，他们会尽一切努力来报答你。</p>\n<h3>3、简单比优雅重要的多</h3>\n<p>我也喜欢紧凑优雅的代码。我喜欢灵活的框架，有如此多抽象层次随时待命，无论抛出什么改变的需求都能解决。我喜欢使用位向量、位位移、略微复杂的数据结构和不太流行且古怪的小语言特性，但在特定环境下十分实用。</p>\n<p>然而你并不只是为了你自己写代码。即使它只是个“原型”。（我已经记不清我有多少“原型”在多次对层操作和润色的过程中出现问题。）而且你不仅仅是为了解决当前的问题编写它。你正在为了下一个接手的开发者可以使用它来解决下一个问题而编写。把你写到那五行代码扩充为十行可以增强其可读性，你知道吗，也许扩展为十五行效果会更好。</p>\n<p>你可以提前尝试并用灵活且充满抽象的框架解决它们。但是也许预言不是你的强项，也许你关于下一个问题的概念的想法完全是错误的。也许仅仅编写足够简单的代码才是最佳选择。有一个命名约定和一个编码风格，让它读起来像英语一样。也许不是添加一个类，而是下一个开发者在试图跟随你的控制流程时必须保持另一个文件的开放。你应该用愚蠢的方式，不雅的方式，简单的方式。</p>\n<h3>4、动力比大多数事都重要</h3>\n<p>我们都曾见过这种情况。一周里每个人都在检查代码，构建显而易见的雏形，每天不断增加特性，测试覆盖率越来越高。疏忽也随着生产的想法和解决方案而出现。不知怎么的下一周所有事都变得缓慢起来。关于 A 的决定，会影响到 B、C和 D。当人们可以运行D、E 和 F 时，它们不是逻辑序列发展上的一部分。于是需要做更多的假设，认知负载加重，你不得不模拟出一堆东西来写出非模仿代码。一些人需要做这个决定。</p>\n<p>或许不是决定会瘫痪，是你上周所做的一切都在错误的基础上，是一个“地震多发区”的技术负债。你需要停止所有事返回并重构它。而且你必须马上开始，因为等的时间越长，事情会变得越糟糕。没人想看到这种事发生 。但他们宁愿现在面对也比下个月知道的好。让暴风雨来的更猛烈些吧。</p>\n<p>也许上周每个人都拼劲全力，现在实在撑不住了。你知道该怎样吗？得让他们休息一下，每个人，休息一整天。我保证，这会给你接下来的“长跑”节省时间。</p>\n<p>I我们很难定义、衡量以及说明动力。但它在软件开发中是真实存在的东西。而且它的缺失会成为造成首要影响，导致我们需要去解决很多根本问题。别忽略它，也别期望或假装它会神奇地回来。察觉警报并迅速采取行动。</p>\n<h3>5、与和你互补而不是像你一样的人一起工作</h3>\n<p>每当我看到人们根据“文化契合度”来找人的时候，我就会拼命翻白眼。你知道大多单一栽培会发生什么吗？他们遭遇了他们不知如何解决的病原体，然后嗝屁死翘翘了。</p>\n<p>你不会希望你的所有开发者、设计者、 QA人员、产品人员、销售人员和执行官是彼此的克隆人。你肯定不想。每个人都有自己的长处和短处、优点和缺点。你想要雇佣的是他们的长处，让其他人的长处弥补他们的短处。</p>\n<p>比如说我，写代码非常快，擅于沟通，读写文章都奇快。我在任何时候都能熟悉很多编程语言和框架。我理解东西透彻且迅速，有丰富的经验。然而我还是一个在特定领域、框架和语言缺乏深刻专研、精通掌握的全才。我是一个真正从别人身上获益的建筑师，跟踪所有需要，在骨骼构建好之后添加肉体和润色。我还是个 UX 盲（等一下，你说那些还没对齐？），这一直被当作同事之间的玩笑。</p>\n<p>像我这样的人非常难找到也是及其被需要的。但一个由我和九个像我一样的克隆人组成的公司是从一开始就注定要失败的。唔，我们会把很多事情做好，但只需要一个集中的盲点，一个灾难性的空隙就足以毁灭公司。大多数人承认有些事情他们做不好，另一些人可能需要照应。这些人往往是寻找“文化契合度”的人，并试图雇佣和他们一样的人。真令人哭笑不得。</p>\n<h3>6、任何决定都比没决定强</h3>\n<p>别犹豫，当你拿不准主意时，去做就好了。当然，这可能不适用在生产代码的时候。但它可以应用于除此之外在软件开发里的任何方面。我们在历史上发展最快的行业里工作。我们生活在以指数形式发展的世界里。时间不等人，别浪费它。</p>\n<p>这与低级决策的高级讨论一样真实。在高水平的讨论里，比如“我们应该实现特性 A 还会说 B？我们要用哪种方式实现呢，X 还是 Y？“，常常会产生这样的对话，”让我们先跳过这个…下周再对它进行讨论…“，或者更阴险的，”让我们先研究一下其他人做了什么再来讨论一次。“这样的问题极少情况下会有正确答案。大多时候，像这么说才是正确的，”我会在今天之前决定尝试哪一个，这样我们就可以明天开始行动了。</p>\n<p>甚至 A 选项基本上是错误选择，开始进行 A 大概也比啥都不做强。这和直觉是相悖的，但它通常也是正确的。以实际上手的方式去理解 A 的本质是一个更好的办法，这个道理始终是正确的。这样的理解可能会引导你做出更好的决定。</p>\n<p>对于低级决策，那就更应该如此了。“规范没有说明我们应该如何处理错误条件 X，或者错误信息应该是什么。”(规范似乎是为一个有抱负的乌托邦写的，在这种乌托邦中，错误条件和独角兽一样罕见。)“我知道，我只是想插一句，回去问问他们在这种情况下想做什么!”</p>\n<p>这非常诱人。如果你这么做，没人能指责你哪里做错了。但这么做是错误的。宁愿继续自己做决定，尽管有些鲁莽，也不要什么都不做等着问别人。让它们在你做已经写好的程序和你学到的教训里迭代，虽然你知道这并不完美，也好过从头开始错误认知。它们和项目将会变得更好。快速尝试，快速改变方向。</p>\n<h3>7、保持谦虚，但要自信</h3>\n<p>你不需要所有的答案。甚至是我也不得不勉强承认我不会有全部的答案。可恶，我甚至连它们的大多数也没有，不过我有自信，只要给我足够的时间和精力，我能弄清楚大部分。并且你也可以。</p>\n<p>我们无法都成为 <a href=\"http://blog.jobbole.com/tag/jeff-dean/\" target=\"_blank\">Jeff Dean（谷歌大牛）</a>、中本聪（比特币创始人） 或是 Margaret Hamilton（<a href=\"http://blog.jobbole.com/97936/\" target=\"_blank\">登月计划中的女程序员</a>）。我们在一个充斥着真正的天才和自称天才的地方工作。没人知道所有的事情，每个人都敏锐地意识到他们所不知道的一切。幸运的是，大多数情况下，我们不是科学家。我们的工作不是去寻找新突破。我们的工作是实践他人的发现，使东西运转，希望服务于人们真正想要的东西。也许你永远不会发明任何东西，像是布隆过滤器或默克尔树。不过大多与你共事的人们也不会。而且这不是重点，重点是使用布隆过滤器和默克尔树，亦或是在它们之上建个抽象层，来实际的完成它们。</p>\n<p>所以假设你懂的会比在座的人都多是错误的，就算你觉得他们违背直觉的想法很疯狂，他们的语言选择很糟糕。假设人家比你懂的多也是错误的，即使真是那样，也没关系。世界上多的是聪明人因为一些不可思议的原因什么实际东西也没做出来。（开个廉价的玩笑╮(╯▽╰)╭：这就是为什么我们有学术界的原因。）</p>\n<p>如果你真的做出了一些东西，在面对那些令人眼花缭乱的理论知识，或是和你相似甚至比你做的更糟糕的人时大可不必谦虚。在一天结束之时，正是那些在战壕中的开发者——构建、测试和开发了代码的人，真正做了事情。话说那些发现自己远离战壕的人，那些没有和你一起并肩作战的逃兵，你有权利鄙视他们。并且向你的伙伴致敬，而不是上司。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112588\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112588votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112588\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771\">暖日生烟</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/06EB1B2C5C7835017E628CFB8E25D68F/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q1857502771\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q1857502771/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a> · <a title=\"QQ：826672619\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：xzs826672619\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/NinoMiao\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "我从编程写软件学到的 7 件事", "front_image_path": "full/9af8182da5eb58dea9f9ddc5102a9dcd7697ad07.jpg"},{"url": "http://blog.jobbole.com/112551/", "fav_nums": 11, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/09/2a6eafb1f8c84ccaa82e82ced15970cc.jpg"], "comment_nums": 3, "url_object_id": "927c2cd160e2fa985dab3fca196b9d08", "create_date": "2017-09-26", "praise_nums": "3", "tags": "IT技术,区块链", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/snowhere\">一杯哈希不加盐</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.freecodecamp.org/how-does-blockchain-really-work-i-built-an-app-to-show-you-6b70cd4caf7d\">Sean Han</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fjwnwvo4g3g20wk0apnpd.gif\" alt=\"\"></p>\n<p style=\"text-align: center;\">（A minimal blockchain command-line interface.）</p>\n<p>维基百科上对区块链的描述：</p>\n<blockquote><p>维护不断增长的记录（称作区块）的分布式数据库。</p></blockquote>\n<p>听上去很简单，但到底是怎么回事呢？</p>\n<p>我们用一款开源命令行界面 <a href=\"https://github.com/seanseany/blockchain-cli\">Blockchain CLI</a> 来详细说明区块链。我也做了一个<a href=\"http://blockchaindemo.io/\">浏览器可以访问的在线版</a>。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fjwnwx80jlj20m80g70ul.jpg\"></p>\n<h2>安装命令行界面</h2>\n<p>首先请确保安装 <a href=\"https://nodejs.org/download/\">Node.js</a></p>\n<p>然后在终端里运行下面命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28dd70250c001201381\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nnpm install blockchain-cli -g\r\nblockchain</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28dd70250c001201381-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd70250c001201381-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28dd70250c001201381-1\"><span class=\"crayon-e\">npm </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">blockchain</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cli</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">g</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd70250c001201381-2\"><span class=\"crayon-v\">blockchain</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>你将看到 <code>👋 Welcome to Blockchain CLI!</code> 和 <code>blockchain →</code> 提示已准备好接受命令。</p>\n<h2>区块是什么样子的？</h2>\n<p>你可以在命令行中输入 <code>blockchain</code> 或 <code>bc</code> 来查看你当前的区块链。你将看到下图类似的区块。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fjwnwycb5qj20h40bomxu.jpg\"></p>\n<ul>\n<li>索引（区块）：这是哪个区块？（初始区块索引为 0）</li>\n<li>哈希：区块有效吗？</li>\n<li>前个哈希：之前一个区块有效吗？</li>\n<li>时间戳：区块什么时候添加的？</li>\n<li>数据：区块中存的什么信息？</li>\n<li>随机数（Nonce）：我们重复了多少次才找到有效的区块？</li>\n</ul>\n<h3>初始区块</h3>\n<p>每个区块链都会以一个 <code>🏆 Genesis Block</code> 作为开始。你接下来将会看到每个区块都关联前一个区块。所以我们开采第一个区块前，要有初始区块。</p>\n<h2>当一个新的区块被开采出来会发生什么？</h2>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1fjwoc34vg8g207a00smx5.gif\" width=\"262\" height=\"28\"></p>\n<p>让我们来开采我们的第一个区块，在提示框输入 <code>mine freeCodeCamp♥︎</code> 命令。 区块链根据最后一个区块生成当前索引和前个哈希。我们现在的区块链最后一个区块就是初始区块。</p>\n<ul>\n<li>索引：o+1 = 1</li>\n<li>前个哈希：0000018035a828da0…</li>\n<li>时间戳：区块什么时候添加的？</li>\n<li>数据：freeCodeCamp❤</li>\n<li>哈希：??</li>\n<li>随机数（Nonce)：??</li>\n</ul>\n<h2>哈希值如何计算？</h2>\n<p>哈希值是固定长度的数值，用来标识唯一数据。</p>\n<p>哈希通过将索引、前个哈希、时间戳、数据、随机数作为输入后计算得出。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28dd702521750450619\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nCryptoJS.SHA256(index + previousHash + timestamp + data + nonce)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28dd702521750450619-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28dd702521750450619-1\"><span class=\"crayon-v\">CryptoJS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SHA256</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">previousHash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">timestamp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nonce</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>SHA256 算法通过给定的输入，计算出一个唯一的哈希。相同的输入总会生成相同的哈希。</p>\n<h3>你注意到哈希开头的四个 0 了吗？</h3>\n<p>开头的四个 0 是有效哈希的基本要求。开头 0 的个数被称为难度值（difficulty）。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28dd702528813723223\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction isValidHashDifficulty(hash, difficulty) {\r\n  for (var i = 0, b = hash.length; i &lt; b; i ++) {\r\n      if (hash[i] !== '0') {\r\n          break;\r\n      }\r\n  }\r\n  return i &gt;= difficulty;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28dd702528813723223-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd702528813723223-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd702528813723223-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd702528813723223-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd702528813723223-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd702528813723223-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd702528813723223-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd702528813723223-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28dd702528813723223-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">isValidHashDifficulty</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">hash</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">difficulty</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd702528813723223-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">hash</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59e28dd702528813723223-3\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">hash</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'0'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd702528813723223-4\"><span class=\"crayon-h\">          </span><span class=\"crayon-st\">break</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e28dd702528813723223-5\"><span class=\"crayon-h\">      </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd702528813723223-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59e28dd702528813723223-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">difficulty</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd702528813723223-8\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>这就是众所周知的<a href=\"https://en.wikipedia.org/wiki/Proof-of-work_system\">工作量证明系统</a>（Proof-of-Work）。</p>\n<h2>什么是随机数？</h2>\n<p>随机数是用来寻找有效哈希的一个数字。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e28dd70252e890453398\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nlet nonce = 0;\r\nlet hash;\r\nlet input;\r\nwhile(!isValidHashDifficulty(hash)) {     \r\n  nonce = nonce + 1;\r\n  input = index + previousHash + timestamp + data + nonce;\r\n  hash = CryptoJS.SHA256(input)\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e28dd70252e890453398-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd70252e890453398-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd70252e890453398-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd70252e890453398-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd70252e890453398-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd70252e890453398-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e28dd70252e890453398-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e28dd70252e890453398-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e28dd70252e890453398-1\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">nonce</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd70252e890453398-2\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">hash</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e28dd70252e890453398-3\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">input</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd70252e890453398-4\"><span class=\"crayon-st\">while</span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-e\">isValidHashDifficulty</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">hash</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-59e28dd70252e890453398-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">nonce</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nonce</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd70252e890453398-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">input</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">previousHash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">timestamp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nonce</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e28dd70252e890453398-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">hash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">CryptoJS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SHA256</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">input</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e28dd70252e890453398-8\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>随机数不断迭代，直到哈希有效。在我们的例子中，有效的哈希值至少要四个 0 开头。寻找有效哈希对应随机数的过程就称为开采（挖矿）。</p>\n<p>随着难度值的提升，有效哈希的数量逐步减少，我们需要投入更多资源来找到一个有效哈希。</p>\n<h2>为什么这很重要？</h2>\n<p>因为它确保了区块链不可变。</p>\n<p>如果我们有一个这样的区块链 A → B → C，有人想修改区块 A 上的数据。会发生下面情况：</p>\n<ol>\n<li>修改区块 A 上的数据。</li>\n<li>区块 A 的哈希变动，因为计算哈希所用的数据变化了。</li>\n<li>区块 A 无效，因为它的哈希不是四个 0 开头。</li>\n<li>区块 B 的哈希变动，因为计算区块 B 的哈希所用到的区块 A 的哈希值变化了。</li>\n<li>区块 B 无效，因为它的哈希不是四个 0 开头。</li>\n<li>区块 C 的哈希变动，因为计算区块 C 的哈希所用到的区块 B 的哈希值变化了。</li>\n<li>区块 C 无效，因为它的哈希不是四个 0 开头。</li>\n</ol>\n<p>修改一个区块的唯一方式就是重新开采这个区块以及它之后的所有区块。因为新的区块不断增加，基本不可能修改区块链。</p>\n<p>我希望本文对你有帮助。</p>\n<p>如果你想 checkout 在线版本的例子，移步 <a href=\"http://blockchaindemo.io\">http://blockchaindemo.io</a></p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/5085cce1bd4e144b7d148079a34b20c1.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/02b09a29fdb3ab5fe03d4bd1afe95664.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112551\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112551votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112551\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 11 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere\">一杯哈希不加盐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/47765e50cfb7c4e598e72d893ab4f62f.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            毕业于郑州大学软件工程专业，身为 Java 程序猿却同样热爱着 JavaScript 。为了兴趣而写代码，做自己喜欢做的事。Keep coding ... Stay Cool ...        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/snowhere\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/snowhere/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 26</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://snowhere.me/\"><i class=\"fa fa-link\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/Snowhere/\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "区块链原理最清晰最直观的解释", "front_image_path": "full/5a21463c0ffb79043345cbebc650228dea3217ef.jpg"},{"url": "http://blog.jobbole.com/112559/", "fav_nums": 2, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/09/2fec23b02c0912d1938581f7a420f11e.jpg"], "comment_nums": 0, "url_object_id": "247820073328d63364fc16642a256a4e", "create_date": "2017-09-27", "praise_nums": "1", "tags": "IT技术,开源", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/1543766\">开源中国编辑部</a>   </div><p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/2fec23b02c0912d1938581f7a420f11e.jpg\" alt=\"\" width=\"650\" height=\"400\"></p>\n<p>现在看来，大家很容易会把开源软件当作是理所当然的，但事实上，我们应该知道自由和开源软件是经历了长达半个世纪的一系列漫长发展的产物。</p>\n<p>本文记录了自由和开源历史上的一些重要时刻，也称得上是 FOSS 历史上的大事件。从 UNIX 的全盛时期，到 GNU 和 Linux 的诞生，再到 GitHub 将开源“民主化”，以及在它们之间的一切。</p>\n<h3>1969：UNIX 的诞生</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/34dc356da6498b3565c7c1ab3dbe0563.jpg\" alt=\"\" width=\"420\" height=\"252\"></p>\n<p>1969年，AT&amp;T 贝尔实验室的工程师开始开发 UNIX。此后的10年，UNIX 在学术机构和大型企业中得到了广泛的应用，当时的 UNIX 拥有者 AT&amp;T 公司以低廉甚至免费的许可将 UNIX 源码授权给学术机构做研究或教学之用，许多机构在此源码基础上加以扩充和改进。后来 AT&amp;T 意识到了 UNIX 的商业价值，从1979年 UNIX 的版本 V7 开始，不再将 UNIX 源码授权给学术机构，并对之前的 UNIX 及其变种声明了版权权利。事实上，UNIX 在自由或开源软件的概念存在之前就已诞生，可以说，UNIX 从来都不是一个自由或开源的操作系统。从某种意义上来说，UNIX 在促进共享源码方面起了很小的作用。</p>\n<p>然而，围绕 UNIX 而成长起来的文化在后来的自由和开源软件的意识形态和社区诞生过程中起到了奠基性的作用。UNIX 的开发者和用户把自己看成是对抗软件商业化的“反叛者”，他们自由地共享源码，以分散的方式共同合作开发 UNIX 系统。</p>\n<h3>1984：AT&amp;T 将 UNIX 商业化</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/da4a236bc9facbf575c58e433188ad91.jpg\" alt=\"\" width=\"420\" height=\"284\"></p>\n<p>从 UNIX 诞生起的前十五年，UNIX 操作系统的拥有者 AT&amp;T 是被法院禁止从中获利的。起因是1958年 AT&amp;T 为避免美国司法部起诉它违反《反垄断法》而签订的和解协议。AT&amp;T 垄断了美国长途电话业务，因此它同意不进入计算机行业，不销售任何与计算机有关的产品，UNIX 是计算机操作系统，所以 AT&amp;T 不能销售它，任何要求得到源码的机构，都能免费得到。</p>\n<p>然而在1984年，事情发生了变化，当时对 AT＆T 的限制法令被解除，AT&amp;T 开始以能获利的价格销售 UNIX。UNIX 的源码依然可用，但 AT＆T 将 UNIX 从研究性质的项目转变为一个商业项目，这在 UNIX 黑客社区里产生了危机。他们开始寻找一个可替代的类 UNIX 系统，且不受商业陷阱的阻碍。</p>\n<h3>1984：GNU 的诞生</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/3e7b280e5fd68179f62f44a9c9ac2928.png\" alt=\"\" width=\"420\" height=\"523\"></p>\n<p>在 AT&amp;T 将 UNIX 商业化的同一年，理查德·斯托曼（简称 RMS）发起了 GNU 项目（GNU’s Not Unix! 的递归缩写），目标是创建一个完全自由且向下兼容 UNIX 的操作系统。RMS 在1985年曾说过，GNU 是一个我正在编写的完全兼容 UNIX 的项目，所以我可以让每一个使用它的人都能自由地使用。</p>\n<p>GNU 项目刚启动时，自由软件这一现代概念也才刚刚诞生，即便是 RMS 也没能充分表达其中“自由”的含义，早期 GNU 项目的追随者轻易地认为 RMS 只是旨在开发不收任何费用的软件。</p>\n<p>然而，在接下来的几年里，由于开发者和公司越来越少地在发布程序的同时提供源码。此时，对于程序员和用户，GNU 的真正含义开始变得清晰。GNU 的重要性体现在项目承诺所有的源码都能自由使用。</p>\n<h3>1985：自由软件基金会的建立</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/1b272a4b7041c011d16e8ae4302fa556.jpg\" alt=\"\" width=\"420\" height=\"539\"></p>\n<p>随着 RMS 推动自由软件发展和成熟的愿景日益强烈，他意识到仅通过编写和分享 GNU 代码是远远不够的。于是，他建立了自由软件基金会来协助该计划。</p>\n<p>自由软件基金会（简称 FSF）是一个致力于推广自由软件的美国民间非营利性组织。它于1985年10月由理查德·斯托曼建立。其主要工作是运行 GNU 计划，开发更多的自由软件。FSF 帮助创建了保护 GNU 和其他自由软件项目的法律和制度框架。</p>\n<h3>1991：Linux 内核的诞生</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/28cb79b1f74619e555dfb94598891865.jpg\" alt=\"\" width=\"420\" height=\"233\"></p>\n<p>作为操作系统，GNU 最大的问题是具有完备功能的内核尚未被开发成功。虽然 GNU 项目的开发者成功编写了大量重要的程序，但他们努力创建一个类似 UNIX 的内核来完善 GNU 的工作却长期停滞不前。GNU 的内核，称为 Hurd，是自由软件基金会发展的重点，今天仍在开发中，经过近三十年的开发，它仍然不能可靠地用于生产环境。同时，BSD 项目的自由软件内核也受到法律方面问题的困扰。</p>\n<p>这为 Linux 内核创建了一个开放的机会。Linux 内核是1991年 Linus Torvalds 在其大学时期开发的一个项目，并将代码贡献了出来。最初，Linus 采用的是自己拟定的许可证，这个许可证会限制商业使用，后来他转用了 GNU 项目使用的 GPL 许可证。当时 GNU 项目仍未完成，GNU 系统软件集与 Linux 内核结合后，GNU 软件构成了这个 POSIX 兼容操作系统 GNU/Linux 的基础。</p>\n<p>所以，Linux 内核填补了 GNU 用户需要完整的且使用自由软件的类 UNIX 系统的空白。</p>\n<h3>1998：开源峰会 (Open Source Summit)</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/3fae982e0158904970ade157c8b0466b.jpg\" alt=\"\" width=\"420\" height=\"250\"></p>\n<p>到了20世纪90年代后期，GNU，Linux 以及其他重要项目（如 Apache）的自由软件越来越普及。</p>\n<p>由于像 Eric S. Raymond 这样的黑客们开始担心 RMS 和 FSF 在推动自由软件的时候，受意识形态的影响太深，从而与现实脱节。Raymond 和他的追随者认为，为了自由软件尽可能大范围地取得成功，他们应该侧重于提供源代码的实用价值，而不是过多的涉及共享和道德的哲学原则。</p>\n<p>同时期，Netscape 宣布将其 Navigator 浏览器的源代码在 Internet 上公布。这一系列举动使得在1998年2月3日，资深黑客 Eric S. Raymond 邀请了大约十几个自由软件社区的著名成员一起开会（RMS 没被邀请），希望可以促使更多公司能够理解黑客社区早已行之有时的开放式软件开发流程的独特优势，使这种先进流程能够得到更广泛的应用。与会者都认为，这是一个有助于消除过去人们对“自由软件”存在误解的大好时机，除了 free（免费？自由？）这个词的含混之外，还有自由软件给公众留下的宗教化和喜对抗的印象，从实际出发，针对企业的顾虑，将自由软件中实用和有助于业务的核心理念推广出去。</p>\n<p>与会者决定使用“开源软件(open source software)”来代替“自由软件(free software)”，以推广开源这一概念，让大众更清晰地明白其与自由软件之间的差别，并以较少的意识形态方式来传递价值。</p>\n<h3>1999：Red Hat 的 IPO</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/55fe827b929d7b728cfecee51b89daf3.jpg\" alt=\"\" width=\"420\" height=\"278\"></p>\n<p>1999年8月11日，红帽公司正式上市，成为第一家开始公开交易的开源公司，这是自由和开源软件具有商业意义最有力的证明。</p>\n<p>虽然在同一时期上市的其他开源公司 —— 尤其是 VA Linux，它的表现并不好，但红帽仍然是当今开源市场中的领先公司。</p>\n<h3>2004：Ubuntu 的推出</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/e453478ea9a1c82bd9525d5503100eec.jpg\" alt=\"\" width=\"420\" height=\"315\"></p>\n<p>到20世纪90年代末，已经提供了许多 GNU/Linux 发行版。但因为缺少对用户友好的图形界面程序，除了极客之外，极少的用户能熟练使用。</p>\n<p>诞生于2004年10月20日的 Ubuntu 改变了这个情况。Ubuntu 由南非慈善家和企业家 Mark Shuttleworth 所创立，被称为“为人类而生的 Linux”。</p>\n<p>Ubuntu 的目标在于为一般用户提供一个最新同时又相当稳定且拥有友好的界面，主要以自由软件构建而成的操作系统。Ubuntu 目前拥有蓬勃发展的用户社区，具有庞大的社区力量支持，用户可以方便地从社区获得帮助，是目前使用最广泛的 GNU/Linux 发行版。</p>\n<h3>2007：Android 的推出</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/a24fbdc040f38b35aee3fc6b4768712c.jpg\" alt=\"\" width=\"420\" height=\"280\"></p>\n<p>将自由和开源软件提供给最多人使用的软件项目无疑是 Android 移动设备操作系统。Android 是使用最广泛的移动应用平台。</p>\n<p>虽然大多数 Android 用户可能不知道 Android 部分是基于 Linux 内核的，然而，很多自由和开源软件的倡导者抱怨 Android 的许可证没有提供软件自由，而且 Android 设备往往会被专有的组件和预装软件限制着，类似这种使用的不便，更多人倾向于使用 GNU/Linux。对于这种情况，Android 的开发者认为“Android 不是 Linux”，尽管有这个平台的根源。</p>\n<h3>2008：GitHub 将开源“民主化”</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/04186faf06a5e77dbdb16e736508b171.jpg\" alt=\"\" width=\"420\" height=\"304\"></p>\n<p>最初，大多数自由和开源软件项目的贡献者通过电子邮件或私有的版本控制系统（如 Subversion 或 BitKeeper）进行协作。这种做法不仅笨重（因为没有集中的、精简的位置来查找开源项目和为其贡献），而且某些版本控制系统还是专有的。</p>\n<p>诞生于2008年的 GitHub 改变了这一情况。GitHub 提供使用 Git 进行版本控制的软件源代码托管服务。Git 是一个开源的分布式版本控制系统，由 Linus Torvalds 开发，于2005年在 GPL 开源许可证下发布。最初目的是为更好地管理 Linux 内核的开发，用于替代他们曾经使用的闭源解决方案 —— BitKeeper。</p>\n<p>GitHub 的出现，使得更多开发者能更方便地参与开源项目，为开源项目贡献，任何人都可以轻松提交自己的代码，并在 GitHub 上托管自己的开源项目。</p>\n<p>因为几乎所有人都把自己的代码托管在 GitHub 上，所以更容易查找开源项目，而且协作方式的改变，开发者也不再需要获得开发者社区的权限才能参与开源项目。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112559\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112559votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112559\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "从 UNIX 到 GitHub：十个关于自由和开源软件历史的重要事件", "front_image_path": "full/4b7ba60c487f7b95435c22313b04fa0e316d689d.jpg"},{"url": "http://blog.jobbole.com/112555/", "fav_nums": 4, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/09/b404a4768d2fc81f0cce6188bc5cb6d4.jpg"], "comment_nums": 1, "url_object_id": "051765542dbbd7352da88175162f2a63", "create_date": "2017-09-26", "praise_nums": "2", "tags": "IT技术,性能分析,火焰图", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.ruanyifeng.com/blog/2017/09/flame-graph.html\">阮一峰</a>   </div><p>软件的性能分析，往往需要查看 CPU 耗时，了解瓶颈在哪里。</p>\n<p><a href=\"http://www.brendangregg.com/flamegraphs.html\">火焰图</a>（flame graph）是性能分析的利器。本文介绍它的基本用法。</p>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/b404a4768d2fc81f0cce6188bc5cb6d4.jpg\" alt=\"\"></p>\n<h3>一、perf 命令</h3>\n<p>让我们从 perf 命令（performance 的缩写）讲起，它是 Linux 系统原生提供的性能分析工具，会返回 CPU 正在执行的函数名以及调用栈（stack）。</p>\n<p>通常，它的执行频率是 99Hz（每秒99次），如果99次都返回同一个函数名，那就说明 CPU 这一秒钟都在执行同一个函数，可能存在性能问题。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab074158d810792199\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo perf record -F 99 -p 13204 -g -- sleep 30\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab074158d810792199-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab074158d810792199-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab074158d810792199-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">perf </span><span class=\"crayon-v\">record</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">99</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13204</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">g</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">sleep</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">30</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab074158d810792199-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>上面的代码中，<code>perf record</code>表示记录，<code>-F 99</code>表示每秒99次，<code>-p 13204</code>是进程号，即对哪个进程进行分析，<code>-g</code>表示记录调用栈，<code>sleep 30</code>则是持续30秒。</p>\n<p>运行后会产生一个庞大的文本文件。如果一台服务器有16个 CPU，每秒抽样99次，持续30秒，就得到 47,520 个调用栈，长达几十万甚至上百万行。</p>\n<p>为了便于阅读，<code>perf record</code>命令可以统计每个调用栈出现的百分比，然后从高到低排列。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab074159e909575854\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo perf report -n --stdio\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab074159e909575854-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab074159e909575854-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab074159e909575854-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">perf </span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">stdio</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab074159e909575854-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/49954cf587dbaf2d8cbd41d77e91f1bb.jpg\" alt=\"\"></p>\n<p>这个结果还是不易读，所以才有了火焰图。</p>\n<h3>二、火焰图的含义</h3>\n<p>火焰图是基于 perf 结果产生的 <a href=\"http://queue.acm.org/downloads/2016/Gregg4.svg\">SVG 图片</a>，用来展示 CPU 的调用栈。</p>\n<p><a href=\"http://queue.acm.org/downloads/2016/Gregg4.svg\"><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/1cb85c41fb005a069df1ab3992cfa936.jpg\" alt=\"\"></a></p>\n<p>y 轴表示调用栈，每一层都是一个函数。调用栈越深，火焰就越高，顶部就是正在执行的函数，下方都是它的父函数。</p>\n<p>x 轴表示抽样数，如果一个函数在 x 轴占据的宽度越宽，就表示它被抽到的次数多，即执行的时间长。注意，x 轴不代表时间，而是所有的调用栈合并后，按字母顺序排列的。</p>\n<p><strong>火焰图就是看顶层的哪个函数占据的宽度最大。只要有”平顶”（plateaus），就表示该函数可能存在性能问题。</strong></p>\n<p>颜色没有特殊含义，因为火焰图表示的是 CPU 的繁忙程度，所以一般选择暖色调。</p>\n<h3>三、互动性</h3>\n<p>火焰图是 <a href=\"http://queue.acm.org/downloads/2016/Gregg4.svg\">SVG 图片</a>，可以与用户互动。</p>\n<p><strong>（1）鼠标悬浮</strong></p>\n<p>火焰的每一层都会标注函数名，鼠标悬浮时会显示完整的函数名、抽样抽中的次数、占据总抽样次数的百分比。下面是一个例子。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab07415a5542786398\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysqld'JOIN::exec (272,959 samples, 78.34 percent)\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415a5542786398-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415a5542786398-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab07415a5542786398-1\"><span class=\"crayon-i\">mysqld</span>'<span class=\"crayon-v\">JOIN</span><span class=\"crayon-o\">::</span><span class=\"crayon-e\">exec</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">272</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">959</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">samples</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">78.34</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">percent</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415a5542786398-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><strong>（2）点击放大</strong></p>\n<p>在某一层点击，火焰图会水平放大，该层会占据所有宽度，显示详细信息。</p>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/9835aa02069d2708b39780d23ce000d3.jpg\" alt=\"\"></p>\n<p>左上角会同时显示”Reset Zoom”，点击该链接，图片就会恢复原样。</p>\n<p><strong>（3）搜索</strong></p>\n<p>按下 Ctrl + F 会显示一个搜索框，用户可以输入关键词或正则表达式，所有符合条件的函数名会高亮显示。</p>\n<h3>四、火焰图示例</h3>\n<p>下面是一个简化的火焰图例子。</p>\n<p>首先，CPU 抽样得到了三个调用栈。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab07415af025317068\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunc_c \r\nfunc_b \r\nfunc_a \r\nstart_thread \r\n\r\nfunc_d \r\nfunc_a \r\nstart_thread \r\n\r\nfunc_d \r\nfunc_a \r\nstart_thread\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415af025317068-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415af025317068-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-1\"><span class=\"crayon-e\">func_c </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-2\"><span class=\"crayon-e\">func_b </span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-3\"><span class=\"crayon-e\">func_a </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-4\"><span class=\"crayon-e\">start_thread </span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-6\"><span class=\"crayon-e\">func_d </span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-7\"><span class=\"crayon-e\">func_a </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-8\"><span class=\"crayon-e\">start_thread </span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-10\"><span class=\"crayon-e\">func_d </span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-11\"><span class=\"crayon-e\">func_a </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415af025317068-12\"><span class=\"crayon-v\">start</span><span class=\"crayon-sy\">_</span>thread</div><div class=\"crayon-line\" id=\"crayon-59e2ab07415af025317068-13\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>上面代码中，<code>start_thread</code>是启动线程，调用了<code>func_a</code>。后者又调用了<code>func_b</code>和<code>func_d</code>，而<code>func_b</code>又调用了<code>func_c</code>。</p>\n<p>经过合并处理后，得到了下面的结果，即存在两个调用栈，第一个调用栈抽中1次，第二个抽中2次。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab07415b7761760777\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nstart_thread;func_a;func_b;func_c 1 \r\nstart_thread;func_a;func_d 2\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415b7761760777-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415b7761760777-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415b7761760777-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab07415b7761760777-1\"><span class=\"crayon-v\">start_thread</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">func_a</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">func_b</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">_</span>c<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415b7761760777-2\"><span class=\"crayon-v\">start_thread</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">func_a</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">func</span><span class=\"crayon-sy\">_</span>d<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line\" id=\"crayon-59e2ab07415b7761760777-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>有了这个调用栈统计，<a href=\"https://github.com/brendangregg/FlameGraph\">火焰图工具</a>就能生成 SVG 图片。</p>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/de855feaf5c61ca93052e3d9c714a543.jpg\" alt=\"\"></p>\n<p>上面图片中，最顶层的函数<code>g()</code>占用 CPU 时间最多。<code>d()</code>的宽度最大，但是它直接耗用 CPU 的部分很少。<code>b()</code>和<code>c()</code>没有直接消耗 CPU。因此，如果要调查性能问题，首先应该调查<code>g()</code>，其次是<code>i()</code>。</p>\n<p>另外，从图中可知<code>a()</code>有两个分支<code>b()</code>和<code>h()</code>，这表明<code>a()</code>里面可能有一个条件语句，而<code>b()</code>分支消耗的 CPU 大大高于<code>h()</code>。</p>\n<h3>五、局限</h3>\n<p>两种情况下，无法画出火焰图，需要修正系统行为。</p>\n<p><strong>（1）调用栈不完整</strong></p>\n<p>当调用栈过深时，某些系统只返回前面的一部分（比如前10层）。</p>\n<p><strong>（2）函数名缺失</strong></p>\n<p>有些函数没有名字，编译器只用内存地址来表示（比如匿名函数）。</p>\n<h3>六、Node 应用的火焰图</h3>\n<p>Node 应用的火焰图就是对 Node 进程进行性能抽样，与其他应用的操作是一样的。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2ab07415be821170293\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ perf record -F 99 -p `pgrep -n node` -g -- sleep 30\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2ab07415be821170293-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2ab07415be821170293-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2ab07415be821170293-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">perf </span><span class=\"crayon-v\">record</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">99</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">node</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">g</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">sleep</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">30</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2ab07415be821170293-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>详细的操作可以看<a href=\"http://www.brendangregg.com/blog/2014-09-17/node-flame-graphs-on-linux.html\">这篇文章</a>。</p>\n<h3>七、浏览器的火焰图</h3>\n<p>Chrome 浏览器可以生成页面脚本的火焰图，用来进行 CPU 分析。</p>\n<p>打开开发者工具，切换到 Performance 面板。然后，点击”录制”按钮，开始记录数据。这时，可以在页面进行各种操作，然后停止”录制”。</p>\n<p>这时，开发者工具会显示一个时间轴。它的下方就是火焰图。</p>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/e3a1966e0497d0958db5a194f82fe623.jpg\" alt=\"\"></p>\n<p>浏览器的火焰图与标准火焰图有两点差异：它是倒置的（即调用栈最顶端的函数在最下方）；x 轴是时间轴，而不是抽样次数。</p>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/09/a24104bed29208a16fa6745be1c157d6.jpg\" alt=\"\"></p>\n<h3>八、参考链接</h3>\n<ul>\n<li><a href=\"http://queue.acm.org/detail.cfm?id=2927301\">火焰图的介绍论文</a></li>\n<li><a href=\"http://www.brendangregg.com/flamegraphs.html\">火焰图官方主页</a></li>\n<li><a href=\"https://github.com/brendangregg/FlameGraph\">火焰图生成工具</a></li>\n</ul>\n<p>（完）</p>\n<p><!-- /div --></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112555\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112555votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112555\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "如何读懂火焰图？", "front_image_path": "full/decffc56ea467d64fa3175fbb69438e60e666620.jpg"},{"url": "http://blog.jobbole.com/112611/", "fav_nums": 0, "front_image_url": ["http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg"], "comment_nums": 0, "url_object_id": "fb470c958f70e3d3bf823efd548d1b1f", "create_date": "2017-10-13", "praise_nums": "1", "tags": "IT技术,微服务", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<h3>前言</h3>\n<p>笔者从2013年加入ThoughtWorks至今共4年时间。在这4年时间里，我分别以开发人员、DevOps工程师、DevOps咨询师、微服务架构师以及微服务咨询师的角色参与了共计7个产品和项目的微服务咨询和实施。其中有成功，有失败，有反思，更多的是学习和总结。以下是我这些年来在微服务咨询上的经验总结，希望能给陷入微服务实施困境的人带来一些帮助。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg\" alt=\"\" width=\"700\" height=\"465\"></a></p>\n<h3>难点1：“一步到位”的认知错觉</h3>\n<p>这些年微服务大红大紫，但是真正能够拿出来做为可实践案例的少之又少。大部分的微服务案例只能看到微服务架构的“演进结果”，但是看不到其“演进过程”。这就像每个人可以看到一个架构的高峰，却看不到攀登高峰的路径。</p>\n<p>这就造成了一个假象：微服务的架构是通过能力极高的架构师一步到位设计出来的。</p>\n<p>这和很多团队自上而下的架构设计感受很相似。于是架构师们蜂拥而至，各种分析方法论层出不穷，讨论和分享络绎不绝。然而真正落地实施的却很少，使得微服务在网络上慢慢变成了一种“玄学”：微服务的实施一直在“理论研究”的阶段。</p>\n<p>这违反了软件架构的最基本规律：架构是通过解决当前的需求和痛点而演进的，无法根据没有出现的问题和痛点进行设计。因此，一步到位的、整体的微服务架构设计完全没有必要。况且一个集中化的设计，很难体现微服务的轻量级优势。</p>\n<p>我相信技术一定是向不断降低成本的方向发展的。如果新技术没有降低成本反而提升了成本，要么这个新技术有问题，要么是姿势不对、走错了路。</p>\n<p>因此，准备实施微服务一定要有一个长期的思想准备。不过跨过了最初的门槛之后，剩下的工作可以被复制、而且速度会越来越快。</p>\n<h3>难点2：“架构师精英主义”</h3>\n<p>很多产品对架构师的依赖很大，即“架构师精英主义”：认为只有这个组织的“技术精英”——架构师才可以完成该产品的架构，而团队其它成员只需要实现架构师的设计就可以。这是大型企业和大型系统的常见问题，来源于长期以来重量级企业级架构的习惯。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/architect.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/architect-1024x602.jpg\" alt=\"\" width=\"700\" height=\"412\"></a></p>\n<p>而微服务则类似于一种“敏捷边际革命”：即由一个不超过2~8个人的小团队就可以完成的轻量级架构。而且对于这种规模的团队而言，即使把整个微服务团队从产品团队移除也不会对整体产品的研发进度产生影响。因此，即使失败了也不会带来太多的损失。不过，当第一个微服务改造成功，那么成功经验的复制带来的乘数效应却能带来很大的收益。</p>\n<p>从架构改造投资的风险收益比来看，这是非常划算的。</p>\n<p>因此，微服务团队完全没必要大张旗鼓，只需要两三个人就可以动工。但是，谁也没有微服务的实践经验啊，万一失败了怎么办？</p>\n<p>这就带来了下一个难点。</p>\n<h3>难点3：缺乏一个信任并鼓励创新的环境</h3>\n<p>面对未知的领域，失败再所难免。而处在这个不确定性频发的世界，成功和失败已经不再重要：也许今天的失败，明天再看就是成功，反之亦然。</p>\n<p>成功只是表明结果符合自己的假设预期，而失败仅仅意味着结果不符合自己的假设预期。但是无论成败，我们都能在行动的过程中有所学习和反思，而这样的经验才是研发活动中最有价值的。</p>\n<p>然而，很多组织，尤其“精英主义”的产品团队，责任和压力往往从上至下分解。由于组织庞大，金字塔的结构往往会构建一种以“不信任”为基础的制度。这种制度营造了一种“宁可不作为，也不能犯错”的文化。由于上层需要对失败负责，使得所有创新只能停留在上层，难以落实推进。在这种情况下，组织的长期合作形成了稳定的工作习惯和思维定势，并形成了利益平衡，这会使得整个组织在面对创新的时候“卡壳”。</p>\n<p>当微服务以一种政治任务从上而下派发的时候，为了避免失败，团队内部会相互推诿。通过不断的分析讨论和设计来论证这个事情的难度。在我看来，只要想搞，就一定能找到办法，而不是先设想出一堆还没有遇到的问题和责任。在行进中解决问题是比设计和讨论更加有效率的方法。</p>\n<p>而组织解决“卡壳”的办法就是引入“背锅侠”：例如新聘请的架构师或外部咨询师，来完成这个事情。出了问题就不用自己来承担责任了。这样虽然是解决问题的一种折中办法，可以让事情毫无风险的执行下去。但这是一种短期效应，无法解决组织本身的创新窘境，长期依赖外部力量来解决最有价值的问题不会让自己提升，反而形成了对外部力量的依赖。对于凝聚组织来说不是一件好事。</p>\n<p>只有打破当前的工作习惯和思维定势，充分认识到创新的困难、风险以及价值，才可以占领创新的高点，吸引人才。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/Microservices.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/Microservices-1024x592.png\" alt=\"\" width=\"700\" height=\"405\"></a></p>\n<h3>难点4：微服务技术栈的“选择困难症”</h3>\n<p>由于“精英主义”的架构师需要担负很大的责任和压力。他们必须要为微服务架构谨慎的选择技术栈。因此会在不同的技术栈之间不断尝试。对于习惯了在大型研发组织里“精心设计，加班生产 ”的架构师而言。“长设计，慢反馈”节奏似乎是理所应当的。</p>\n<p>微服务开源社区的快速发展滋长了“架构师焦虑”：如果采用落后的技术会被同行鄙视，被不懂技术的老板鄙视，甚至被下属鄙视。因此架构师们疲于在各种新型的技术栈之间比较和学习。此外，不熟悉技术往往会增大风险，架构师就需要更多的时间研究。带着“一步到位”的架构幻想对微服务技术栈精挑细选，而不会采用现有低成本的方案快速迭代的解决问题。</p>\n<p>微服务的核心在于采用“小规模，快反馈”的机制降低软件系统的复杂性并通过虚拟和自动化技术分散风险，从而及时应对市场变化带来的各种挑战、进行快速销售创新，获得市场的反馈。而不仅仅是利用到了时下新兴的语言，编程框架或工具。</p>\n<p>学习和实践是相辅相成的过程，在实践中学习，并把学习到的知识应用到实践中。这不同于准备一场考试：先停下来学习，准备好了再全力以赴。</p>\n<p>以上四点会让大型组织在微服务实施中“卡壳”，这往往会导致微服务实施忽略最重要一点，也是我认为也是核心的一点。</p>\n<h3>难点5：对微服务的技术变革预估过高，而对微服务带来的组织变革预估不足</h3>\n<p>作为架构师，永远要不要低估康威定理的威力：“设计系统的组织，其产生的设计和架构等价于组织间的沟通结构。”</p>\n<p>从制度经济学角度来讲，软件产品本身就是企业内部组织（员工）和外部组织（用户）沟通制度的计算机程序表达。这个制度一定会朝着缩短组织内外部沟通成本的方向发展。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/communication.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/communication-1024x663.jpg\" alt=\"\" width=\"700\" height=\"453\"></a></p>\n<p>因此，系统架构一定是和组织架构相吻合的，如果不吻合，势必会阻碍组织的渐进。</p>\n<p>这就引出了一个推论：如果企业组织的架构不是唯一的，那么微服务的架构方案也不是唯一的。</p>\n<p>当架构和组织结构相一致的时候，一切都会很顺畅。反之，就会出现各种问题。</p>\n<p>这个关系就像鞋和脚的关系，只有穿上合适的鞋，走起路来才会舒服。过大过小的鞋都无法让你加快前进的步伐。当然，你可以选择买鞋（引入产品），虽然并不是很合脚，但还可以凑合穿，只是在换鞋的时候你不得不停下来试。你也可以花高价为自己定制一套，这个不会让你在短时间内走得更快，只会越来越合脚。</p>\n<p>如果所有人穿上了新鞋，都能跑得很快，只有你不能，那么这就不是鞋的问题，而是你脚的问题，这就不是换鞋能解决的了。你得先把脚的问题解决了，然后再看鞋的问题。当然，也可以通过鞋来矫正脚，只不过会花些功夫，但一定会比不停的换鞋更加有效。</p>\n<p>很不幸，大多数的组织并没有准备好迎接微服务架构带来的组织变化。仍然把“系统架构问题”和“组织问题”割裂成两个不同领域的问题：微服务是技术问题，组织问题是管理问题。</p>\n<p>有竞争力的组织，是能够通过融合优势达到1+1&gt;2效果的组织。而不是把优势割裂开，让1+1&lt;=2的组织。因此，技术问题和管理问题并不是两个问题，而是同一个问题的两个侧面。</p>\n<p>因此，如果你的组织结构是去中心化的小团队结构，那么不用担心，你的应用架构会朝组织架构的方向演进。反之，如果你不是一个去中心化的小团队结构，那么微服务的架构会和组织架构格格不入。</p>\n<h3>如何解决这些问题？</h3>\n<p>作为微服务的实践者，对微服务不应该是“叶公好龙”，仅仅停留在研讨的层面。而应该采用敏捷和精益的方式迅速开始，在行进中解决碰到的问题。每个组织的组织结构和业务结构都有所不同，微服务实施所面对的挑战也截然不同。在实施的过程中快速学习并改进，没有必要进行周期较长的总体设计。</p>\n<p>关于如何解决本文提到的5个问题，请期待下篇《提升微服务实施效率的7个步骤》。</p>\n<blockquote><p>本文首发于GitChat，原作者顾宇，经作者同意授权转发。转载请联系作者或GitChat。</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112611\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112611votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112611\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 72</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>\r\n\t<!-- END .entry -->\r\n\r\n\r\n<script type=\"text/javascript\">\r\nvar jiathis_config={\r\n\tdata_track_clickback:false,\r\n\ttitle:\"分享从伯乐在线看到的一篇好文章 \",\r\n\tsummary:\"《微服务进展缓慢的 5 个难点》\",\r\n\tpic:\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg\",\r\n\tappkey:{\r\n         \"tsina\": 1473879058    },\r\n\tralateuid:{\r\n\t\t\"tsina\": 1670481425\t},\r\n\thideMore:false\r\n}\r\n</script>\r\n<script type=\"text/javascript\" src=\"http://v3.jiathis.com/code/jia.js?uid=1745061\" charset=\"utf-8\"></script>\r\n<!-- JiaThis Button END -->\r\n\t\t\t<div class=\"textwidget\"><p><a href=\"http://group.jobbole.com/22945/\" target=\"_blank\"><img src=\"http://wx3.sinaimg.cn/mw690/bfdcef89gy1ffhg3psj2yj20h803cgm9.jpg\"></a></p>\n</div>\n\t\t\r\n</div>", "title": "微服务进展缓慢的 5 个难点", "front_image_path": "full/b2420ad3ad6e9c957eaa9a081537288408c32d67.jpg"},{"url": "http://blog.jobbole.com/112547/", "fav_nums": 5, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/05/1389f92e6bd3378cb6e4522971b7db35.jpg"], "comment_nums": 0, "url_object_id": "358b0e8832095a10a110d4d9026251ac", "create_date": "2017-09-25", "praise_nums": "1", "tags": "IT技术,GDB,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/\">Fsf</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8900-1.html\">Linux中国/robot527</a>   </div><h3 id=\"toc_1\">目录</h3>\n<ul>\n<li>break — 在指定的行或函数处设置断点，缩写为 <code>b</code></li>\n<li>info breakpoints — 打印未删除的所有断点，观察点和捕获点的列表，缩写为 <code>i b</code></li>\n<li>disable — 禁用断点，缩写为 <code>dis</code></li>\n<li>enable — 启用断点</li>\n<li>clear — 清除指定行或函数处的断点</li>\n<li>delete — 删除断点，缩写为 <code>d</code></li>\n<li>tbreak — 设置临时断点，参数同 <code>break</code>，但在程序第一次停住后会被自动删除</li>\n<li>watch — 为表达式（或变量）设置观察点，当表达式（或变量）的值有变化时，暂停程序执行</li>\n<li>step — 单步跟踪，如果有函数调用，会进入该函数，缩写为 <code>s</code></li>\n<li>reverse-step — 反向单步跟踪，如果有函数调用，会进入该函数</li>\n<li>next — 单步跟踪，如果有函数调用，不会进入该函数，缩写为 <code>n</code></li>\n<li>reverse-next — 反向单步跟踪，如果有函数调用，不会进入该函数</li>\n<li>return — 使选定的栈帧返回到其调用者</li>\n<li>finish — 执行直到选择的栈帧返回，缩写为 <code>fin</code></li>\n<li>until — 执行直到达到当前栈帧中当前行后的某一行（用于跳过循环、递归函数调用），缩写为 <code>u</code></li>\n<li>continue — 恢复程序执行，缩写为 <code>c</code></li>\n<li>print — 打印表达式 EXP 的值，缩写为 <code>p</code></li>\n<li>x — 查看内存</li>\n<li>display — 每次程序停止时打印表达式 EXP 的值（自动显示）</li>\n<li>info display — 打印早先设置为自动显示的表达式列表</li>\n<li>disable display — 禁用自动显示</li>\n<li>enable display — 启用自动显示</li>\n<li>undisplay — 删除自动显示项</li>\n<li>help — 打印命令列表（带参数时查找命令的帮助），缩写为 <code>h</code></li>\n<li>attach — 挂接到已在运行的进程来调试</li>\n<li>run — 启动被调试的程序，缩写为 <code>r</code></li>\n<li>backtrace — 查看程序调用栈的信息，缩写为 <code>bt</code></li>\n<li>ptype — 打印类型 TYPE 的定义</li>\n</ul>\n<hr>\n<h3 id=\"toc_2\">break</h3>\n<p>使用 <code>break</code> 命令（缩写 <code>b</code>）来设置断点。</p>\n<p>用法：</p>\n<ul>\n<li><code>break</code> 当不带参数时，在所选栈帧中执行的下一条指令处设置断点。</li>\n<li><code>break &lt;function-name&gt; </code>在函数体入口处打断点，在 C++ 中可以使用 <code>class::function</code> 或 <code>function(type, ...)</code> 格式来指定函数名。</li>\n<li><code>break &lt;line-number&gt; </code>在当前源码文件指定行的开始处打断点。</li>\n<li><code>break -N</code> <code>break +N</code> 在当前源码行前面或后面的 <code>N</code> 行开始处打断点，<code>N</code> 为正整数。</li>\n<li><code>break &lt;filename:linenum&gt; </code> 在源码文件 <code>filename</code> 的 <code>linenum</code> 行处打断点。</li>\n<li><code>break &lt;filename:function&gt; </code> 在源码文件 <code>filename</code> 的 <code>function</code> 函数入口处打断点。</li>\n<li><code><code>break &lt;address&gt; </code></code>在程序指令的地址处打断点。</li>\n<li><code>break ... if &lt;cond&gt; </code> 设置条件断点，<code>...</code> 代表上述参数之一（或无参数），<code>cond</code> 为条件表达式，仅在 <code>cond</code> 值非零时暂停程序执行。</li>\n</ul>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Set-Breaks.html\">官方文档</a>。</p>\n<h3 id=\"toc_3\">info breakpoints</h3>\n<p>查看断点，观察点和捕获点的列表。</p>\n<p>用法：</p>\n<ul>\n<li><code>info breakpoints [list...]</code></li>\n<li><code>info break [list...]</code></li>\n<li><code>list...</code> 用来指定若干个断点的编号（可省略），可以是 <code>2</code>， <code>1-3</code>， <code>2 5</code> 等。</li>\n</ul>\n<h3 id=\"toc_4\">disable</h3>\n<p>禁用一些断点。参数是用空格分隔的断点编号。要禁用所有断点，不加参数。</p>\n<p>禁用的断点不会被忘记，但直到重新启用才有效。</p>\n<p>用法：</p>\n<ul>\n<li><code>disable [breakpoints] [list...]</code></li>\n<li><code>breakpoints</code> 是 <code>disable</code> 的子命令（可省略），<code>list...</code> 同 <code>info breakpoints</code> 中的描述。</li>\n</ul>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Disabling.html\">官方文档</a>。</p>\n<h3 id=\"toc_5\">enable</h3>\n<p>启用一些断点。给出断点编号（以空格分隔）作为参数。没有参数时，所有断点被启用。</p>\n<p>用法：</p>\n<ul>\n<li><code>enable [breakpoints] [list...]</code> 启用指定的断点（或所有定义的断点）。</li>\n<li><code>enable [breakpoints] once list...</code> 临时启用指定的断点。GDB 在停止您的程序后立即禁用这些断点。</li>\n<li><code>enable [breakpoints] delete list...</code> 使指定的断点启用一次，然后删除。一旦您的程序停止，GDB 就会删除这些断点。等效于用 <code>tbreak</code> 设置的断点。</li>\n</ul>\n<p><code>breakpoints</code> 同 <code>disable</code> 中的描述。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Disabling.html\">官方文档</a>。</p>\n<h3 id=\"toc_6\">clear</h3>\n<p>在指定行或函数处清除断点。参数可以是行号，函数名称或 <code>*</code> 跟一个地址。</p>\n<p>用法：</p>\n<ul>\n<li><code>clear</code> 当不带参数时，清除所选栈帧在执行的源码行中的所有断点。</li>\n<li><code>clear &lt;function&gt;</code>, <code>clear &lt;filename:function&gt; </code> 删除在命名函数的入口处设置的任何断点。</li>\n<li><code>clear &lt;linenum&gt;</code>, <code>clear &lt;filename:linenum&gt; </code> 删除在指定的文件指定的行号的代码中设置的任何断点。</li>\n<li><code><code>clear &lt;address&gt; </code></code>清除指定程序指令的地址处的断点。</li>\n</ul>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Delete-Breaks.html\">官方文档</a>。</p>\n<h3 id=\"toc_7\">delete</h3>\n<p>删除一些断点或自动显示表达式。参数是用空格分隔的断点编号。要删除所有断点，不加参数。</p>\n<p>用法： <code>delete [breakpoints] [list...]</code></p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Delete-Breaks.html\">官方文档</a>。</p>\n<h3 id=\"toc_8\">tbreak</h3>\n<p>设置临时断点。参数形式同 <code>break</code> 一样。</p>\n<p>除了断点是临时的之外，其他同 <code>break</code> 一样，所以在命中时会被删除。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Set-Breaks.html\">官方文档</a>。</p>\n<h3 id=\"toc_9\">watch</h3>\n<p>为表达式设置观察点。</p>\n<p>用法： <code>watch [-l|-location] &lt;expr&gt; </code> 每当一个表达式的值改变时，观察点就会暂停程序执行。</p>\n<p>如果给出了 <code>-l</code> 或者 <code>-location</code>，则它会对 <code>expr</code> 求值并观察它所指向的内存。例如，<code>watch *(int *)0x12345678</code> 将在指定的地址处观察一个 4 字节的区域（假设 int 占用 4 个字节）。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Set-Watchpoints.html\">官方文档</a>。</p>\n<h3 id=\"toc_10\">step</h3>\n<p>单步执行程序，直到到达不同的源码行。</p>\n<p>用法： <code>step [N]</code> 参数 <code>N</code> 表示执行 N 次（或由于另一个原因直到程序停止）。</p>\n<p>警告：如果当控制在没有调试信息的情况下编译的函数中使用 <code>step</code> 命令，则执行将继续进行，直到控制到达具有调试信息的函数。 同样，它不会进入没有调试信息编译的函数。</p>\n<p>要执行没有调试信息的函数，请使用 <code>stepi</code> 命令，详见后文。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Continuing-and-Stepping.html\">官方文档</a>。</p>\n<h3 id=\"toc_11\">reverse-step</h3>\n<p>反向单步执行程序，直到到达另一个源码行的开头。</p>\n<p>用法： <code>reverse-step [N]</code> 参数 <code>N</code> 表示执行 N 次（或由于另一个原因直到程序停止）。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Reverse-Execution.html\">官方文档</a>。</p>\n<h3 id=\"toc_12\">next</h3>\n<p>单步执行程序，执行完子程序调用。</p>\n<p>用法： <code>next [N]</code></p>\n<p>与 <code>step</code> 不同，如果当前的源代码行调用子程序，则此命令不会进入子程序，而是将其视为单个源代码行，继续执行。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Continuing-and-Stepping.html\">官方文档</a>。</p>\n<h3 id=\"toc_13\">reverse-next</h3>\n<p>反向步进程序，执行完子程序调用。</p>\n<p>用法： <code>reverse-next [N]</code></p>\n<p>如果要执行的源代码行调用子程序，则此命令不会进入子程序，调用被视为一个指令。</p>\n<p>参数 <code>N</code> 表示执行 N 次（或由于另一个原因直到程序停止）。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Reverse-Execution.html\">官方文档</a>。</p>\n<h3 id=\"toc_14\">return</h3>\n<p>您可以使用 <code>return</code> 命令取消函数调用的执行。如果你给出一个表达式参数，它的值被用作函数的返回值。</p>\n<p>用法： <code>return &lt;expression&gt; </code> 将 <code>expression</code> 的值作为函数的返回值并使函数直接返回。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Returning.html\">官方文档</a>。</p>\n<h3 id=\"toc_15\">finish</h3>\n<p>执行直到选定的栈帧返回。</p>\n<p>用法： <code>finish</code> 返回后，返回的值将被打印并放入到值历史记录中。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Continuing-and-Stepping.html\">官方文档</a>。</p>\n<h3 id=\"toc_16\">until</h3>\n<p>执行直到程序到达当前栈帧中当前行之后（与 <a href=\"#break\">break</a> 命令相同的参数）的源码行。此命令用于通过一个多次的循环，以避免单步执行。</p>\n<p>用法：<code>until &lt;location&gt; </code> 或 <code>u &lt;location&gt; </code> 继续运行程序，直到达到指定的位置，或者当前栈帧返回。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Continuing-and-Stepping.html\">官方文档</a>。</p>\n<h3 id=\"toc_17\">continue</h3>\n<p>在信号或断点之后，继续运行被调试的程序。</p>\n<p>用法： <code>continue [N]</code> 如果从断点开始，可以使用数字 <code>N</code> 作为参数，这意味着将该断点的忽略计数设置为 <code>N - 1</code>(以便断点在第 N 次到达之前不会中断)。如果启用了非停止模式（使用 <code>show non-stop</code> 查看），则仅继续当前线程，否则程序中的所有线程都将继续。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Continuing-and-Stepping.html\">官方文档</a>。</p>\n<h3 id=\"toc_18\">print</h3>\n<p>求值并打印表达式 EXP 的值。可访问的变量是所选栈帧的词法环境，以及范围为全局或整个文件的所有变量。</p>\n<p>用法：</p>\n<ul>\n<li><code>print [expr]</code> 或 <code>print /f [expr]</code> <code>expr</code> 是一个（在源代码语言中的）表达式。</li>\n</ul>\n<p>默认情况下，<code>expr</code> 的值以适合其数据类型的格式打印；您可以通过指定 <code>/f</code> 来选择不同的格式，其中 <code>f</code> 是一个指定格式的字母；详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Output-Formats.html\">输出格式</a>。</p>\n<p>如果省略 <code>expr</code>，GDB 再次显示最后一个值。</p>\n<p>要以每行一个成员带缩进的格式打印结构体变量请使用命令 <code>set print pretty on</code>，取消则使用命令 <code>set print pretty off</code>。</p>\n<p>可使用命令 <code>show print</code> 查看所有打印的设置。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Data.html\">官方文档</a>。</p>\n<h3 id=\"toc_19\">x</h3>\n<p>检查内存。</p>\n<p>用法： <code>x/nfu &lt;addr&gt; </code> 或 <code>x &lt;addr&gt; </code><code>n</code>、<code>f</code> 和 <code>u</code> 都是可选参数，用于指定要显示的内存以及如何格式化。<code>addr</code> 是要开始显示内存的地址的表达式。</p>\n<p><code>n</code> 重复次数（默认值是 1），指定要显示多少个单位（由 <code>u</code> 指定）的内存值。</p>\n<p><code>f</code> 显示格式（初始默认值是 <code>x</code>），显示格式是 <code>print('x'，'d'，'u'，'o'，'t'，'a'，'c'，'f'，'s')</code> 使用的格式之一，再加 <code>i</code>（机器指令）。</p>\n<p><code>u</code> 单位大小，<code>b</code> 表示单字节，<code>h</code> 表示双字节，<code>w</code> 表示四字节，<code>g</code> 表示八字节。</p>\n<p>例如：</p>\n<p><code>x/3uh 0x54320</code> 表示从地址 0x54320 开始以无符号十进制整数的格式，双字节为单位来显示 3 个内存值。</p>\n<p><code>x/16xb 0x7f95b7d18870</code> 表示从地址 0x7f95b7d18870 开始以十六进制整数的格式，单字节为单位显示 16 个内存值。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Memory.html\">官方文档</a>。</p>\n<h3 id=\"toc_20\">display</h3>\n<p>每次程序暂停时，打印表达式 EXP 的值。</p>\n<p>用法： <code>display &lt;expr&gt;</code>,  <code>display/fmt &lt;expr&gt; </code> 或 <code>display/fmt &lt;addr&gt; </code> <code>fmt</code> 用于指定显示格式。像 <a href=\"#print\">print</a> 命令里的 <code>/f</code> 一样。</p>\n<p>对于格式 <code>i</code> 或 <code>s</code>，或者包括单位大小或单位数量，将表达式 <code>addr</code> 添加为每次程序停止时要检查的内存地址。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Auto-Display.html\">官方文档</a>。</p>\n<h3 id=\"toc_21\">info display</h3>\n<p>打印自动显示的表达式列表，每个表达式都带有项目编号，但不显示其值。</p>\n<p>包括被禁用的表达式和不能立即显示的表达式（当前不可用的自动变量）。</p>\n<h3 id=\"toc_22\">undisplay</h3>\n<p>取消某些表达式在程序暂停时的自动显示。参数是表达式的编号（使用 <code>info display</code> 查询编号）。不带参数表示取消所有自动显示表达式。</p>\n<p><code>delete display</code> 具有与此命令相同的效果。</p>\n<h3 id=\"toc_23\">disable display</h3>\n<p>禁用某些表达式在程序暂停时的自动显示。禁用的显示项目不会被自动打印，但不会被忘记。 它可能稍后再次被启用。</p>\n<p>参数是表达式的编号（使用 <code>info display</code> 查询编号）。不带参数表示禁用所有自动显示表达式。</p>\n<h3 id=\"toc_24\">enable display</h3>\n<p>启用某些表达式在程序暂停时的自动显示。</p>\n<p>参数是重新显示的表达式的编号（使用 <code>info display</code> 查询编号）。不带参数表示启用所有自动显示表达式。</p>\n<h3 id=\"toc_25\">help</h3>\n<p>打印命令列表。</p>\n<p>您可以使用不带参数的 <code>help</code>（缩写为 <code>h</code>）来显示命令的类别名的简短列表。</p>\n<p>使用 <code>help &lt;class&gt; </code> 您可以获取该类中的各个命令的列表。使用 <code>help &lt;command&gt; </code> 显示如何使用该命令。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Help.html\">官方文档</a>。</p>\n<h3 id=\"toc_26\">attach</h3>\n<p>挂接到 GDB 之外的进程或文件。该命令可以将进程 ID 或设备文件作为参数。</p>\n<p>对于进程 ID，您必须具有向进程发送信号的权限，并且必须具有与调试器相同的有效的 uid。</p>\n<p>用法： <code>attach &lt;process-id&gt; </code> GDB 在安排调试指定的进程之后做的第一件事是暂停该进程。</p>\n<p>无论是通过 <code>attach</code> 命令挂接的进程还是通过 <code>run</code> 命令启动的进程，您都可以使用的 GDB 命令来检查和修改挂接的进程。</p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Attach.html\">官方文档</a>。</p>\n<h3 id=\"toc_27\">run</h3>\n<p>启动被调试的程序。</p>\n<p>可以直接指定参数，也可以用 <a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Arguments.html\">set args</a> 设置（启动所需的）参数。</p>\n<p>例如： <code>run arg1 arg2 ...</code> 等效于</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2b5a0acd63568499223\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset args arg1 arg2 ...\r\nrun\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd63568499223-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd63568499223-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd63568499223-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd63568499223-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-e\">args </span><span class=\"crayon-e\">arg1 </span><span class=\"crayon-i\">arg2</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd63568499223-2\"><span class=\"crayon-i\">run</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd63568499223-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>还允许使用 <code>&gt;</code>、 &lt; <code>或 <code>&gt;&gt;</code> 进行输入和输出重定向。</code></p>\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Starting.html\">官方文档</a>。</p>\n<h3 id=\"toc_28\">backtrace</h3>\n<p>打印整体栈帧信息。</p>\n<ul>\n<li><code>bt</code> 打印整体栈帧信息，每个栈帧一行。</li>\n<li><code>bt n</code> 类似于上，但只打印最内层的 n 个栈帧。</li>\n<li><code>bt -n</code> 类似于上，但只打印最外层的 n 个栈帧。</li>\n<li><code>bt full n</code> 类似于 <code>bt n</code>，还打印局部变量的值。</li>\n</ul>\n<p><code>where</code> 和 <code>info stack</code>(缩写 <code>info s</code>) 是 <code>backtrace</code> 的别名。调用栈信息类似如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2b5a0acd76904502988\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n(gdb) where\r\n#0  vconn_stream_run (vconn=0x99e5e38) at lib/vconn-stream.c:232\r\n#1  0x080ed68a in vconn_run (vconn=0x99e5e38) at lib/vconn.c:276\r\n#2  0x080dc6c8 in rconn_run (rc=0x99dbbe0) at lib/rconn.c:513\r\n#3  0x08077b83 in ofconn_run (ofconn=0x99e8070, handle_openflow=0x805e274 &lt;handle_openflow&gt;) at ofproto/connmgr.c:1234\r\n#4  0x08075f92 in connmgr_run (mgr=0x99dc878, handle_openflow=0x805e274 &lt;handle_openflow&gt;) at ofproto/connmgr.c:286\r\n#5  0x08057d58 in ofproto_run (p=0x99d9ba0) at ofproto/ofproto.c:1159\r\n#6  0x0804f96b in bridge_run () at vswitchd/bridge.c:2248\r\n#7  0x08054168 in main (argc=4, argv=0xbf8333e4) at vswitchd/ovs-vswitchd.c:125\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd76904502988-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd76904502988-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd76904502988-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd76904502988-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd76904502988-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd76904502988-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd76904502988-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd76904502988-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd76904502988-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd76904502988-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd76904502988-1\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">where</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd76904502988-2\"><span class=\"crayon-p\">#0  vconn_stream_run (vconn=0x99e5e38) at lib/vconn-stream.c:232</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd76904502988-3\"><span class=\"crayon-p\">#1  0x080ed68a in vconn_run (vconn=0x99e5e38) at lib/vconn.c:276</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd76904502988-4\"><span class=\"crayon-p\">#2  0x080dc6c8 in rconn_run (rc=0x99dbbe0) at lib/rconn.c:513</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd76904502988-5\"><span class=\"crayon-p\">#3  0x08077b83 in ofconn_run (ofconn=0x99e8070, handle_openflow=0x805e274 &lt;handle_openflow&gt;) at ofproto/connmgr.c:1234</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd76904502988-6\"><span class=\"crayon-p\">#4  0x08075f92 in connmgr_run (mgr=0x99dc878, handle_openflow=0x805e274 &lt;handle_openflow&gt;) at ofproto/connmgr.c:286</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd76904502988-7\"><span class=\"crayon-p\">#5  0x08057d58 in ofproto_run (p=0x99d9ba0) at ofproto/ofproto.c:1159</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd76904502988-8\"><span class=\"crayon-p\">#6  0x0804f96b in bridge_run () at vswitchd/bridge.c:2248</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd76904502988-9\"><span class=\"crayon-p\">#7  0x08054168 in main (argc=4, argv=0xbf8333e4) at vswitchd/ovs-vswitchd.c:125</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd76904502988-10\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Backtrace.html\">官方文档</a>。</p>\n<h3 id=\"toc_29\">ptype</h3>\n<p>打印类型 TYPE 的定义。</p>\n<p>用法： <code>ptype[/FLAGS] TYPE-NAME | EXPRESSION</code></p>\n<p>参数可以是由 <code>typedef</code> 定义的类型名， 或者 <code>struct STRUCT-TAG</code> 或者 <code>class CLASS-NAME</code> 或者 <code>union UNION-TAG</code> 或者 <code>enum ENUM-TAG</code>。</p>\n<p>根据所选的栈帧的词法上下文来查找该名字。</p>\n<p>类似的命令是 <code>whatis</code>，区别在于 <code>whatis</code> 不展开由 <code>typedef</code> 定义的数据类型，而 <code>ptype</code> 会展开，举例如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2b5a0acd7c470383258\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/* 类型声明与变量定义 */\r\ntypedef double real_t;\r\nstruct complex {\r\n    real_t real;\r\n    double imag;\r\n};\r\ntypedef struct complex complex_t;\r\n\r\ncomplex_t var;\r\nreal_t *real_pointer_var;\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7c470383258-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7c470383258-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7c470383258-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7c470383258-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7c470383258-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7c470383258-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-1\"><span class=\"crayon-c\">/* 类型声明与变量定义 */</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7c470383258-2\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">real_t</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-3\"><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7c470383258-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">real_t </span><span class=\"crayon-v\">real</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">imag</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7c470383258-6\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-7\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex </span><span class=\"crayon-v\">complex_t</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7c470383258-8\"> </div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-9\"><span class=\"crayon-e\">complex_t </span><span class=\"crayon-t\">var</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7c470383258-10\"><span class=\"crayon-e \">real_t *</span><span class=\"crayon-v\">real_pointer_var</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7c470383258-11\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>这两个命令给出了如下输出：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2b5a0acd7f629229731\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n(gdb) whatis var\r\ntype = complex_t\r\n(gdb) ptype var\r\ntype = struct complex {\r\n    real_t real;\r\n    double imag;\r\n}\r\n(gdb) whatis complex_t\r\ntype = struct complex\r\n(gdb) whatis struct complex\r\ntype = struct complex\r\n(gdb) ptype struct complex\r\ntype = struct complex {\r\n    real_t real;\r\n    double imag;\r\n}\r\n(gdb) whatis real_pointer_var\r\ntype = real_t *\r\n(gdb) ptype real_pointer_var\r\ntype = double *\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2b5a0acd7f629229731-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59e2b5a0acd7f629229731-21\">21</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-1\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whatis </span><span class=\"crayon-t\">var</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-2\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex_t</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-3\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ptype </span><span class=\"crayon-t\">var</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-4\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">real_t </span><span class=\"crayon-v\">real</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">imag</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-7\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-8\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whatis </span><span class=\"crayon-e\">complex_t</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-9\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-10\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whatis </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-11\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-12\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ptype </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-13\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">real_t </span><span class=\"crayon-v\">real</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">double</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">imag</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-16\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-17\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">whatis </span><span class=\"crayon-e\">real_pointer_var</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-18\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">real_t *</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-19\"><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ptype </span><span class=\"crayon-e\">real_pointer_var</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2b5a0acd7f629229731-20\"><span class=\"crayon-v\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">double</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span></div><div class=\"crayon-line\" id=\"crayon-59e2b5a0acd7f629229731-21\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>详见<a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/Symbols.html\">官方文档</a>。</p>\n<hr>\n<h3 id=\"toc_30\">参考资料</h3>\n<ul>\n<li><a href=\"https://sourceware.org/gdb/current/onlinedocs/gdb/\">Debugging with GDB</a></li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112547\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112547votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112547\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "常用 GDB 命令中文速览", "front_image_path": "full/0d4192df99abd0f294a9eade3688a9b7ce6caa0e.jpg"},{"url": "http://blog.jobbole.com/112614/", "fav_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/22f63f78e9c9f35b288f0634be3a89f5.gif"], "comment_nums": 0, "url_object_id": "b18b989eea213ef86d7e7c511524388d", "create_date": "2017-10-13", "praise_nums": "1", "tags": "IT技术,数据库", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://blog.timescale.com/why-sql-beating-nosql-what-this-means-for-future-of-data-time-series-database-348b777b847a\">Ajay Kulkarni</a>   译文出处：<a target=\"_blank\" href=\"http://geek.csdn.net/news/detail/238939\">Vincent</a>   </div><p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/22f63f78e9c9f35b288f0634be3a89f5.gif\" alt=\"\"></p>\n<p>自从可以利用计算机做事以来，我们一直在收集的数据以指数级的速度在增长，因此对于数据存储、处理和分析技术的要求也越来越高。在过去的十年里，由于SQL无法满足这些要求，软件开发人员就抛弃了它，NoSQL也就因此而渐渐发展起来：MapReduce，Bigtable，Cassandra，MongoDB等等。</p>\n<p>然而，如今SQL正在重新复出。云端的主要供应商们现在都提供了广受大众欢迎的托管关系型数据库服务：例如<a href=\"https://aws.amazon.com/rds/\">Amazon RDS</a>，<a href=\"https://cloud.google.com/sql/docs/\">谷歌Cloud SQL</a>，<a href=\"https://azure.microsoft.com/en-us/services/postgresql/\">Azure的PostgreSQL数据库</a>(Azure将于今年发布)。用亚马逊自己的话来说就是Aurora数据库结合了PostgreSQL和mysql数据库，因此该产品一直是“<a href=\"http://www.businesswire.com/news/home/20161130006131/en/AWS-Extends-Amazon-Aurora-PostgreSQL-Compatibility\">AWS历史上增长最快的服务</a>”。在Hadoop和Spark之上的SQL接口继续蓬勃发展。就在上个月，<a href=\"https://www.confluent.io/blog/ksql-open-source-streaming-sql-for-apache-kafka/\">Kafka推出了SQL支持</a>。</p>\n<p>在这篇文章中，我们将研究SQL现在为什么会复出的原因，以及这对未来的数据社区工程和分析意味着什么。</p>\n<h1>第一章：新希望</h1>\n<p>为了理解为什么SQL会卷土重来，让我们先了解一下最初设计它的原因。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/72951783ccb91647b0b1ebee30d50620.gif\" alt=\"\"></p>\n<p>好的故事都是起源于20世纪70年代</p>\n<p>我们的故事始于20世纪70年代早期的IBM研究，那时关系型数据库就诞生了。当时的查询语言依赖于复杂的数学逻辑和符号。Donald Chamberlin和Raymond Boyce两个人刚刚完成哲学博士学位，对关系型数据模型印象深刻，但是发现查询语言将成为其发展的一个主要瓶颈。于是他们便开始设计一种新的查询语言(用他们自己的话说)：“<a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=6359709\">让那些没有接受过数学和计算机编程方面正规训练的用户更容易使用</a>”。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/05572bb1723acf75c70333b932d338c1.png\" alt=\"\"></p>\n<p style=\"text-align: center\">两个查询语言的比较 © (<a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=6359709\">source</a>)</p>\n<p>仔细想想这件事。在互联网出现之前，在个人电脑出现之前，当编程语言C首次被引入世界时，两位年轻的计算机科学家意识到，“<a href=\"http://www.almaden.ibm.com/cs/people/chamberlin/sequel-1974.pdf\">计算机行业的成功很大程度上依赖于培养一种除了训练有素的计算机专家以外的用户</a>。”他们想要的是一种像英语一样易于阅读的查询语言，这也将包括数据库管理和操作。</p>\n<p>其结果就是在1974年首次将SQL引入世界。在接下来的几十年里，SQL将被证明是非常受欢迎的。随着诸如System R、Ingres、DB2、Oracle、SQL Server、PostgreSQL、MySQL(等等)关系型数据库接管了软件行业，SQL也成为了与数据库交互的卓越语言，成为了一个日益拥挤、竞争激烈的生态系统的通用语言。</p>\n<p>（遗憾的是，Raymond Boyce从来没有机会见证SQL的成功。1个月后<a href=\"https://en.wikipedia.org/wiki/Raymond_F._Boyce\">他便死于脑动脉瘤</a>，只做了一个最早的SQL演讲，当时他只有26岁，留下了一个妻子和一个年轻的女儿。）</p>\n<p>有一段时间，似乎SQL成功地完成了它的任务。但后来互联网发生了。</p>\n<h1>第二章：NoSQL的反击</h1>\n<p>在Chamberlin和Boyce都在开发SQL的同时，令他们没有想到的是在加州的第二组工程师正在研究另一个正在萌芽的项目，该项目后来会广泛扩散并威胁到SQL的存在。这个项目就是<a href=\"https://en.wikipedia.org/wiki/ARPANET\">阿帕网</a>，1969年10月29日，<a href=\"http://all-that-is-interesting.com/internet-history\">它诞生了</a>。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/b027676ce3d4e5a5566c55927e1a77fc.png\" alt=\"\"></p>\n<p style=\"text-align: center\">ARPANET的一些创造者，最终演变成今天的互联网(<a href=\"http://all-that-is-interesting.com/internet-history\">来源</a>)</p>\n<p>SQL一直发展的都很好，但是直到1989年，另一个工程师出现并发明了<a href=\"https://en.wikipedia.org/wiki/World_Wide_Web\">万维网</a>。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e0df1de91fb9ad4f9bbcf503b2a2aa30.png\" alt=\"\"></p>\n<p style=\"text-align: center\">发明网络的物理学家(<a href=\"https://webfoundation.org/about/vision/history-of-the-web/\">来源</a>)</p>\n<p>像那些茂密的野草一样，互联网和网络蓬勃发展，极大地扰乱了我们的世界，但对于数据社区来说，它还造成了一个特别的麻烦:跟以前相比，新的数据源以更高的数量和速度生成数据。</p>\n<p>随着互联网的不断发展，软件社区发现，当时的关系型数据库无法处理这一新的负载。<em>因此出现了一阵骚动的力量，就好像一百万个数据库突然过载了。</em></p>\n<p>然后，两个新的互联网巨人取得了突破，并开发了他们自己的非关系型分布式系统来帮助解决这一新的数据冲击：由谷歌发布的<strong>MapReduce</strong>(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf\">2004年出版</a>)和<strong>Bigtable</strong>(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/bigtable-osdi06.pdf\">2006年出版</a>)，以及亚马逊(Amazon)发布的 <strong>Dynamo</strong> (<a href=\"http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf\">2007出版</a>)。这些开创性的论文导致出现了更多的非关系数据库，包括<strong>Hadoop</strong>(基于MapReduce文件，<a href=\"https://en.wikipedia.org/wiki/Apache_Hadoop\">2006</a>)，<strong>Cassandra</strong>(受Bigtable和Dynamo文件的启发，<a href=\"https://en.wikipedia.org/wiki/Apache_Cassandra\">2008年</a>)和<strong>MongoDB</strong>(<a href=\"https://en.wikipedia.org/wiki/MongoDB\">2009</a>)。因为这些新系统基本上都是从零开始编写的，所以它们也没有使用SQL，导致了NoSQL运动的兴起。</p>\n<p>开发者社区的软件工程师们也接受了NoSQL，而且跟SQL当时的出现相比，接受的群众范围更广了。这个原因很容易理解：NoSQL是现在流行的；它承诺了规模和权力；这似乎是项目通往成功的捷径。但后来出现了问题。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/40e1f5a569b1cb3e45d9c9d56bf25653.gif\" alt=\"\"></p>\n<p style=\"text-align: center\">典型的被NoSQL诱惑的软件开发人员。不要学这家伙。</p>\n<p>开发人员很快发现，没有SQL实际上是非常有限的。。每个NoSQL数据库都提供了自己独特的查询语言，这意味着：学习更多的语言(并在同事之间传播知识);增加了将数据库连接到应用程序的难度，导致代码之间有很强的耦合性;缺乏第三方生态系统，需要公司开发自己的操作和可视化工具。</p>\n<p>这些NoSQL语言是新的，但也没有完全开发出来。例如，关系型数据库已经运行很多年了，像为SQL添加必要的特性(例如JOIN)这些工作早都已经完成了;NoSQL语言的不成熟意味着在应用程序级别就会有更多的复杂性。缺乏JOIN也导致了反规格化，从而又导致数据膨胀和僵化。</p>\n<p>一些NoSQL数据库添加了自己的“类sql”查询语言，比如Cassandra的CQL。但这常常会使问题变得更糟。如果使用跟别的东西完全一样的界面，如果越常见，实际上会导致心理产生更多的疑问：工程师压根就不知道支持什么，不支持什么。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/788e6f314d2276358ead9cef3281be6f.gif\" alt=\"\"></p>\n<p style=\"text-align: center\">类sql的查询语言就像<a href=\"https://www.youtube.com/watch?v=ZX0x-I06Fpc\">《星球大战》假日特别节目</a>。接受不模仿。</p>\n<p style=\"text-align: center\">(<a href=\"https://xkcd.com/653/\">而且总是避免《星球大战》的特别节目</a>)</p>\n<p>社区中的一些人在早期就看到了NoSQL的问题（<a href=\"https://homes.cs.washington.edu/~billhowe/mapreduce_a_major_step_backwards.html\">例如德维特和斯通布雷克在2008年就发现了</a>）。随着时间的推移，通过使用过程中个人经验的辛苦积累，越来越多的软件开发人员也同意了这一点。</p>\n<h1>第三章：SQL的回归</h1>\n<p>最初被黑暗势力所诱惑的软件社区开始看到了光明，SQL也上演了英雄回归的一幕。</p>\n<p>首先是Hadoop上的SQL接口(Spark之后也是)，导致该行业兴起了NoSQL，NoSQL表示“不只是SQL”(Not Only SQL)。</p>\n<p>紧接着NewSQL兴起了：完全接纳了SQL的新的可扩展数据库。来自于麻省理工学院(MIT)和布朗大学(Brown)研究人员的<strong>H-Store</strong>(<a href=\"http://hstore.cs.brown.edu/papers/hstore-demo.pdf\">2008年出版</a>)是最早的扩展OLTP数据库之一。谷歌再次引领了风向标，根据他们的<strong>Spanner</strong> 论文（<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/spanner-osdi2012.pdf\">出版于2012年</a>）（其作者包括原始的MapReduce作者）开创了地缘重复的SQL界面的数据库，其次再是<strong>CockroachDB</strong>（<a href=\"https://en.wikipedia.org/wiki/Cockroach_Labs\">2014</a>）这样的其他先驱者。</p>\n<p>与此同时，PostgreSQL社区开始复苏，添加了一些关键的改进，比如JSON数据类型(2012)，以及<a href=\"https://wiki.postgresql.org/wiki/New_in_postgres_10\">PostgreSQL 10</a>中的新特性的potpourri：对分区和复制更好的本地支持，支持对JSON的全文搜索，以及其它更多的特性(定于今年晚些时候发布的版本)。其他如<strong>CitusDB</strong>(<a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">2016</a>)以及其他的公司(<a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">今年发布</a>的<strong><a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">TimescaleDB</a></strong>)找到了新方法从而针对特定数据工作负载的扩展PostgreSQL。<br>\n<img title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e1263fac9bef0ad66e743bcedef06752.png\" alt=\"\"></p>\n<p>事实上，我们开发<strong><a href=\"https://github.com/timescale/timescaledb\">TimescaleDB</a></strong>的过程与这个行业的发展轨迹是密切相关。早期的TimescaleDB内部版本使用了我们自己的类sql查询语言“ioQL”。是的，我们也没能抵挡住黑暗一面的诱惑:我们感觉能够构建自己的查询语言应该会非常强大。然而，尽管这似乎是一条简单的道路，但我们很快意识到其实需要做更多的工作。我们还发现自己需要不断地去查找合适的语法，去查询那些已经可以用SQL进行查询的内容。</p>\n<p>有一天，我们意识到构建自己的查询语言毫无意义。最关键的还是要接受SQL。这是我们做出的最好的设计决定之一。顿时，一个全新的世界出现了。现在尽管我们的数据库才问世5个月,但是用户却可以在生产环境上使用我们的数据库，还有很多其他的美好事物:可视化工具(Tableau),与常见的ORM的连接器,各种工具和备份选项,丰富的在线教程和语法解释等等。</p>\n<h1>信谷歌，得永生</h1>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/b27ea29357f08bd86515851503e79123.png\" alt=\"\"></p>\n<p>谷歌已经在数据工程和基础架构领域领先了十多年了。我们应该密切关注他们正在做的事情。</p>\n<p>看看谷歌的第二大<strong>Spanner</strong>论文，就在四个月前发布的(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46103.pdf\">Spanner:成为一个SQL系统</a>，2017年5月)，你会发现它支持我们的发现成果。</p>\n<p>例如，谷歌开始的时候是在Bigtable上面构建，但后来发现不用SQL会造成很多问题(强调了我们下面的所有引用):</p>\n<blockquote><p>虽然这些系统提供了数据库系统的某些优点，但它们缺少许多应用程序开发人员经常依赖的传统数据库特性。<strong>举一个关键的例子就是一个健壮的查询语言</strong>，这意味着开发人员必须编写复杂的代码来处理和聚合应用程序中的数据。<strong>因此，我们决定将Spanner变成一个完整的SQL系统</strong>，查询执行与Spanner的其他架构特性紧密集成(例如强一致性和全局复制)。</p></blockquote>\n<p>在论文的后面，他们进一步抓住了从NoSQL过渡到SQL的基本原理:</p>\n<blockquote><p>Spanner的原始API提供了对单个和交叉表的点查找和范围扫描的NoSQL方法。虽然NoSQL方法提供了一个简单的启动扳手的方法，并且在简单的检索场景中继续有用，但是SQL在表达更复杂的数据访问模式和将计算推到数据上提供了重要的附加价值。</p></blockquote>\n<p>本文还描述了SQL的采用是如何在扳手上不停止的，但实际上扩展到了谷歌的其余部分，这里的多个系统现在共享一个通用的SQL方言:</p>\n<blockquote><p>扳手的SQL引擎共享一个共同的SQL方言,称为“标准SQL”,与其他几个系统在谷歌上钻包括内部系统如F1和小孔(等)和外部系统如BigQuery…</p>\n<p>对于谷歌的用户来说，这降低了跨系统工作的障碍。一个开发人员或数据分析人员编写了针对Spanner数据库的SQL，可以将他们对该语言的理解转移到Dremel，而不必担心语法、空处理等细微的差异。</p></blockquote>\n<p>这种方法的成功不言自明。Spanner已经成为主要谷歌系统的“真相之源”，包括AdWords和谷歌游戏，而“潜在的云客户对使用SQL非常感兴趣”。</p>\n<p>考虑到谷歌首先帮助发起了NoSQL运动，很值得注意的是，它现在正在接受SQL。(导致一些人最近想:“谷歌在10年的假时间里发送了大数据产业吗?”)</p>\n<h1>这对数据的未来意味着什么:SQL将变成细腰</h1>\n<p>在计算机网络中，有一个概念叫做“细腰结构”。</p>\n<p>这个想法的出现解决了一个关键问题:在任何给定的网络设备上，想象一个堆栈，底层的硬件层和顶部的软件层。中间可能会存在各种网络硬件;同样，也存在存在各种各样的软件和应用程序。需要某种可以确保无论硬件发生了什么情况，软件仍然可以连接到网络的方法;同样的也能确保无论软件发生什么，网络硬件都知道如何处理网络请求。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/c10ce6a68e20e57c787edd1f6341e7b2.png\" alt=\"\"></p>\n<p>在网络中，细腰的角色由<a href=\"https://en.wikipedia.org/wiki/Internet_Protocol\">互联网协议(IP)</a>扮演，它是为局域网设计的底层联网协议和更高级别的应用程序和传输协议的公共接口。(<a href=\"https://www.youtube.com/watch?v=uXumm52oBMo\">这是一个很好的解释</a>。)而且(在一个广泛的简化中)，这个公共接口成为了计算机的通用语言，使网络能够相互连接，设备可以通信，而这种“网络网络”可以发展成为今天丰富多样的互联网。</p>\n<p><strong>我们认为SQL已经成为数据分析的细腰。</strong></p>\n<p>我们生活的时代，数据正在成为“世界上最有价值的资源”(<a href=\"https://www.economist.com/news/leaders/21721656-data-economy-demands-new-approach-antitrust-rules-worlds-most-valuable-resource\">《经济学人》，2017年5月</a>)。因此,我们看到了专业数据库(OLAP、时间序列、文档、图表等)，数据处理工具(Hadoop,Spark,Flink),数据总线(Kafka,RabbitMQ)等呈现出了寒武纪大爆发式的情形。我们也有了更多需要依靠这些数据基础设施的应用程序,无论是第三方数据可视化工具(Tableau,Grafana PowerBI,Superset),web框架(Rails,Django)或定制的数据驱动的应用程序。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/ffffebb9ec5cbd41d7c66b3f39209ffc.png\" alt=\"\"></p>\n<p>像网络一样，我们也有一个复杂的堆栈，底层的基础设施和顶部的应用程序。通常，我们最终会编写大量的胶水代码来完成这个堆栈工作。但是胶水代码可能很脆弱:需要精心的运维。</p>\n<p>我们需要的是一个公共接口，允许堆栈的各个部分彼此通信。理想情况下，这个行业已经标准化了。它能让不同层之间的通信阻碍能够降到最小。</p>\n<p>这就是SQL的力量。和IP一样，SQL也是一个公共接口。</p>\n<p>但SQL实际上比IP复杂得多。因为数据还需要支持人类分析。而且，SQL创建者最初给它设定的目标之一就是可读性要高。</p>\n<p>SQL是完美的吗?不，但社区中的大多数人都已经了解了这门语言。虽然已经有工程师在开发更自然的语言界面，但是这些系统最终会连接到哪里?还是SQL。</p>\n<p>所以在堆栈的顶部还有一层。那一层就是我们人类。</p>\n<h1>SQL回归</h1>\n<p>SQL回来了。不只是因为在组装NoSQL工具时编写胶水代码的做法十分令人反感。不仅仅是因为学习各种各样的新语言是困难的。也不只是因为标准会带来各种优点。</p>\n<p>也因为这个世界充满了数据。它包围着我们，束缚着我们。起初，我们依靠人类的感觉神经系统来处理它。现在，软件和硬件系统也变得足够智能，可以帮助我们。随着收集的数据越来越多，我们也可以更好地认识这个世界，系统的复杂性、存储、处理、分析以及对这些数据可视化的需求只会继续增长。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/067cfbb7c99c2c08bee927e5e293beea.gif\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>数据科学家尤达大师</em></p>\n<p>我们可以生活在满大街的系统都是如纸一般脆弱，接口量达到数百万个的世界里。 或者我们可以再次选择SQL，这样我们生活的世界也可能会变得越来越强大。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112614\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112614votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112614\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "为什么 SQL 正在击败 NoSQL，数据的未来是什么？", "front_image_path": "full/2ec6535412daa2cec5d9b2d0b3f0ebbab16ae266.jpg"},{"url": "http://blog.jobbole.com/112576/", "fav_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/11/e78e36715813f49e9e62fe0c6050075c.png"], "comment_nums": 0, "url_object_id": "94e7b98beb7395fd8eef07a86373c9f9", "create_date": "2017-10-03", "praise_nums": "1", "tags": "IT技术,MySQL,数据库", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.percona.com/blog/2017/09/19/proxysql-improves-mysql-ssl-connections/\">Percona</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/proxysql-improves-mysql-ssl-connections\">开源中国</a>   </div><p>在这篇博文里，我们准备来看一下 ProxySQL 是如何提高 MySQL 的 SSL 连接性能的。</p>\n<p>当用 SSL 部署 MySQL 时，主要的问题是如果没有使用连接池（例如：PHP 中的 mysqlnd-mux，python中 的 mysql.connector.pooling 等等），初始握手会造成大量的开销。不断的关闭连接、创建新的连接会对你的查询时间造成很大的影响。客户和同事最近让我知道了，虽然你可以用现代的英特尔处理器 AES-NI 硬件扩展来提升 SSL 加密/解密性能，但实际上，建立 SSL 连接时的开销来自于多次服务器和客户端建立连接时需要的握手。</p>\n<p>使用 ProxySQL 支持 SSL 的后端连接和连接池，我们可以将它应用在任何应用程序上、同一个服务器（说明如下）：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/0ff1c84684fcf49df0e2098f6d674cb8.png\"></p>\n<p>在这种情况下，ProxySQL 运行在同一台服务器上的一个应用下，并且通过本地套接字与 MySQL 连接。MySQL 数据就不需要通过不安全的 TCP 流进行传输了。</p>\n<p>我使用一个 PHP 脚本简单地在一个单线程中创建了 1 万个连接，来看看性能表现如何：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d8551cb74257962819\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-mixed-highlight\" title=\"含多种语言\"></span><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;?php $i = 10000;\r\n$user = 'percona';\r\n$pass = 'percona';\r\nwhile($i&gt;=0) {\r\n$mysqli = mysqli_init();\r\n// Use SSL\r\n//$link = mysqli_real_connect($mysqli, \"192.168.56.110\", $user, $pass, \"\", 3306, \"\", MYSQL_CLIENT_SSL)\r\n// No SSL\r\n//$link = mysqli_real_connect($mysqli, \"192.168.56.110\", $user, $pass, \"\", 3306 )\r\n// OpenVPN\r\n//$link = mysqli_real_connect($mysqli, \"10.8.99.1\",      $user, $pass, \"\", 3306 )\r\n// ProxySQL\r\n$link = mysqli_real_connect($mysqli, \"localhost\",      $user, $pass, \"\", 6033, \"/tmp/proxysql.sock\")\r\nor die(mysqli_connect_error());\r\n$info = mysqli_get_host_info($mysqli);\r\n$i--;\r\nmysqli_close($mysqli);\r\nunset($mysqli);\r\n}\r\n?&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb74257962819-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb74257962819-20\">20</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-1\"><span class=\"crayon-ta\">&lt;?php</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">$i</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-cn\">10000</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-2\"><span class=\"crayon-v\">$user</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-s\">'percona'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-3\"><span class=\"crayon-v\">$pass</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-s\">'percona'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-4\"><span class=\"crayon-st\">while</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$i</span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span> <span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-5\"><span class=\"crayon-v\">$mysqli</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-e\">mysqli_init</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-6\"><span class=\"crayon-c\">// Use SSL</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-7\"><span class=\"crayon-c\">//$link = mysqli_real_connect($mysqli, \"192.168.56.110\", $user, $pass, \"\", 3306, \"\", MYSQL_CLIENT_SSL)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-8\"><span class=\"crayon-c\">// No SSL</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-9\"><span class=\"crayon-c\">//$link = mysqli_real_connect($mysqli, \"192.168.56.110\", $user, $pass, \"\", 3306 )</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-10\"><span class=\"crayon-c\">// OpenVPN</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-11\"><span class=\"crayon-c\">//$link = mysqli_real_connect($mysqli, \"10.8.99.1\",      $user, $pass, \"\", 3306 )</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-12\"><span class=\"crayon-c\">// ProxySQL</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-13\"><span class=\"crayon-v\">$link</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-e\">mysqli_real_connect</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$mysqli</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-s\">\"localhost\"</span><span class=\"crayon-sy\">,</span>      <span class=\"crayon-v\">$user</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-v\">$pass</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-s\">\"\"</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-cn\">6033</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-s\">\"/tmp/proxysql.sock\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-14\"><span class=\"crayon-st\">or</span> <span class=\"crayon-k \">die</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">mysqli_connect_error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-15\"><span class=\"crayon-v\">$info</span> <span class=\"crayon-o\">=</span> <span class=\"crayon-e\">mysqli_get_host_info</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$mysqli</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-16\"><span class=\"crayon-v\">$i</span><span class=\"crayon-o\">--</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-17\"><span class=\"crayon-e\">mysqli_close</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$mysqli</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-18\"><span class=\"crayon-k \">unset</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$mysqli</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb74257962819-19\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb74257962819-20\"><span class=\"crayon-ta\">?&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0072 seconds] -->\r\n<p>没有使用 SSL 直接连接 MySQL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d8551cb7e124815596\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@ad ~]# time php php-test.php\r\nreal 0m20.417s\r\nuser 0m0.201s\r\nsys 0m3.396s</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb7e124815596-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb7e124815596-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb7e124815596-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb7e124815596-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d8551cb7e124815596-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">ad</span> <span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># time php php-test.php</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb7e124815596-2\"><span class=\"crayon-i\">real</span> <span class=\"crayon-cn\">0m20.417s</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb7e124815596-3\"><span class=\"crayon-i\">user</span> <span class=\"crayon-cn\">0m0.201s</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb7e124815596-4\"><span class=\"crayon-i\">sys</span> <span class=\"crayon-cn\">0m3.396s</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>使用 SSL 直接连接 MySQL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d8551cb82285291755\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@ad ~]# time php php-test.php\r\nreal1m19.922s\r\nuser0m29.933s\r\nsys0m9.550s</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb82285291755-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb82285291755-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb82285291755-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb82285291755-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d8551cb82285291755-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">ad</span> <span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># time php php-test.php</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb82285291755-2\"><span class=\"crayon-v\">real1m19</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">922s</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb82285291755-3\"><span class=\"crayon-v\">user0m29</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">933s</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb82285291755-4\"><span class=\"crayon-v\">sys0m9</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">550s</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>在 OpenVPN 隧道下没有使用 SSL 直接连接 MySQL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d8551cb85552187131\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@ad ~]# time php php-test.php\r\nreal 0m15.161s\r\nuser 0m0.493s\r\nsys 0m0.803s</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb85552187131-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb85552187131-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb85552187131-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb85552187131-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d8551cb85552187131-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">ad</span> <span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># time php php-test.php</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb85552187131-2\"><span class=\"crayon-i\">real</span> <span class=\"crayon-cn\">0m15.161s</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb85552187131-3\"><span class=\"crayon-i\">user</span> <span class=\"crayon-cn\">0m0.493s</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb85552187131-4\"><span class=\"crayon-i\">sys</span> <span class=\"crayon-cn\">0m0.803s</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>接下来，使用 ProxySQL 通过本地套接字文件连接：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59e2d8551cb89292138953\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@ad ~]# time php php-test.php\r\nreal0m2.791s\r\nuser0m0.402s\r\nsys0m0.436s</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb89292138953-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb89292138953-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59e2d8551cb89292138953-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59e2d8551cb89292138953-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59e2d8551cb89292138953-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">ad</span> <span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># time php php-test.php</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb89292138953-2\"><span class=\"crayon-v\">real0m2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">791s</span></div><div class=\"crayon-line\" id=\"crayon-59e2d8551cb89292138953-3\"><span class=\"crayon-v\">user0m0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">402s</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59e2d8551cb89292138953-4\"><span class=\"crayon-v\">sys0m0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">436s</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>下面是这些数据的对比图:</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5d3dfb8dfe9f1d74d109dc32e17dea5c.png\"></p>\n<p>如你所见，使用 SSL 和不使用 SSL 情况下的开销差距大约是 400% —— 对某些负载来说还是很可怕的。</p>\n<p>通过 OpenVPN 连接大体上都比 SSL 好。有趣的是，OpenVPN 服务器需要部署在另一台服务器上，与 MySQL 服务器和应用分开。</p>\n<p>这种方法允许应用服务器和 MySQL 服务器（包括副本/集群节点）在同一个安全网络上进行通信，但会创建一个单一的故障点。另外，当有一个新的远程 master 的时候，在 MySQL 服务器上部署 OpenVPN 意味着如果你要新增一个额外的高可用性能的扩展会变得相当复杂。总之，OpenVPN 增加了许多额外的部件。</p>\n<p>ProxySQL 的漂亮之处在于，你可以在所有应用程序服务器运行它，只要将其指向到正确的 MySQL 服务器（主服务器）即可正常工作，或者使用复制组功能来识别权威主机。</p>\n<p>最后，需要注意的是，这些测试都是在 CentOS 7.3 + OpenSSL 1.0.1e + <a href=\"https://www.percona.com/software/mysql-database/percona-server\" target=\"_blank\" rel=\"nofollow\">Percona Server for MySQL 5.7.19</a> + ProxySQL 1.4.1 + PHP 5.4 + OpenVPN 2.4.3 上面进行的。</p>\n<p>祝您使用愉快。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112576\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112576votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112576\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "title": "使用 ProxySQL 改进 MySQL SSL 的连接性能", "front_image_path": "full/35011d6168be00e949624c665041dc724e3ad786.jpg"}]